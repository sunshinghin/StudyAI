(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();var Ud={exports:{}},Tl={};var J_;function $b(){if(J_)return Tl;J_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Tl.Fragment=e,Tl.jsx=i,Tl.jsxs=i,Tl}var Z_;function Jb(){return Z_||(Z_=1,Ud.exports=$b()),Ud.exports}var S=Jb(),Pd={exports:{}},be={};var W_;function Zb(){if(W_)return be;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,ee={};function ce(M,$,ie){this.props=M,this.context=$,this.refs=ee,this.updater=ie||Y}ce.prototype.isReactComponent={},ce.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},ce.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ge(){}ge.prototype=ce.prototype;function de(M,$,ie){this.props=M,this.context=$,this.refs=ee,this.updater=ie||Y}var je=de.prototype=new ge;je.constructor=de,W(je,ce.prototype),je.isPureReactComponent=!0;var ze=Array.isArray;function Ce(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(M,$,ie){var ae=ie.ref;return{$$typeof:r,type:M,key:$,ref:ae!==void 0?ae:null,props:ie}}function V(M,$){return C(M.type,$,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return $[ie]})}var R=/\/+/g;function et(M,$){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):$.toString(36)}function ht(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ce,Ce):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,$,ie,ae,_e){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Pe=!1;if(M===null)Pe=!0;else switch(Re){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(M.$$typeof){case r:case e:Pe=!0;break;case T:return Pe=M._init,F(Pe(M._payload),$,ie,ae,_e)}}if(Pe)return _e=_e(M),Pe=ae===""?"."+et(M,0):ae,ze(_e)?(ie="",Pe!=null&&(ie=Pe.replace(R,"$&/")+"/"),F(_e,$,ie,"",function(cs){return cs})):_e!=null&&(O(_e)&&(_e=V(_e,ie+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(R,"$&/")+"/")+Pe)),$.push(_e)),1;Pe=0;var Dt=ae===""?".":ae+":";if(ze(M))for(var st=0;st<M.length;st++)ae=M[st],Re=Dt+et(ae,st),Pe+=F(ae,$,ie,Re,_e);else if(st=G(M),typeof st=="function")for(M=st.call(M),st=0;!(ae=M.next()).done;)ae=ae.value,Re=Dt+et(ae,st++),Pe+=F(ae,$,ie,Re,_e);else if(Re==="object"){if(typeof M.then=="function")return F(ht(M),$,ie,ae,_e);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function B(M,$,ie){if(M==null)return M;var ae=[],_e=0;return F(M,ae,"","",function(Re){return $.call(ie,Re,_e++)}),ae}function te(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Te={map:B,forEach:function(M,$,ie){B(M,function(){$.apply(this,arguments)},ie)},count:function(M){var $=0;return B(M,function(){$++}),$},toArray:function(M){return B(M,function($){return $})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=A,be.Children=Te,be.Component=ce,be.Fragment=i,be.Profiler=l,be.PureComponent=de,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,$,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ae=W({},M.props),_e=M.key;if($!=null)for(Re in $.key!==void 0&&(_e=""+$.key),$)!w.call($,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&$.ref===void 0||(ae[Re]=$[Re]);var Re=arguments.length-2;if(Re===1)ae.children=ie;else if(1<Re){for(var Pe=Array(Re),Dt=0;Dt<Re;Dt++)Pe[Dt]=arguments[Dt+2];ae.children=Pe}return C(M.type,_e,ae)},be.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},be.createElement=function(M,$,ie){var ae,_e={},Re=null;if($!=null)for(ae in $.key!==void 0&&(Re=""+$.key),$)w.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(_e[ae]=$[ae]);var Pe=arguments.length-2;if(Pe===1)_e.children=ie;else if(1<Pe){for(var Dt=Array(Pe),st=0;st<Pe;st++)Dt[st]=arguments[st+2];_e.children=Dt}if(M&&M.defaultProps)for(ae in Pe=M.defaultProps,Pe)_e[ae]===void 0&&(_e[ae]=Pe[ae]);return C(M,Re,_e)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:g,render:M}},be.isValidElement=O,be.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:te}},be.memo=function(M,$){return{$$typeof:_,type:M,compare:$===void 0?null:$}},be.startTransition=function(M){var $=N.T,ie={};N.T=ie;try{var ae=M(),_e=N.S;_e!==null&&_e(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ce,le)}catch(Re){le(Re)}finally{$!==null&&ie.types!==null&&($.types=ie.types),N.T=$}},be.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},be.use=function(M){return N.H.use(M)},be.useActionState=function(M,$,ie){return N.H.useActionState(M,$,ie)},be.useCallback=function(M,$){return N.H.useCallback(M,$)},be.useContext=function(M){return N.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,$){return N.H.useDeferredValue(M,$)},be.useEffect=function(M,$){return N.H.useEffect(M,$)},be.useEffectEvent=function(M){return N.H.useEffectEvent(M)},be.useId=function(){return N.H.useId()},be.useImperativeHandle=function(M,$,ie){return N.H.useImperativeHandle(M,$,ie)},be.useInsertionEffect=function(M,$){return N.H.useInsertionEffect(M,$)},be.useLayoutEffect=function(M,$){return N.H.useLayoutEffect(M,$)},be.useMemo=function(M,$){return N.H.useMemo(M,$)},be.useOptimistic=function(M,$){return N.H.useOptimistic(M,$)},be.useReducer=function(M,$,ie){return N.H.useReducer(M,$,ie)},be.useRef=function(M){return N.H.useRef(M)},be.useState=function(M){return N.H.useState(M)},be.useSyncExternalStore=function(M,$,ie){return N.H.useSyncExternalStore(M,$,ie)},be.useTransition=function(){return N.H.useTransition()},be.version="19.2.0",be}var ev;function xm(){return ev||(ev=1,Pd.exports=Zb()),Pd.exports}var ve=xm(),Ld={exports:{}},bl={},jd={exports:{}},zd={};var tv;function Wb(){return tv||(tv=1,(function(r){function e(F,B){var te=F.length;F.push(B);e:for(;0<te;){var le=te-1>>>1,Te=F[le];if(0<l(Te,B))F[le]=B,F[te]=Te,te=le;else break e}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var B=F[0],te=F.pop();if(te!==B){F[0]=te;e:for(var le=0,Te=F.length,M=Te>>>1;le<M;){var $=2*(le+1)-1,ie=F[$],ae=$+1,_e=F[ae];if(0>l(ie,te))ae<Te&&0>l(_e,ie)?(F[le]=_e,F[ae]=te,le=ae):(F[le]=ie,F[$]=te,le=$);else if(ae<Te&&0>l(_e,te))F[le]=_e,F[ae]=te,le=ae;else break e}}return B}function l(F,B){var te=F.sortIndex-B.sortIndex;return te!==0?te:F.id-B.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,A=null,x=3,G=!1,Y=!1,W=!1,ee=!1,ce=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function je(F){for(var B=i(_);B!==null;){if(B.callback===null)s(_);else if(B.startTime<=F)s(_),B.sortIndex=B.expirationTime,e(p,B);else break;B=i(_)}}function ze(F){if(W=!1,je(F),!Y)if(i(p)!==null)Y=!0,Ce||(Ce=!0,U());else{var B=i(_);B!==null&&ht(ze,B.startTime-F)}}var Ce=!1,N=-1,w=5,C=-1;function V(){return ee?!0:!(r.unstable_now()-C<w)}function O(){if(ee=!1,Ce){var F=r.unstable_now();C=F;var B=!0;try{e:{Y=!1,W&&(W=!1,ge(N),N=-1),G=!0;var te=x;try{t:{for(je(F),A=i(p);A!==null&&!(A.expirationTime>F&&V());){var le=A.callback;if(typeof le=="function"){A.callback=null,x=A.priorityLevel;var Te=le(A.expirationTime<=F);if(F=r.unstable_now(),typeof Te=="function"){A.callback=Te,je(F),B=!0;break t}A===i(p)&&s(p),je(F)}else s(p);A=i(p)}if(A!==null)B=!0;else{var M=i(_);M!==null&&ht(ze,M.startTime-F),B=!1}}break e}finally{A=null,x=te,G=!1}B=void 0}}finally{B?U():Ce=!1}}}var U;if(typeof de=="function")U=function(){de(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,et=R.port2;R.port1.onmessage=O,U=function(){et.postMessage(null)}}else U=function(){ce(O,0)};function ht(F,B){N=ce(function(){F(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(F){switch(x){case 1:case 2:case 3:var B=3;break;default:B=x}var te=x;x=B;try{return F()}finally{x=te}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var te=x;x=F;try{return B()}finally{x=te}},r.unstable_scheduleCallback=function(F,B,te){var le=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,F){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=te+Te,F={id:T++,callback:B,priorityLevel:F,startTime:te,expirationTime:Te,sortIndex:-1},te>le?(F.sortIndex=te,e(_,F),i(p)===null&&F===i(_)&&(W?(ge(N),N=-1):W=!0,ht(ze,te-le))):(F.sortIndex=Te,e(p,F),Y||G||(Y=!0,Ce||(Ce=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var B=x;return function(){var te=x;x=B;try{return F.apply(this,arguments)}finally{x=te}}}})(zd)),zd}var nv;function eA(){return nv||(nv=1,jd.exports=Wb()),jd.exports}var Bd={exports:{}},Xt={};var iv;function tA(){if(iv)return Xt;iv=1;var r=xm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Xt.flushSync=function(p){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=T,s.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:G}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var rv;function nA(){if(rv)return Bd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=tA(),Bd.exports}var sv;function iA(){if(sv)return bl;sv=1;var r=eA(),e=xm(),i=nA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===o)return p(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),de=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case ce:return"Profiler";case ee:return"StrictMode";case ze:return"Suspense";case Ce:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case de:return t.displayName||"Context";case ge:return(t._context.displayName||"Context")+".Consumer";case je:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:et(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return et(t(n))}catch{}}return null}var ht=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},le=[],Te=-1;function M(t){return{current:t}}function $(t){0>Te||(t.current=le[Te],le[Te]=null,Te--)}function ie(t,n){Te++,le[Te]=t.current,t.current=n}var ae=M(null),_e=M(null),Re=M(null),Pe=M(null);function Dt(t,n){switch(ie(Re,n),ie(_e,t),ie(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?E_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=E_(n),t=T_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ae),ie(ae,t)}function st(){$(ae),$(_e),$(Re)}function cs(t){t.memoizedState!==null&&ie(Pe,t);var n=ae.current,a=T_(n,t.type);n!==a&&(ie(_e,t),ie(ae,a))}function ta(t){_e.current===t&&($(ae),$(_e)),Pe.current===t&&($(Pe),yl._currentValue=te)}var na,ia;function ei(t){if(na===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);na=n&&n[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+na+t+ia}var yo=!1;function hs(t,n){if(!t||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var z=H}Reflect.construct(t,[],J)}else{try{J.call()}catch(H){z=H}t.call(J.prototype)}}else{try{throw Error()}catch(H){z=H}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var I=y.split(`
`),j=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===j.length)for(o=I.length-1,h=j.length-1;1<=o&&0<=h&&I[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==j[h]){var Q=`
`+I[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ei(a):""}function _o(t,n){switch(t.tag){case 26:case 27:case 5:return ei(t.type);case 16:return ei("Lazy");case 13:return t.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return hs(t.type,!1);case 11:return hs(t.type.render,!1);case 1:return hs(t.type,!0);case 31:return ei("Activity");default:return""}}function vo(t){try{var n="",a=null;do n+=_o(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,ar=r.unstable_cancelCallback,Ph=r.unstable_shouldYield,ou=r.unstable_requestPaint,en=r.unstable_now,fs=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,or=r.unstable_NormalPriority,Lh=r.unstable_LowPriority,lu=r.unstable_IdlePriority,uu=r.log,cu=r.unstable_setDisableYieldValue,jn=null,zt=null;function wn(t){if(typeof uu=="function"&&cu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(jn,t)}catch{}}var ft=Math.clz32?Math.clz32:fu,hu=Math.log,ra=Math.LN2;function fu(t){return t>>>=0,t===0?32:31-(hu(t)/ra|0)|0}var ti=256,ds=262144,vt=4194304;function ni(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ii(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ni(o):(y&=E,y!==0?h=ni(y):a||(a=E&~t,a!==0&&(h=ni(a))))):(E=o&~f,E!==0?h=ni(E):y!==0?h=ni(y):a||(a=o&~t,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function jh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function ri(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ms(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zh(t,n,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-ft(a),J=1<<Q;E[Q]=0,I[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}a&=~J}o!==0&&gs(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function gs(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ft(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function bo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-ft(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Ao(t,n){var a=n&-n;return a=(a&42)!==0?1:ps(a),(a&(t.suspendedLanes|n))!==0?0:a}function ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mu(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function Bn(t,n){var a=B.p;try{return B.p=t,n()}finally{B.p=a}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,Ut="__reactProps$"+qn,si="__reactContainer$"+qn,sa="__reactEvents$"+qn,Bh="__reactListeners$"+qn,gu="__reactHandles$"+qn,pu="__reactResources$"+qn,ai="__reactMarker$"+qn;function aa(t){delete t[Et],delete t[Ut],delete t[sa],delete t[Bh],delete t[gu]}function oi(t){var n=t[Et];if(n)return n;for(var a=t.parentNode;a;){if(n=a[si]||a[Et]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=C_(t);t!==null;){if(a=t[Et])return a;t=C_(t)}return n}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[Et]||t[si]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function dn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function li(t){var n=t[pu];return n||(n=t[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(t){t[ai]=!0}var So=new Set,wo={};function ui(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(wo[t]=n,t=0;t<n.length;t++)So.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},Co={};function yu(t){return _t.call(Co,t)?!0:_t.call(Io,t)?!1:Ro.test(t)?Co[t]=!0:(Io[t]=!0,!1)}function oa(t,n,a){if(yu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function mn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function bt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qe(t){if(!t._valueTracker){var n=lr(t)?"checked":"value";t._valueTracker=No(t,n,""+t[n])}}function ys(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=lr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _s=/[\n"\\]/g;function rn(t){return t.replace(_s,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function la(t,n,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?xo(t,y,Pt(n)):a!=null?xo(t,y,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Pt(E):t.removeAttribute("name")}function _u(t,n,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",n=n!=null?""+Pt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Qe(t)}function xo(t,n,a){n==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ur(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function vu(t,n,a){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Pt(a):""}function cr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(ht(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Pt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Eu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Oo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Do(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(t,f,n[f])}function ua(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Mo=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fr=null,fi=null;function vs(t){var n=Rn(t);if(n&&(t=n.stateNode)){var a=t[Ut]||null;e:switch(t=n.stateNode,n.type){case"input":if(la(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Ut]||null;if(!h)throw Error(s(90));la(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&ys(o)}break e;case"textarea":vu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&ur(t,!!a.multiple,n,!1)}}}var ha=!1;function dr(t,n,a){if(ha)return t(n,a);ha=!0;try{var o=t(n);return o}finally{if(ha=!1,(fr!==null||fi!==null)&&(mc(),fr&&(n=fr,t=fi,fi=fr=null,vs(n),t)))for(n=0;n<t.length;n++)vs(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Es=!1;if(Cn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Es=!1}var di=null,Vo=null,Ts=null;function ko(){if(Ts)return Ts;var t,n=Vo,a=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&n[a-o]===h[f-o];o++);return Ts=h.slice(t,1<o?1-o:void 0)}function bs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Mi(){return!0}function Fn(){return!1}function Bt(t){function n(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Bt(Vi),mr=A({},Vi,{view:0,detail:0}),Uo=Bt(mr),gr,fa,gi,da=A({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(gr=t.screenX-gi.screenX,fa=t.screenY-gi.screenY):fa=gr=0,gi=t),gr)},movementY:function(t){return"movementY"in t?t.movementY:fa}}),Po=Bt(da),As=A({},da,{dataTransfer:0}),bu=Bt(As),Au=A({},mr,{relatedTarget:0}),Ss=Bt(Au),Lo=A({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Bt(Lo),ma=A({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wu=Bt(ma),Ru=A({},Vi,{data:0}),pi=Bt(Ru),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function pr(){return xu}var tn=A({},mr,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(t){return t.type==="keypress"?bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Bt(tn),Ou=A({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=Bt(Ou),c=A({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),m=Bt(c),v=A({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Bt(v),P=A({},da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Bt(P),ne=A({},Vi,{newState:0,oldState:0}),Se=Bt(ne),dt=[9,13,27,32],He=Cn&&"CompositionEvent"in window,at=null;Cn&&"documentMode"in document&&(at=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!at,yi=Cn&&(!He||at&&8<at&&11>=at),Qn=" ",Kn=!1;function ws(t,n){switch(t){case"keyup":return dt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function E1(t,n){switch(t){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return t=n.data,t===Qn&&Kn?null:t;default:return null}}function T1(t,n){if(pa)return t==="compositionend"||!He&&ws(t,n)?(t=ko(),Ts=Vo=di=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!b1[t.type]:n==="textarea"}function Og(t,n,a,o){fr?fi?fi.push(o):fi=[o]:fr=o,n=Tc(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var jo=null,zo=null;function A1(t){m_(t,0)}function Mu(t){var n=dn(t);if(ys(n))return t}function Mg(t,n){if(t==="change")return n}var Vg=!1;if(Cn){var qh;if(Cn){var Hh="oninput"in document;if(!Hh){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Hh=typeof kg.oninput=="function"}qh=Hh}else qh=!1;Vg=qh&&(!document.documentMode||9<document.documentMode)}function Ug(){jo&&(jo.detachEvent("onpropertychange",Pg),zo=jo=null)}function Pg(t){if(t.propertyName==="value"&&Mu(zo)){var n=[];Og(n,zo,t,In(t)),dr(A1,n)}}function S1(t,n,a){t==="focusin"?(Ug(),jo=n,zo=a,jo.attachEvent("onpropertychange",Pg)):t==="focusout"&&Ug()}function w1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(zo)}function R1(t,n){if(t==="click")return Mu(n)}function I1(t,n){if(t==="input"||t==="change")return Mu(n)}function C1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var gn=typeof Object.is=="function"?Object.is:C1;function Bo(t,n){if(gn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(n,h)||!gn(t[h],n[h]))return!1}return!0}function Lg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,n){var a=Lg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function zg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?zg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=hi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=hi(t.document)}return n}function Gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var N1=Cn&&"documentMode"in document&&11>=document.documentMode,ya=null,Fh=null,qo=null,Qh=!1;function qg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qh||ya==null||ya!==hi(o)||(o=ya,"selectionStart"in o&&Gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=Tc(Fh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ya)))}function Rs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _a={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Kh={},Hg={};Cn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Is(t){if(Kh[t])return Kh[t];if(!_a[t])return t;var n=_a[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hg)return Kh[t]=n[a];return t}var Gg=Is("animationend"),Fg=Is("animationiteration"),Qg=Is("animationstart"),x1=Is("transitionrun"),D1=Is("transitionstart"),O1=Is("transitioncancel"),Kg=Is("transitionend"),Yg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Yn(t,n){Yg.set(t,n),ui(n,[t])}var Vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],va=0,Xh=0;function ku(){for(var t=va,n=Xh=va=0;n<t;){var a=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&Xg(a,h,f)}}function Uu(t,n,a,o){xn[va++]=t,xn[va++]=n,xn[va++]=a,xn[va++]=o,Xh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function $h(t,n,a,o){return Uu(t,n,a,o),Pu(t)}function Cs(t,n){return Uu(t,null,null,n),Pu(t)}function Xg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-ft(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Pu(t){if(50<cl)throw cl=0,ad=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ea={};function M1(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,a,o){return new M1(t,n,a,o)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,n){var a=t.alternate;return a===null?(a=pn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function $g(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lu(t,n,a,o,h,f){var y=0;if(o=t,typeof t=="function")Jh(t)&&(y=1);else if(typeof t=="string")y=Lb(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=pn(31,a,n,h),t.elementType=C,t.lanes=f,t;case W:return Ns(a.children,h,f,n);case ee:y=8,h|=24;break;case ce:return t=pn(12,a,n,h|2),t.elementType=ce,t.lanes=f,t;case ze:return t=pn(13,a,n,h),t.elementType=ze,t.lanes=f,t;case Ce:return t=pn(19,a,n,h),t.elementType=Ce,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:y=10;break e;case ge:y=9;break e;case je:y=11;break e;case N:y=14;break e;case w:y=16,o=null;break e}y=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=pn(y,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ns(t,n,a,o){return t=pn(7,t,o,n),t.lanes=a,t}function Zh(t,n,a){return t=pn(6,t,null,n),t.lanes=a,t}function Jg(t){var n=pn(18,null,null,0);return n.stateNode=t,n}function Wh(t,n,a){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zg=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var a=Zg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:vo(n)},Zg.set(t,n),n)}return{value:t,source:n,stack:vo(n)}}var Ta=[],ba=0,ju=null,Ho=0,On=[],Mn=0,yr=null,_i=1,vi="";function Pi(t,n){Ta[ba++]=Ho,Ta[ba++]=ju,ju=t,Ho=n}function Wg(t,n,a){On[Mn++]=_i,On[Mn++]=vi,On[Mn++]=yr,yr=t;var o=_i;t=vi;var h=32-ft(o)-1;o&=~(1<<h),a+=1;var f=32-ft(n)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,_i=1<<32-ft(n)+h|a<<h|o,vi=f+t}else _i=1<<f|a<<h|o,vi=t}function ef(t){t.return!==null&&(Pi(t,1),Wg(t,1,0))}function tf(t){for(;t===ju;)ju=Ta[--ba],Ta[ba]=null,Ho=Ta[--ba],Ta[ba]=null;for(;t===yr;)yr=On[--Mn],On[Mn]=null,vi=On[--Mn],On[Mn]=null,_i=On[--Mn],On[Mn]=null}function ep(t,n){On[Mn++]=_i,On[Mn++]=vi,On[Mn++]=yr,_i=n.id,vi=n.overflow,yr=t}var qt=null,nt=null,Ue=!1,_r=null,Vn=!1,nf=Error(s(519));function vr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Dn(n,t)),nf}function tp(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Et]=t,n[Ut]=o,a){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(a=0;a<fl.length;a++)xe(fl[a],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),_u(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),cr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||__(n.textContent,a)?(o.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),o.onScroll!=null&&xe("scroll",n),o.onScrollEnd!=null&&xe("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||vr(t,!0)}function np(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:qt=qt.return}}function Aa(t){if(t!==qt)return!1;if(!Ue)return np(t),Ue=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Td(t.type,t.memoizedProps)),a=!a),a&&nt&&vr(t),np(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=I_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=I_(t)}else n===27?(n=nt,Mr(t.type)?(t=Rd,Rd=null,nt=t):nt=n):nt=qt?Un(t.stateNode.nextSibling):null;return!0}function xs(){nt=qt=null,Ue=!1}function rf(){var t=_r;return t!==null&&(un===null?un=t:un.push.apply(un,t),_r=null),t}function Go(t){_r===null?_r=[t]:_r.push(t)}var sf=M(null),Ds=null,Li=null;function Er(t,n,a){ie(sf,n._currentValue),n._currentValue=a}function ji(t){t._currentValue=sf.current,$(sf)}function af(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function of(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),af(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Sa(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=h.type;gn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Pe.current){if(y=h.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&of(n,t,a,o),n.flags|=262144}function zu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return ip(Ds,t)}function Bu(t,n){return Ds===null&&Os(t),ip(t,n)}function ip(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return a}var V1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},k1=r.unstable_scheduleCallback,U1=r.unstable_NormalPriority,At={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new V1,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&k1(U1,function(){t.controller.abort()})}var Qo=null,uf=0,wa=0,Ra=null;function P1(t,n){if(Qo===null){var a=Qo=[];uf=0,wa=fd(),Ra={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,n.then(rp,rp),n}function rp(){if(--uf===0&&Qo!==null){Ra!==null&&(Ra.status="fulfilled");var t=Qo;Qo=null,wa=0,Ra=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function L1(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var sp=F.S;F.S=function(t,n){qy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&P1(t,n),sp!==null&&sp(t,n)};var Ms=M(null);function cf(){var t=Ms.current;return t!==null?t:We.pooledCache}function qu(t,n){n===null?ie(Ms,Ms.current):ie(Ms,n.pool)}function ap(){var t=cf();return t===null?null:{parent:At._currentValue,pool:t}}var Ia=Error(s(460)),hf=Error(s(474)),Hu=Error(s(542)),Gu={then:function(){}};function op(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Hn,Hn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,cp(t),t}throw ks=n,Ia}}function Vs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ks=a,Ia):a}}var ks=null;function up(){if(ks===null)throw Error(s(459));var t=ks;return ks=null,t}function cp(t){if(t===Ia||t===Hu)throw Error(s(483))}var Ca=null,Ko=0;function Fu(t){var n=Ko;return Ko+=1,Ca===null&&(Ca=[]),lp(Ca,t,n)}function Yo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function hp(t){function n(k,D){if(t){var L=k.deletions;L===null?(k.deletions=[D],k.flags|=16):L.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ui(k,D),k.index=0,k.sibling=null,k}function f(k,D,L){return k.index=L,t?(L=k.alternate,L!==null?(L=L.index,L<D?(k.flags|=67108866,D):L):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function y(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,D,L,K){return D===null||D.tag!==6?(D=Zh(L,k.mode,K),D.return=k,D):(D=h(D,L),D.return=k,D)}function I(k,D,L,K){var he=L.type;return he===W?Q(k,D,L.props.children,K,L.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Vs(he)===D.type)?(D=h(D,L.props),Yo(D,L),D.return=k,D):(D=Lu(L.type,L.key,L.props,null,k.mode,K),Yo(D,L),D.return=k,D)}function j(k,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Wh(L,k.mode,K),D.return=k,D):(D=h(D,L.children||[]),D.return=k,D)}function Q(k,D,L,K,he){return D===null||D.tag!==7?(D=Ns(L,k.mode,K,he),D.return=k,D):(D=h(D,L),D.return=k,D)}function J(k,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Zh(""+D,k.mode,L),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return L=Lu(D.type,D.key,D.props,null,k.mode,L),Yo(L,D),L.return=k,L;case Y:return D=Wh(D,k.mode,L),D.return=k,D;case w:return D=Vs(D),J(k,D,L)}if(ht(D)||U(D))return D=Ns(D,k.mode,L,null),D.return=k,D;if(typeof D.then=="function")return J(k,Fu(D),L);if(D.$$typeof===de)return J(k,Bu(k,D),L);Qu(k,D)}return null}function z(k,D,L,K){var he=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return he!==null?null:E(k,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===he?I(k,D,L,K):null;case Y:return L.key===he?j(k,D,L,K):null;case w:return L=Vs(L),z(k,D,L,K)}if(ht(L)||U(L))return he!==null?null:Q(k,D,L,K,null);if(typeof L.then=="function")return z(k,D,Fu(L),K);if(L.$$typeof===de)return z(k,D,Bu(k,L),K);Qu(k,L)}return null}function H(k,D,L,K,he){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,E(D,k,""+K,he);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?L:K.key)||null,I(D,k,K,he);case Y:return k=k.get(K.key===null?L:K.key)||null,j(D,k,K,he);case w:return K=Vs(K),H(k,D,L,K,he)}if(ht(K)||U(K))return k=k.get(L)||null,Q(D,k,K,he,null);if(typeof K.then=="function")return H(k,D,L,Fu(K),he);if(K.$$typeof===de)return H(k,D,L,Bu(D,K),he);Qu(D,K)}return null}function oe(k,D,L,K){for(var he=null,Be=null,ue=D,Ie=D=0,Oe=null;ue!==null&&Ie<L.length;Ie++){ue.index>Ie?(Oe=ue,ue=null):Oe=ue.sibling;var qe=z(k,ue,L[Ie],K);if(qe===null){ue===null&&(ue=Oe);break}t&&ue&&qe.alternate===null&&n(k,ue),D=f(qe,D,Ie),Be===null?he=qe:Be.sibling=qe,Be=qe,ue=Oe}if(Ie===L.length)return a(k,ue),Ue&&Pi(k,Ie),he;if(ue===null){for(;Ie<L.length;Ie++)ue=J(k,L[Ie],K),ue!==null&&(D=f(ue,D,Ie),Be===null?he=ue:Be.sibling=ue,Be=ue);return Ue&&Pi(k,Ie),he}for(ue=o(ue);Ie<L.length;Ie++)Oe=H(ue,k,Ie,L[Ie],K),Oe!==null&&(t&&Oe.alternate!==null&&ue.delete(Oe.key===null?Ie:Oe.key),D=f(Oe,D,Ie),Be===null?he=Oe:Be.sibling=Oe,Be=Oe);return t&&ue.forEach(function(Lr){return n(k,Lr)}),Ue&&Pi(k,Ie),he}function me(k,D,L,K){if(L==null)throw Error(s(151));for(var he=null,Be=null,ue=D,Ie=D=0,Oe=null,qe=L.next();ue!==null&&!qe.done;Ie++,qe=L.next()){ue.index>Ie?(Oe=ue,ue=null):Oe=ue.sibling;var Lr=z(k,ue,qe.value,K);if(Lr===null){ue===null&&(ue=Oe);break}t&&ue&&Lr.alternate===null&&n(k,ue),D=f(Lr,D,Ie),Be===null?he=Lr:Be.sibling=Lr,Be=Lr,ue=Oe}if(qe.done)return a(k,ue),Ue&&Pi(k,Ie),he;if(ue===null){for(;!qe.done;Ie++,qe=L.next())qe=J(k,qe.value,K),qe!==null&&(D=f(qe,D,Ie),Be===null?he=qe:Be.sibling=qe,Be=qe);return Ue&&Pi(k,Ie),he}for(ue=o(ue);!qe.done;Ie++,qe=L.next())qe=H(ue,k,Ie,qe.value,K),qe!==null&&(t&&qe.alternate!==null&&ue.delete(qe.key===null?Ie:qe.key),D=f(qe,D,Ie),Be===null?he=qe:Be.sibling=qe,Be=qe);return t&&ue.forEach(function(Xb){return n(k,Xb)}),Ue&&Pi(k,Ie),he}function Ze(k,D,L,K){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:e:{for(var he=L.key;D!==null;){if(D.key===he){if(he=L.type,he===W){if(D.tag===7){a(k,D.sibling),K=h(D,L.props.children),K.return=k,k=K;break e}}else if(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&Vs(he)===D.type){a(k,D.sibling),K=h(D,L.props),Yo(K,L),K.return=k,k=K;break e}a(k,D);break}else n(k,D);D=D.sibling}L.type===W?(K=Ns(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=Lu(L.type,L.key,L.props,null,k.mode,K),Yo(K,L),K.return=k,k=K)}return y(k);case Y:e:{for(he=L.key;D!==null;){if(D.key===he)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(k,D.sibling),K=h(D,L.children||[]),K.return=k,k=K;break e}else{a(k,D);break}else n(k,D);D=D.sibling}K=Wh(L,k.mode,K),K.return=k,k=K}return y(k);case w:return L=Vs(L),Ze(k,D,L,K)}if(ht(L))return oe(k,D,L,K);if(U(L)){if(he=U(L),typeof he!="function")throw Error(s(150));return L=he.call(L),me(k,D,L,K)}if(typeof L.then=="function")return Ze(k,D,Fu(L),K);if(L.$$typeof===de)return Ze(k,D,Bu(k,L),K);Qu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(k,D.sibling),K=h(D,L),K.return=k,k=K):(a(k,D),K=Zh(L,k.mode,K),K.return=k,k=K),y(k)):a(k,D)}return function(k,D,L,K){try{Ko=0;var he=Ze(k,D,L,K);return Ca=null,he}catch(ue){if(ue===Ia||ue===Hu)throw ue;var Be=pn(29,ue,null,k.mode);return Be.lanes=K,Be.return=k,Be}finally{}}}var Us=hp(!0),fp=hp(!1),Tr=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ge&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Pu(t),Xg(t,null,a),n}return Uu(t,o,n,a),Pu(t)}function Xo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}function mf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var gf=!1;function $o(){if(gf){var t=Ra;if(t!==null)throw t}}function Jo(t,n,a,o){gf=!1;var h=t.updateQueue;Tr=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,y===null?f=j:y.next=j,y=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=I))}if(f!==null){var J=h.baseState;y=0,Q=j=I=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(De&z)===z:(o&z)===z){z!==0&&z===wa&&(gf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,me=E;z=n;var Ze=a;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){J=oe.call(Ze,J,z);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,z=typeof oe=="function"?oe.call(Ze,J,z):oe,z==null)break e;J=A({},J,z);break e;case 2:Tr=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=H,I=J):Q=Q.next=H,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(I=J),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Cr|=y,t.lanes=y,t.memoizedState=J}}function dp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function mp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dp(a[t],n)}var Na=M(null),Ku=M(0);function gp(t,n){t=Yi,ie(Ku,t),ie(Na,n),Yi=t|n.baseLanes}function pf(){ie(Ku,Yi),ie(Na,Na.current)}function yf(){Yi=Ku.current,$(Na),$(Ku)}var yn=M(null),kn=null;function Sr(t){var n=t.alternate;ie(mt,mt.current&1),ie(yn,t),kn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(kn=t)}function _f(t){ie(mt,mt.current),ie(yn,t),kn===null&&(kn=t)}function pp(t){t.tag===22?(ie(mt,mt.current),ie(yn,t),kn===null&&(kn=t)):wr()}function wr(){ie(mt,mt.current),ie(yn,yn.current)}function _n(t){$(yn),kn===t&&(kn=null),$(mt)}var mt=M(0);function Yu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,we=null,$e=null,St=null,Xu=!1,xa=!1,Ps=!1,$u=0,Zo=0,Da=null,j1=0;function ut(){throw Error(s(321))}function vf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!gn(t[a],n[a]))return!1;return!0}function Ef(t,n,a,o,h,f){return zi=f,we=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Wp:kf,Ps=!1,f=a(o,h),Ps=!1,xa&&(f=_p(n,a,o,h)),yp(t),f}function yp(t){F.H=tl;var n=$e!==null&&$e.next!==null;if(zi=0,St=$e=we=null,Xu=!1,Zo=0,Da=null,n)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&zu(t)&&(wt=!0))}function _p(t,n,a,o){we=t;var h=0;do{if(xa&&(Da=null),Zo=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,St=$e=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ey,f=n(a,o)}while(xa);return f}function z1(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Wo(n):n,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(we.flags|=1024),n}function Tf(){var t=$u!==0;return $u=0,t}function bf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Af(t){if(Xu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xu=!1}zi=0,St=$e=we=null,xa=!1,Zo=$u=0,Da=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?we.memoizedState=St=t:St=St.next=t,St}function gt(){if($e===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var n=St===null?we.memoizedState:St.next;if(n!==null)St=n,$e=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},St===null?we.memoizedState=St=t:St=St.next=t}return St}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var n=Zo;return Zo+=1,Da===null&&(Da=[]),t=lp(Da,t,n),n=we,(St===null?n.memoizedState:St.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Wp:kf),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===de)return Ht(t)}throw Error(s(438,String(t)))}function Sf(t){var n=null,a=we.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ju(),we.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Bi(t,n){return typeof n=="function"?n(t):n}function Wu(t){var n=gt();return wf(n,$e,t)}function wf(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,I=null,j=n,Q=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(De&J)===J:(zi&J)===J){var z=j.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===wa&&(Q=!0);else if((zi&z)===z){j=j.next,z===wa&&(Q=!0);continue}else J={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=J,y=f):I=I.next=J,we.lanes|=z,Cr|=z;J=j.action,Ps&&a(f,J),f=j.hasEagerState?j.eagerState:a(f,J)}else z={lane:J,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=z,y=f):I=I.next=z,we.lanes|=J,Cr|=J;j=j.next}while(j!==null&&j!==n);if(I===null?y=f:I.next=E,!gn(f,t.memoizedState)&&(wt=!0,Q&&(a=Ra,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Rf(t){var n=gt(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);gn(f,n.memoizedState)||(wt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function vp(t,n,a){var o=we,h=gt(),f=Ue;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!gn(($e||h).memoizedState,a);if(y&&(h.memoizedState=a,wt=!0),h=h.queue,Nf(bp.bind(null,o,h,t),[t]),h.getSnapshot!==n||y||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,Oa(9,{destroy:void 0},Tp.bind(null,o,h,a,n),null),We===null)throw Error(s(349));f||(zi&127)!==0||Ep(o,n,a)}return a}function Ep(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=we.updateQueue,n===null?(n=Ju(),we.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Tp(t,n,a,o){n.value=a,n.getSnapshot=o,Ap(n)&&Sp(t)}function bp(t,n,a){return a(function(){Ap(n)&&Sp(t)})}function Ap(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!gn(t,a)}catch{return!0}}function Sp(t){var n=Cs(t,2);n!==null&&cn(n,t,2)}function If(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),Ps){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:t},n}function wp(t,n,a,o){return t.baseState=a,wf(t,$e,typeof o=="function"?o:Bi)}function B1(t,n,a,o,h){if(nc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Rp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Rp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var E=a(h,o),I=F.S;I!==null&&I(y,E),Ip(t,n,E)}catch(j){Cf(t,n,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),F.T=f}}else try{f=a(h,o),Ip(t,n,f)}catch(j){Cf(t,n,j)}}function Ip(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Cp(t,n,o)},function(o){return Cf(t,n,o)}):Cp(t,n,a)}function Cp(t,n,a){n.status="fulfilled",n.value=a,Np(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Rp(t,a)))}function Cf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Np(n),n=n.next;while(n!==o)}t.action=null}function Np(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xp(t,n){return n}function Dp(t,n){if(Ue){var a=We.formState;if(a!==null){e:{var o=we;if(Ue){if(nt){t:{for(var h=nt,f=Vn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Un(h.nextSibling),o=h.data==="F!";break e}}vr(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:n},a.queue=o,a=$p.bind(null,we,o),o.dispatch=a,o=If(!1),f=Vf.bind(null,we,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=B1.bind(null,we,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Op(t){var n=gt();return Mp(n,$e,t)}function Mp(t,n,a){if(n=wf(t,n,xp)[0],t=Wu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(y){throw y===Ia?Hu:y}else o=n;n=gt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(we.flags|=2048,Oa(9,{destroy:void 0},q1.bind(null,h,a),null)),[o,f,t]}function q1(t,n){t.action=n}function Vp(t){var n=gt(),a=$e;if(a!==null)return Mp(n,a,t);gt(),n=n.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Oa(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=we.updateQueue,n===null&&(n=Ju(),we.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function kp(){return gt().memoizedState}function ec(t,n,a,o){var h=nn();we.flags|=t,h.memoizedState=Oa(1|n,{destroy:void 0},a,o===void 0?null:o)}function tc(t,n,a,o){var h=gt();o=o===void 0?null:o;var f=h.memoizedState.inst;$e!==null&&o!==null&&vf(o,$e.memoizedState.deps)?h.memoizedState=Oa(n,f,a,o):(we.flags|=t,h.memoizedState=Oa(1|n,f,a,o))}function Up(t,n){ec(8390656,8,t,n)}function Nf(t,n){tc(2048,8,t,n)}function H1(t){we.flags|=4;var n=we.updateQueue;if(n===null)n=Ju(),we.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Pp(t){var n=gt().memoizedState;return H1({ref:n,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Lp(t,n){return tc(4,2,t,n)}function jp(t,n){return tc(4,4,t,n)}function zp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bp(t,n,a){a=a!=null?a.concat([t]):null,tc(4,4,zp.bind(null,n,t),a)}function xf(){}function qp(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Hp(t,n){var a=gt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=t(),Ps){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function Df(t,n,a){return a===void 0||(zi&1073741824)!==0&&(De&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Gy(),we.lanes|=t,Cr|=t,a)}function Gp(t,n,a,o){return gn(a,n)?a:Na.current!==null?(t=Df(t,a,o),gn(t,n)||(wt=!0),t):(zi&42)===0||(zi&1073741824)!==0&&(De&261930)===0?(wt=!0,t.memoizedState=a):(t=Gy(),we.lanes|=t,Cr|=t,n)}function Fp(t,n,a,o,h){var f=B.p;B.p=f!==0&&8>f?f:8;var y=F.T,E={};F.T=E,Vf(t,!1,n,a);try{var I=h(),j=F.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=L1(I,o);el(t,n,Q,Tn(t))}else el(t,n,o,Tn(t))}catch(J){el(t,n,{then:function(){},status:"rejected",reason:J},Tn())}finally{B.p=f,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function G1(){}function Of(t,n,a,o){if(t.tag!==5)throw Error(s(476));var h=Qp(t).queue;Fp(t,h,n,te,a===null?G1:function(){return Kp(t),a(o)})}function Qp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:te},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Kp(t){var n=Qp(t);n.next===null&&(n=t.alternate.memoizedState),el(t,n.next.queue,{},Tn())}function Mf(){return Ht(yl)}function Yp(){return gt().memoizedState}function Xp(){return gt().memoizedState}function F1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();t=br(a);var o=Ar(n,t,a);o!==null&&(cn(o,n,a),Xo(o,n,a)),n={cache:lf()},t.payload=n;return}n=n.return}}function Q1(t,n,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?Jp(n,a):(a=$h(t,n,a,o),a!==null&&(cn(a,t,o),Zp(a,n,o)))}function $p(t,n,a){var o=Tn();el(t,n,a,o)}function el(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Jp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,y))return Uu(t,n,h,0),We===null&&ku(),!1}catch{}finally{}if(a=$h(t,n,h,o),a!==null)return cn(a,t,o),Zp(a,n,o),!0}return!1}function Vf(t,n,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(n)throw Error(s(479))}else n=$h(t,a,o,2),n!==null&&cn(n,t,2)}function nc(t){var n=t.alternate;return t===we||n!==null&&n===we}function Jp(t,n){xa=Xu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Zp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}var tl={readContext:Ht,use:Zu,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut,useHostTransitionStatus:ut,useFormState:ut,useActionState:ut,useOptimistic:ut,useMemoCache:ut,useCacheRefresh:ut};tl.useEffectEvent=ut;var Wp={readContext:Ht,use:Zu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:Ht,useEffect:Up,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ec(4194308,4,zp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ec(4194308,4,t,n)},useInsertionEffect:function(t,n){ec(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var o=t();if(Ps){wn(!0);try{t()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Ps){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Q1.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=If(t);var n=t.queue,a=$p.bind(null,we,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,n){var a=nn();return Df(a,t,n)},useTransition:function(){var t=If(!1);return t=Fp.bind(null,we,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=we,h=nn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),We===null)throw Error(s(349));(De&127)!==0||Ep(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Up(bp.bind(null,o,f,t),[t]),o.flags|=2048,Oa(9,{destroy:void 0},Tp.bind(null,o,f,a,n),null),a},useId:function(){var t=nn(),n=We.identifierPrefix;if(Ue){var a=vi,o=_i;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=$u++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=j1++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Dp,useActionState:Dp,useOptimistic:function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vf.bind(null,we,!0,a),a.dispatch=n,[t,n]},useMemoCache:Sf,useCacheRefresh:function(){return nn().memoizedState=F1.bind(null,we)},useEffectEvent:function(t){var n=nn(),a={impl:t};return n.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Ht,use:Zu,useCallback:qp,useContext:Ht,useEffect:Nf,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:jp,useMemo:Hp,useReducer:Wu,useRef:kp,useState:function(){return Wu(Bi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=gt();return Gp(a,$e.memoizedState,t,n)},useTransition:function(){var t=Wu(Bi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Wo(t),n]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Mf,useFormState:Op,useActionState:Op,useOptimistic:function(t,n){var a=gt();return wp(a,$e,t,n)},useMemoCache:Sf,useCacheRefresh:Xp};kf.useEffectEvent=Pp;var ey={readContext:Ht,use:Zu,useCallback:qp,useContext:Ht,useEffect:Nf,useImperativeHandle:Bp,useInsertionEffect:Lp,useLayoutEffect:jp,useMemo:Hp,useReducer:Rf,useRef:kp,useState:function(){return Rf(Bi)},useDebugValue:xf,useDeferredValue:function(t,n){var a=gt();return $e===null?Df(a,t,n):Gp(a,$e.memoizedState,t,n)},useTransition:function(){var t=Rf(Bi)[0],n=gt().memoizedState;return[typeof t=="boolean"?t:Wo(t),n]},useSyncExternalStore:vp,useId:Yp,useHostTransitionStatus:Mf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t,n){var a=gt();return $e!==null?wp(a,$e,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Xp};ey.useEffectEvent=Pp;function Uf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=Tn(),h=br(o);h.payload=n,a!=null&&(h.callback=a),n=Ar(t,h,o),n!==null&&(cn(n,t,o),Xo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=Tn(),h=br(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Ar(t,h,o),n!==null&&(cn(n,t,o),Xo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Tn(),o=br(a);o.tag=2,n!=null&&(o.callback=n),n=Ar(t,o,a),n!==null&&(cn(n,t,a),Xo(n,t,a))}};function ty(t,n,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function ny(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Pf.enqueueReplaceState(n,n.state,null)}function Ls(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function iy(t){Vu(t)}function ry(t){console.error(t)}function sy(t){Vu(t)}function ic(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ay(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(t,n,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(t,n)},a}function oy(t){return t=br(t),t.tag=3,t}function ly(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ay(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ay(n,a,o),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function K1(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Sa(n,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?gc():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ud(t,o,h)),!1;case 22:return a.flags|=65536,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ud(t,o,h)),!1}throw Error(s(435,a.tag))}return ud(t,o,h),gc(),!1}if(Ue)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(t=Error(s(422),{cause:o}),Go(Dn(t,a)))):(o!==nf&&(n=Error(s(423),{cause:o}),Go(Dn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,a),h=Lf(t.stateNode,o,h),mf(t,h),ct!==4&&(ct=2)),!1;var f=Error(s(520),{cause:o});if(f=Dn(f,a),ul===null?ul=[f]:ul.push(f),ct!==4&&(ct=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Lf(a.stateNode,o,t),mf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Nr===null||!Nr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=oy(h),ly(h,t,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(s(461)),wt=!1;function Gt(t,n,a,o){n.child=t===null?fp(n,null,a,o):Us(n,t.child,a,o)}function uy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Os(n),o=Ef(t,n,a,y,f,h),E=Tf(),t!==null&&!wt?(bf(t,n,h),qi(t,n,h)):(Ue&&E&&ef(n),n.flags|=1,Gt(t,n,o,h),n.child)}function cy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,hy(t,n,f,o,h)):(t=Lu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kf(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(y,o)&&t.ref===n.ref)return qi(t,n,h)}return n.flags|=1,t=Ui(f,o),t.ref=n.ref,t.return=n,n.child=t}function hy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Bo(f,o)&&t.ref===n.ref)if(wt=!1,n.pendingProps=o=f,Kf(t,h))(t.flags&131072)!==0&&(wt=!0);else return n.lanes=t.lanes,qi(t,n,h)}return zf(t,n,a,o,h)}function fy(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return dy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&qu(n,f!==null?f.cachePool:null),f!==null?gp(n,f):pf(),pp(n);else return o=n.lanes=536870912,dy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(qu(n,f.cachePool),gp(n,f),wr(),n.memoizedState=null):(t!==null&&qu(n,null),pf(),wr());return Gt(t,n,h,a),n.child}function nl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function dy(t,n,a,o,h){var f=cf();return f=f===null?null:{parent:At._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&qu(n,null),pf(),pp(n),t!==null&&Sa(t,n,o,!0),n.childLanes=h,null}function rc(t,n){return n=ac({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function my(t,n,a){return Us(n,t.child,null,a),t=rc(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function Y1(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ue){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,nl(null,t);if(_f(n),(t=nt)?(t=R_(t,Vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:yr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=n,n.child=a,qt=n,nt=null)):t=null,t===null)throw vr(n);return n.lanes=536870912,null}return rc(n,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=my(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(wt||Sa(t,n,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=We,o!==null&&(y=Ao(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Cs(t,y),cn(o,t,y),jf;gc(),n=my(t,n,a)}else t=f.treeContext,nt=Un(y.nextSibling),qt=n,Ue=!0,_r=null,Vn=!1,t!==null&&ep(n,t),n=rc(n,o),n.flags|=4096;return n}return t=Ui(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function sc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function zf(t,n,a,o,h){return Os(n),a=Ef(t,n,a,o,void 0,h),o=Tf(),t!==null&&!wt?(bf(t,n,h),qi(t,n,h)):(Ue&&o&&ef(n),n.flags|=1,Gt(t,n,a,h),n.child)}function gy(t,n,a,o,h,f){return Os(n),n.updateQueue=null,a=_p(n,o,a,h),yp(t),o=Tf(),t!==null&&!wt?(bf(t,n,f),qi(t,n,f)):(Ue&&o&&ef(n),n.flags|=1,Gt(t,n,a,f),n.child)}function py(t,n,a,o,h){if(Os(n),n.stateNode===null){var f=Ea,y=a.contextType;typeof y=="object"&&y!==null&&(f=Ht(y)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Pf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Ht(y):Ea,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Uf(n,a,y,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Pf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=Ls(a,E);f.props=I;var j=f.context,Q=a.contextType;y=Ea,typeof Q=="object"&&Q!==null&&(y=Ht(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&ny(n,f,o,y),Tr=!1;var z=n.memoizedState;f.state=z,Jo(n,o,f,h),$o(),j=n.memoizedState,E||z!==j||Tr?(typeof J=="function"&&(Uf(n,a,J,o),j=n.memoizedState),(I=Tr||ty(n,a,I,o,z,j,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=y,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(t,n),y=n.memoizedProps,Q=Ls(a,y),f.props=Q,J=n.pendingProps,z=f.context,j=a.contextType,I=Ea,typeof j=="object"&&j!==null&&(I=Ht(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||z!==I)&&ny(n,f,o,I),Tr=!1,z=n.memoizedState,f.state=z,Jo(n,o,f,h),$o();var H=n.memoizedState;y!==J||z!==H||Tr||t!==null&&t.dependencies!==null&&zu(t.dependencies)?(typeof E=="function"&&(Uf(n,a,E,o),H=n.memoizedState),(Q=Tr||ty(n,a,Q,o,z,H,I)||t!==null&&t.dependencies!==null&&zu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,sc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Us(n,t.child,null,h),n.child=Us(n,null,a,h)):Gt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=qi(t,n,h),t}function yy(t,n,a,o){return xs(),n.flags|=256,Gt(t,n,a,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(t){return{baseLanes:t,cachePool:ap()}}function Hf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=En),t}function _y(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ue){if(h?Sr(n):wr(),(t=nt)?(t=R_(t,Vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:yr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Jg(t),a.return=n,n.child=a,qt=n,nt=null)):t=null,t===null)throw vr(n);return wd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(wr(),h=n.mode,E=ac({mode:"hidden",children:E},h),o=Ns(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,y,a),n.memoizedState=Bf,nl(null,o)):(Sr(n),Gf(n,E))}var I=t.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Sr(n),n.flags&=-257,n=Ff(t,n,a)):n.memoizedState!==null?(wr(),n.child=t.child,n.flags|=128,n=null):(wr(),E=o.fallback,h=n.mode,o=ac({mode:"visible",children:o.children},h),E=Ns(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Us(n,t.child,null,a),o=n.child,o.memoizedState=qf(a),o.childLanes=Hf(t,y,a),n.memoizedState=Bf,n=nl(null,o));else if(Sr(n),wd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(s(419)),o.stack="",o.digest=y,Go({value:o,source:null,stack:null}),n=Ff(t,n,a)}else if(wt||Sa(t,n,a,!1),y=(a&t.childLanes)!==0,wt||y){if(y=We,y!==null&&(o=Ao(y,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Cs(t,o),cn(y,t,o),jf;Sd(E)||gc(),n=Ff(t,n,a)}else Sd(E)?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,nt=Un(E.nextSibling),qt=n,Ue=!0,_r=null,Vn=!1,t!==null&&ep(n,t),n=Gf(n,o.children),n.flags|=4096);return n}return h?(wr(),E=o.fallback,h=n.mode,I=t.child,j=I.sibling,o=Ui(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=Ui(j,E):(E=Ns(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(I=At._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ap(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(t,y,a),n.memoizedState=Bf,nl(t.child,o)):(Sr(n),a=t.child,t=a.sibling,a=Ui(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Gf(t,n){return n=ac({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ac(t,n){return t=pn(22,t,null,n),t.lanes=0,t}function Ff(t,n,a){return Us(n,t.child,null,a),t=Gf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function vy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),af(t.return,n,a)}function Qf(t,n,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function Ey(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=mt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ie(mt,y),Gt(t,n,o,a),o=Ue?Ho:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vy(t,a,n);else if(t.tag===19)vy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Qf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Qf(n,!0,a,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Cr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Sa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ui(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ui(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&zu(t)))}function X1(t,n,a){switch(n.tag){case 3:Dt(n,n.stateNode.containerInfo),Er(n,At,t.memoizedState.cache),xs();break;case 27:case 5:cs(n);break;case 4:Dt(n,n.stateNode.containerInfo);break;case 10:Er(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?_y(t,n,a):(Sr(n),t=qi(t,n,a),t!==null?t.sibling:null);Sr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Sa(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ey(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(mt,mt.current),o)break;return null;case 22:return n.lanes=0,fy(t,n,a,n.pendingProps);case 24:Er(n,At,t.memoizedState.cache)}return qi(t,n,a)}function Ty(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)wt=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return wt=!1,X1(t,n,a);wt=(t.flags&131072)!==0}else wt=!1,Ue&&(n.flags&1048576)!==0&&Wg(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Vs(n.elementType),n.type=t,typeof t=="function")Jh(t)?(o=Ls(t,o),n.tag=1,n=py(null,n,t,o,a)):(n.tag=0,n=zf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===je){n.tag=11,n=uy(null,n,t,o,a);break e}else if(h===N){n.tag=14,n=cy(null,n,t,o,a);break e}}throw n=et(t)||t,Error(s(306,n,""))}}return n;case 0:return zf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ls(o,n.pendingProps),py(t,n,o,h,a);case 3:e:{if(Dt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(t,n),Jo(n,o,null,a);var y=n.memoizedState;if(o=y.cache,Er(n,At,o),o!==f.cache&&of(n,[At],a,!0),$o(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yy(t,n,o,a);break e}else if(o!==h){h=Dn(Error(s(424)),n),Go(h),n=yy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Un(t.firstChild),qt=n,Ue=!0,_r=null,Vn=!0,a=fp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xs(),o===h){n=qi(t,n,a);break e}Gt(t,n,o,a)}n=n.child}return n;case 26:return sc(t,n),t===null?(a=O_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ue||(a=n.type,t=n.pendingProps,o=bc(Re.current).createElement(a),o[Et]=n,o[Ut]=t,Ft(o,a,t),Tt(o),n.stateNode=o):n.memoizedState=O_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return cs(n),t===null&&Ue&&(o=n.stateNode=N_(n.type,n.pendingProps,Re.current),qt=n,Vn=!0,h=nt,Mr(n.type)?(Rd=h,nt=Un(o.firstChild)):nt=h),Gt(t,n,n.pendingProps.children,a),sc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ue&&((h=o=nt)&&(o=wb(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,qt=n,nt=Un(o.firstChild),Vn=!1,h=!0):h=!1),h||vr(n)),cs(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Td(h,f)?o=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(t,n,z1,null,null,a),yl._currentValue=h),sc(t,n),Gt(t,n,o,a),n.child;case 6:return t===null&&Ue&&((t=a=nt)&&(a=Rb(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,qt=n,nt=null,t=!0):t=!1),t||vr(n)),null;case 13:return _y(t,n,a);case 4:return Dt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Us(n,null,o,a):Gt(t,n,o,a),n.child;case 11:return uy(t,n,n.type,n.pendingProps,a);case 7:return Gt(t,n,n.pendingProps,a),n.child;case 8:return Gt(t,n,n.pendingProps.children,a),n.child;case 12:return Gt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Er(n,n.type,o.value),Gt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Os(n),h=Ht(h),o=o(h),n.flags|=1,Gt(t,n,o,a),n.child;case 14:return cy(t,n,n.type,n.pendingProps,a);case 15:return hy(t,n,n.type,n.pendingProps,a);case 19:return Ey(t,n,a);case 31:return Y1(t,n,a);case 22:return fy(t,n,a,n.pendingProps);case 24:return Os(n),o=Ht(At),t===null?(h=cf(),h===null&&(h=We,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},ff(n),Er(n,At,h)):((t.lanes&a)!==0&&(df(t,n),Jo(n,null,null,a),$o()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Er(n,At,o)):(o=f.cache,Er(n,At,o),o!==h.cache&&of(n,[At],a,!0))),Gt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Hi(t){t.flags|=4}function Yf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Yy())t.flags|=8192;else throw ks=Gu,hf}else t.flags&=-16777217}function by(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P_(n))if(Yy())t.flags|=8192;else throw ks=Gu,hf}function oc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?du():536870912,t.lanes|=n,Ua|=n)}function il(t,n){if(!Ue)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function $1(t,n,a){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(n),null;case 1:return it(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(At),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Aa(n)?Hi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rf())),it(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Hi(n),f!==null?(it(n),by(n,f)):(it(n),Yf(n,h,null,o,a))):f?f!==t.memoizedState?(Hi(n),it(n),by(n,f)):(it(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Hi(n),it(n),Yf(n,h,t,o,a)),null;case 27:if(ta(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return it(n),null}t=ae.current,Aa(n)?tp(n):(t=N_(h,o,a),n.stateNode=t,Hi(n))}return it(n),null;case 5:if(ta(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return it(n),null}if(f=ae.current,Aa(n))tp(n);else{var y=bc(Re.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Et]=n,f[Ut]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(Ft(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Hi(n)}}return it(n),Yf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Hi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=Re.current,Aa(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||__(t.nodeValue,a)),t||vr(n,!0)}else t=bc(t).createTextNode(o),t[Et]=n,n.stateNode=t}return it(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Aa(n),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),t=!1}else a=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return it(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Aa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=n}else xs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;it(n),h=!1}else h=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),oc(n,n.updateQueue),it(n),null);case 4:return st(),t===null&&pd(n.stateNode.containerInfo),it(n),null;case 10:return ji(n.type),it(n),null;case 19:if($(mt),o=n.memoizedState,o===null)return it(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yu(t),f!==null){for(n.flags|=128,il(o,!1),t=f.updateQueue,n.updateQueue=t,oc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)$g(a,t),a=a.sibling;return ie(mt,mt.current&1|2),Ue&&Pi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&en()>fc&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(t=Yu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,oc(n,t),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ue)return it(n),null}else 2*en()-o.renderingStartTime>fc&&a!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=mt.current,ie(mt,h?a&1|2:a&1),Ue&&Pi(n,o.treeForkCount),t):(it(n),null);case 22:case 23:return _n(n),yf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(it(n),n.subtreeFlags&6&&(n.flags|=8192)):it(n),a=n.updateQueue,a!==null&&oc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&$(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(At),it(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function J1(t,n){switch(tf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ji(At),st(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ta(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return $(mt),null;case 4:return st(),null;case 10:return ji(n.type),null;case 22:case 23:return _n(n),yf(),t!==null&&$(Ms),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ji(At),null;case 25:return null;default:return null}}function Ay(t,n){switch(tf(n),n.tag){case 3:ji(At),st();break;case 26:case 27:case 5:ta(n);break;case 4:st();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:$(mt);break;case 10:ji(n.type);break;case 22:case 23:_n(n),yf(),t!==null&&$(Ms);break;case 24:ji(At)}}function rl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Ye(n,n.return,E)}}function Rr(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var I=a,j=E;try{j()}catch(Q){Ye(h,I,Q)}}}o=o.next}while(o!==f)}}catch(Q){Ye(n,n.return,Q)}}function Sy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{mp(n,a)}catch(o){Ye(t,t.return,o)}}}function wy(t,n,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ye(t,n,o)}}function sl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ye(t,n,h)}}function Ei(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ye(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,n,h)}else a.current=null}function Ry(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Xf(t,n,a){try{var o=t.stateNode;vb(o,t.type,a,n),o[Ut]=n}catch(h){Ye(t,t.return,h)}}function Iy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mr(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Mr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,a),t=t.sibling;t!==null;)Jf(t,n,a),t=t.sibling}function lc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lc(t,n,a),t=t.sibling;t!==null;)lc(t,n,a),t=t.sibling}function Cy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ft(n,o,a),n[Et]=t,n[Ut]=a}catch(f){Ye(t,t.return,f)}}var Gi=!1,Rt=!1,Zf=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Z1(t,n){if(t=t.containerInfo,vd=Nc,t=Bg(t),Gh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,I=-1,j=0,Q=0,J=t,z=null;t:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(E=y+h),J!==f||o!==0&&J.nodeType!==3||(I=y+o),J.nodeType===3&&(y+=J.nodeValue.length),(H=J.firstChild)!==null;)z=J,J=H;for(;;){if(J===t)break t;if(z===a&&++j===h&&(E=y),z===f&&++Q===o&&(I=y),(H=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=H}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:t,selectionRange:a},Nc=!1,Lt=n;Lt!==null;)if(n=Lt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Lt=t;else for(;Lt!==null;){switch(n=Lt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var oe=Ls(a.type,h);t=o.getSnapshotBeforeUpdate(oe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(me){Ye(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ad(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ad(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Lt=t;break}Lt=n.return}}function xy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(t,a),o&4&&rl(5,a);break;case 1:if(Qi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Ye(a,a.return,y)}else{var h=Ls(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Ye(a,a.return,y)}}o&64&&Sy(a),o&512&&sl(a,a.return);break;case 3:if(Qi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{mp(t,n)}catch(y){Ye(a,a.return,y)}}break;case 27:n===null&&o&4&&Cy(a);case 26:case 5:Qi(t,a),n===null&&o&4&&Ry(a),o&512&&sl(a,a.return);break;case 12:Qi(t,a);break;case 31:Qi(t,a),o&4&&My(t,a);break;case 13:Qi(t,a),o&4&&Vy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ob.bind(null,a),Ib(t,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Rt,h=Gi;var f=Rt;Gi=o,(Rt=n)&&!f?Ki(t,a,(a.subtreeFlags&8772)!==0):Qi(t,a),Gi=h,Rt=f}break;case 30:break;default:Qi(t,a)}}function Dy(t){var n=t.alternate;n!==null&&(t.alternate=null,Dy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&aa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Fi(t,n,a){for(a=a.child;a!==null;)Oy(t,n,a),a=a.sibling}function Oy(t,n,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Rt||Ei(a,n),Fi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ei(a,n);var o=ot,h=an;Mr(a.type)&&(ot=a.stateNode,an=!1),Fi(t,n,a),ml(a.stateNode),ot=o,an=h;break;case 5:Rt||Ei(a,n);case 6:if(o=ot,h=an,ot=null,Fi(t,n,a),ot=o,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Ye(a,n,f)}else try{ot.removeChild(a.stateNode)}catch(f){Ye(a,n,f)}break;case 18:ot!==null&&(an?(t=ot,S_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ga(t)):S_(ot,a.stateNode));break;case 4:o=ot,h=an,ot=a.stateNode.containerInfo,an=!0,Fi(t,n,a),ot=o,an=h;break;case 0:case 11:case 14:case 15:Rr(2,a,n),Rt||Rr(4,a,n),Fi(t,n,a);break;case 1:Rt||(Ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&wy(a,n,o)),Fi(t,n,a);break;case 21:Fi(t,n,a);break;case 22:Rt=(o=Rt)||a.memoizedState!==null,Fi(t,n,a),Rt=o;break;default:Fi(t,n,a)}}function My(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ga(t)}catch(a){Ye(n,n.return,a)}}}function Vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(a){Ye(n,n.return,a)}}function W1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ny),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ny),n;default:throw Error(s(435,t.tag))}}function uc(t,n){var a=W1(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=lb.bind(null,t,o);o.then(h,h)}})}function on(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Mr(E.type)){ot=E.stateNode,an=!1;break e}break;case 5:ot=E.stateNode,an=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,an=!0;break e}E=E.return}if(ot===null)throw Error(s(160));Oy(f,y,h),ot=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ky(n,t),n=n.sibling}var Xn=null;function ky(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),ln(t),o&4&&(Rr(3,t,t.return),rl(3,t),Rr(5,t,t.return));break;case 1:on(n,t),ln(t),o&512&&(Rt||a===null||Ei(a,a.return)),o&64&&Gi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Xn;if(on(n,t),ln(t),o&512&&(Rt||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[Et]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ft(f,o,a),f[Et]=t,Tt(f),o=f;break e;case"link":var y=k_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Ft(f,o,a),h.head.appendChild(f);break;case"meta":if(y=k_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Ft(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Et]=t,Tt(f),o=f}t.stateNode=o}else U_(h,t.type,t.stateNode);else t.stateNode=V_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?U_(h,t.type,t.stateNode):V_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Xf(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(n,t),ln(t),o&512&&(Rt||a===null||Ei(a,a.return)),a!==null&&o&4&&Xf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(n,t),ln(t),o&512&&(Rt||a===null||Ei(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(oe){Ye(t,t.return,oe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Xf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(on(n,t),ln(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(oe){Ye(t,t.return,oe)}}break;case 3:if(wc=null,h=Xn,Xn=Ac(n.containerInfo),on(n,t),Xn=h,ln(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(oe){Ye(t,t.return,oe)}Zf&&(Zf=!1,Uy(t));break;case 4:o=Xn,Xn=Ac(t.stateNode.containerInfo),on(n,t),ln(t),Xn=o;break;case 12:on(n,t),ln(t);break;case 31:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 13:on(n,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=Gi,Q=Rt;if(Gi=j||h,Rt=Q||I,on(n,t),Rt=Q,Gi=j,ln(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Gi||Rt||js(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=I.stateNode;var J=I.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){Ye(I,I.return,oe)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(oe){Ye(I,I.return,oe)}}}else if(n.tag===18){if(a===null){I=n;try{var H=I.stateNode;h?w_(H,!0):w_(I.stateNode,!1)}catch(oe){Ye(I,I.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,uc(t,a))));break;case 19:on(n,t),ln(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,uc(t,o)));break;case 30:break;case 21:break;default:on(n,t),ln(t)}}function ln(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Iy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(t);lc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(sn(y,""),a.flags&=-33);var E=$f(t);lc(t,E,y);break;case 3:case 4:var I=a.stateNode.containerInfo,j=$f(t);Jf(t,j,I);break;default:throw Error(s(161))}}catch(Q){Ye(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Uy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Qi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(t,n.alternate,n),n=n.sibling}function js(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rr(4,n,n.return),js(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wy(n,n.return,a),js(n);break;case 27:ml(n.stateNode);case 26:case 5:Ei(n,n.return),js(n);break;case 22:n.memoizedState===null&&js(n);break;case 30:js(n);break;default:js(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),rl(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ye(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)dp(I[h],E)}catch(j){Ye(o,o.return,j)}}a&&y&64&&Sy(f),sl(f,f.return);break;case 27:Cy(f);case 26:case 5:Ki(h,f,a),a&&o===null&&y&4&&Ry(f),sl(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&y&4&&My(h,f);break;case 13:Ki(h,f,a),a&&y&4&&Vy(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),sl(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Wf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fo(a))}function ed(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t))}function $n(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(t,n,a,o),n=n.sibling}function Py(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,o),h&2048&&rl(9,n);break;case 1:$n(t,n,a,o);break;case 3:$n(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){$n(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(n,n.return,I)}}else $n(t,n,a,o);break;case 31:$n(t,n,a,o);break;case 13:$n(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,o):al(t,n):f._visibility&2?$n(t,n,a,o):(f._visibility|=2,Ma(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(y,n);break;case 24:$n(t,n,a,o),h&2048&&ed(n.alternate,n);break;default:$n(t,n,a,o)}}function Ma(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=a,I=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(f,y,E,I,h),rl(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ma(f,y,E,I,h):al(f,y):(Q._visibility|=2,Ma(f,y,E,I,h)),h&&j&2048&&Wf(y.alternate,y);break;case 24:Ma(f,y,E,I,h),h&&j&2048&&ed(y.alternate,y);break;default:Ma(f,y,E,I,h)}n=n.sibling}}function al(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Wf(o.alternate,o);break;case 24:al(a,o),h&2048&&ed(o.alternate,o);break;default:al(a,o)}n=n.sibling}}var ol=8192;function Va(t,n,a){if(t.subtreeFlags&ol)for(t=t.child;t!==null;)Ly(t,n,a),t=t.sibling}function Ly(t,n,a){switch(t.tag){case 26:Va(t,n,a),t.flags&ol&&t.memoizedState!==null&&jb(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:Va(t,n,a);break;case 3:case 4:var o=Xn;Xn=Ac(t.stateNode.containerInfo),Va(t,n,a),Xn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Va(t,n,a),ol=o):Va(t,n,a));break;default:Va(t,n,a)}}function jy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ll(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Lt=o,By(o,t)}jy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zy(t),t=t.sibling}function zy(t){switch(t.tag){case 0:case 11:case 15:ll(t),t.flags&2048&&Rr(9,t,t.return);break;case 3:ll(t);break;case 12:ll(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cc(t)):ll(t);break;default:ll(t)}}function cc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Lt=o,By(o,t)}jy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rr(8,n,n.return),cc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,cc(n));break;default:cc(n)}t=t.sibling}}function By(t,n){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Rr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Lt=o;else e:for(a=t;Lt!==null;){o=Lt;var h=o.sibling,f=o.return;if(Dy(o),o===a){Lt=null;break e}if(h!==null){h.return=f,Lt=h;break e}Lt=f}}}var eb={getCacheForType:function(t){var n=Ht(At),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},tb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,We=null,Ne=null,De=0,Ke=0,vn=null,Ir=!1,ka=!1,td=!1,Yi=0,ct=0,Cr=0,zs=0,nd=0,En=0,Ua=0,ul=null,un=null,id=!1,hc=0,qy=0,fc=1/0,dc=null,Nr=null,Mt=0,xr=null,Pa=null,Xi=0,rd=0,sd=null,Hy=null,cl=0,ad=null;function Tn(){return(Ge&2)!==0&&De!==0?De&-De:F.T!==null?fd():mu()}function Gy(){if(En===0)if((De&536870912)===0||Ue){var t=ds;ds<<=1,(ds&3932160)===0&&(ds=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function cn(t,n,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(La(t,0),Dr(t,De,En,!1)),ms(t,a),((Ge&2)===0||t!==We)&&(t===We&&((Ge&2)===0&&(zs|=a),ct===4&&Dr(t,De,En,!1)),Ti(t))}function Fy(t,n,a){if((Ge&6)!==0)throw Error(s(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),h=o?rb(t,n):ld(t,n,!0),f=o;do{if(h===0){ka&&!o&&Dr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!nb(a)){h=ld(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=ul;var I=E.current.memoizedState.isDehydrated;if(I&&(La(E,y).flags|=256),y=ld(E,y,!1),y!==2){if(td&&!I){E.errorRecoveryDisabledLanes|=f,zs|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){La(t,0),Dr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,En,!Ir);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=hc+300-en(),10<h)){if(Dr(o,n,En,!Ir),ii(o,0,!0)!==0)break e;Xi=n,o.timeoutHandle=b_(Qy.bind(null,o,a,un,dc,id,n,En,zs,Ua,Ir,f,"Throttled",-0,0),h);break e}Qy(o,a,un,dc,id,n,En,zs,Ua,Ir,f,null,-0,0)}}break}while(!0);Ti(t)}function Qy(t,n,a,o,h,f,y,E,I,j,Q,J,z,H){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ly(n,f,J);var oe=(f&62914560)===f?hc-en():(f&4194048)===f?qy-en():0;if(oe=zb(J,oe),oe!==null){Xi=f,t.cancelPendingCommit=oe(e_.bind(null,t,n,f,a,o,h,y,E,I,Q,J,null,z,H)),Dr(t,f,y,!j);return}}e_(t,n,f,a,o,h,y,E,I)}function nb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(t,n,a,o){n&=~nd,n&=~zs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&gs(t,a,n)}function mc(){return(Ge&6)===0?(hl(0),!1):!0}function od(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Li=Ds=null,Af(t),Ca=null,Ko=0,t=Ne;for(;t!==null;)Ay(t.alternate,t),t=t.return;Ne=null}}function La(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xi=0,od(),We=t,Ne=a=Ui(t.current,null),De=n,Ke=0,vn=null,Ir=!1,ka=zn(t,n),td=!1,Ua=En=nd=zs=Cr=ct=0,un=ul=null,id=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-ft(o),f=1<<h;n|=t[h],o&=~f}return Yi=n,ku(),a}function Ky(t,n){we=null,F.H=tl,n===Ia||n===Hu?(n=up(),Ke=3):n===hf?(n=up(),Ke=4):Ke=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ne===null&&(ct=1,ic(t,Dn(n,t.current)))}function Yy(){var t=yn.current;return t===null?!0:(De&4194048)===De?kn===null:(De&62914560)===De||(De&536870912)!==0?t===kn:!1}function Xy(){var t=F.H;return F.H=tl,t===null?tl:t}function $y(){var t=F.A;return F.A=eb,t}function gc(){ct=4,Ir||(De&4194048)!==De&&yn.current!==null||(ka=!0),(Cr&134217727)===0&&(zs&134217727)===0||We===null||Dr(We,De,En,!1)}function ld(t,n,a){var o=Ge;Ge|=2;var h=Xy(),f=$y();(We!==t||De!==n)&&(dc=null,La(t,n)),n=!1;var y=ct;e:do try{if(Ke!==0&&Ne!==null){var E=Ne,I=vn;switch(Ke){case 8:od(),y=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var j=Ke;if(Ke=0,vn=null,ja(t,E,I,j),a&&ka){y=0;break e}break;default:j=Ke,Ke=0,vn=null,ja(t,E,I,j)}}ib(),y=ct;break}catch(Q){Ky(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Li=Ds=null,Ge=o,F.H=h,F.A=f,Ne===null&&(We=null,De=0,ku()),y}function ib(){for(;Ne!==null;)Jy(Ne)}function rb(t,n){var a=Ge;Ge|=2;var o=Xy(),h=$y();We!==t||De!==n?(dc=null,fc=en()+500,La(t,n)):ka=zn(t,n);e:do try{if(Ke!==0&&Ne!==null){n=Ne;var f=vn;t:switch(Ke){case 1:Ke=0,vn=null,ja(t,n,f,1);break;case 2:case 9:if(op(f)){Ke=0,vn=null,Zy(n);break}n=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),Ti(t)},f.then(n,n);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:op(f)?(Ke=0,vn=null,Zy(n)):(Ke=0,vn=null,ja(t,n,f,7));break;case 5:var y=null;switch(Ne.tag){case 26:y=Ne.memoizedState;case 5:case 27:var E=Ne;if(y?P_(y):E.stateNode.complete){Ke=0,vn=null;var I=E.sibling;if(I!==null)Ne=I;else{var j=E.return;j!==null?(Ne=j,pc(j)):Ne=null}break t}}Ke=0,vn=null,ja(t,n,f,5);break;case 6:Ke=0,vn=null,ja(t,n,f,6);break;case 8:od(),ct=6;break e;default:throw Error(s(462))}}sb();break}catch(Q){Ky(t,Q)}while(!0);return Li=Ds=null,F.H=o,F.A=h,Ge=a,Ne!==null?0:(We=null,De=0,ku(),ct)}function sb(){for(;Ne!==null&&!Ph();)Jy(Ne)}function Jy(t){var n=Ty(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,n===null?pc(t):Ne=n}function Zy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=gy(a,n,n.pendingProps,n.type,void 0,De);break;case 11:n=gy(a,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:Af(n);default:Ay(a,n),n=Ne=$g(n,Yi),n=Ty(a,n,Yi)}t.memoizedProps=t.pendingProps,n===null?pc(t):Ne=n}function ja(t,n,a,o){Li=Ds=null,Af(n),Ca=null,Ko=0;var h=n.return;try{if(K1(t,h,n,a,De)){ct=1,ic(t,Dn(a,t.current)),Ne=null;return}}catch(f){if(h!==null)throw Ne=h,f;ct=1,ic(t,Dn(a,t.current)),Ne=null;return}n.flags&32768?(Ue||o===1?t=!0:ka||(De&536870912)!==0?t=!1:(Ir=t=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wy(n,t)):pc(n)}function pc(t){var n=t;do{if((n.flags&32768)!==0){Wy(n,Ir);return}t=n.return;var a=$1(n.alternate,n,Yi);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);ct===0&&(ct=5)}function Wy(t,n){do{var a=J1(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function e_(t,n,a,o,h,f,y,E,I){t.cancelPendingCommit=null;do yc();while(Mt!==0);if((Ge&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Xh,zh(t,a,f,y,E,I),t===We&&(Ne=We=null,De=0),Pa=n,xr=t,Xi=a,rd=f,sd=h,Hy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ub(or,function(){return s_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=B.p,B.p=2,y=Ge,Ge|=4;try{Z1(t,n,a)}finally{Ge=y,B.p=h,F.T=o}}Mt=1,t_(),n_(),i_()}}function t_(){if(Mt===1){Mt=0;var t=xr,n=Pa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=B.p;B.p=2;var h=Ge;Ge|=4;try{ky(n,t);var f=Ed,y=Bg(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&zg(E.ownerDocument.documentElement,E)){if(I!==null&&Gh(E)){var j=I.start,Q=I.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var H=z.getSelection(),oe=E.textContent.length,me=Math.min(I.start,oe),Ze=I.end===void 0?me:Math.min(I.end,oe);!H.extend&&me>Ze&&(y=Ze,Ze=me,me=y);var k=jg(E,me),D=jg(E,Ze);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=J.createRange();L.setStart(k.node,k.offset),H.removeAllRanges(),me>Ze?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var K=J[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Nc=!!vd,Ed=vd=null}finally{Ge=h,B.p=o,F.T=a}}t.current=n,Mt=2}}function n_(){if(Mt===2){Mt=0;var t=xr,n=Pa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=B.p;B.p=2;var h=Ge;Ge|=4;try{xy(t,n.alternate,n)}finally{Ge=h,B.p=o,F.T=a}}Mt=3}}function i_(){if(Mt===4||Mt===3){Mt=0,ou();var t=xr,n=Pa,a=Xi,o=Hy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Mt=5:(Mt=0,Pa=xr=null,r_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Nr=null),Oi(a),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=B.p,B.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{F.T=n,B.p=h}}(Xi&3)!==0&&yc(),Ti(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ad?cl++:(cl=0,ad=t):cl=0,hl(0)}}function r_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fo(n)))}function yc(){return t_(),n_(),i_(),s_()}function s_(){if(Mt!==5)return!1;var t=xr,n=rd;rd=0;var a=Oi(Xi),o=F.T,h=B.p;try{B.p=32>a?32:a,F.T=null,a=sd,sd=null;var f=xr,y=Xi;if(Mt=0,Pa=xr=null,Xi=0,(Ge&6)!==0)throw Error(s(331));var E=Ge;if(Ge|=4,zy(f.current),Py(f,f.current,y,a),Ge=E,hl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{B.p=h,F.T=o,r_(t,n)}}function a_(t,n,a){n=Dn(a,n),n=Lf(t.stateNode,n,2),t=Ar(t,n,2),t!==null&&(ms(t,2),Ti(t))}function Ye(t,n,a){if(t.tag===3)a_(t,t,a);else for(;n!==null;){if(n.tag===3){a_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Nr===null||!Nr.has(o))){t=Dn(a,t),a=oy(2),o=Ar(n,a,2),o!==null&&(ly(a,o,n,t),ms(o,2),Ti(o));break}}n=n.return}}function ud(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new tb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(td=!0,h.add(a),t=ab.bind(null,t,n,a),n.then(t,t))}function ab(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ct===4||ct===3&&(De&62914560)===De&&300>en()-hc?(Ge&2)===0&&La(t,0):nd|=a,Ua===De&&(Ua=0)),Ti(t)}function o_(t,n){n===0&&(n=du()),t=Cs(t,n),t!==null&&(ms(t,n),Ti(t))}function ob(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),o_(t,a)}function lb(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),o_(t,a)}function ub(t,n){return Ot(t,n)}var _c=null,za=null,cd=!1,vc=!1,hd=!1,Or=0;function Ti(t){t!==za&&t.next===null&&(za===null?_c=za=t:za=za.next=t),vc=!0,cd||(cd=!0,hb())}function hl(t,n){if(!hd&&vc){hd=!0;do for(var a=!1,o=_c;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ft(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,h_(o,f))}else f=De,f=ii(o,o===We?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(a=!0,h_(o,f));o=o.next}while(a);hd=!1}}function cb(){l_()}function l_(){vc=cd=!1;var t=0;Or!==0&&Tb()&&(t=Or);for(var n=en(),a=null,o=_c;o!==null;){var h=o.next,f=u_(o,n);f===0?(o.next=null,a===null?_c=h:a.next=h,h===null&&(za=a)):(a=o,(t!==0||(f&3)!==0)&&(vc=!0)),o=h}Mt!==0&&Mt!==5||hl(t),Or!==0&&(Or=0)}function u_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ft(f),E=1<<y,I=h[y];I===-1?((E&a)===0||(E&o)!==0)&&(h[y]=jh(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=We,a=De,a=ii(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ar(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ar(o),Oi(a)){case 2:case 8:a=To;break;case 32:a=or;break;case 268435456:a=lu;break;default:a=or}return o=c_.bind(null,t),a=Ot(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ar(o),t.callbackPriority=2,t.callbackNode=null,2}function c_(t,n){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(yc()&&t.callbackNode!==a)return null;var o=De;return o=ii(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Fy(t,o,n),u_(t,en()),t.callbackNode!=null&&t.callbackNode===a?c_.bind(null,t):null)}function h_(t,n){if(yc())return null;Fy(t,n,!0)}function hb(){Ab(function(){(Ge&6)!==0?Ot(Eo,cb):l_()})}function fd(){if(Or===0){var t=wa;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Or=t}return Or}function f_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function d_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function fb(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=f_((h[Ut]||null).action),y=o.submitter;y&&(n=(n=y[Ut]||null)?f_(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new mi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var I=y?d_(h,y):new FormData(h);Of(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=y?d_(h,y):new FormData(h),Of(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],db=md.toLowerCase(),mb=md[0].toUpperCase()+md.slice(1);Yn(db,"on"+mb)}Yn(Gg,"onAnimationEnd"),Yn(Fg,"onAnimationIteration"),Yn(Qg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(x1,"onTransitionRun"),Yn(D1,"onTransitionStart"),Yn(O1,"onTransitionCancel"),Yn(Kg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function m_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Vu(Q)}h.currentTarget=null,f=I}else for(y=0;y<o.length;y++){if(E=o[y],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Vu(Q)}h.currentTarget=null,f=I}}}}function xe(t,n){var a=n[sa];a===void 0&&(a=n[sa]=new Set);var o=t+"__bubble";a.has(o)||(g_(n,t,2,!1),a.add(o))}function gd(t,n,a){var o=0;n&&(o|=4),g_(a,t,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[Ec]){t[Ec]=!0,So.forEach(function(a){a!=="selectionchange"&&(gb.has(a)||gd(a,!1,t),gd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,gd("selectionchange",!1,n))}}function g_(t,n,a,o){switch(G_(n)){case 2:var h=Hb;break;case 8:h=Gb;break;default:h=Dd}a=h.bind(null,n,a,t),h=void 0,!Es||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function yd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var I=y.tag;if((I===3||I===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(I=y.tag,I===5||I===6||I===26||I===27){o=f=y;continue e}E=E.parentNode}}o=o.return}dr(function(){var j=f,Q=In(a),J=[];e:{var z=Yg.get(t);if(z!==void 0){var H=mi,oe=t;switch(t){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":H=Du;break;case"focusin":oe="focus",H=Ss;break;case"focusout":oe="blur",H=Ss;break;case"beforeblur":case"afterblur":H=Ss;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Gg:case Fg:case Qg:H=Su;break;case Kg:H=b;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ki;break;case"toggle":case"beforetoggle":H=Se}var me=(n&4)!==0,Ze=!me&&(t==="scroll"||t==="scrollend"),k=me?z!==null?z+"Capture":null:z;me=[];for(var D=j,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=Gn(D,k),K!=null&&me.push(dl(D,K,L))),Ze)break;D=D.return}0<me.length&&(z=new H(z,oe,null,a,Q),J.push({event:z,listeners:me}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==Mo&&(oe=a.relatedTarget||a.fromElement)&&(oi(oe)||oe[si]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(oe=a.relatedTarget||a.toElement,H=j,oe=oe?oi(oe):null,oe!==null&&(Ze=u(oe),me=oe.tag,oe!==Ze||me!==5&&me!==27&&me!==6)&&(oe=null)):(H=null,oe=j),H!==oe)){if(me=Po,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(me=ki,K="onPointerLeave",k="onPointerEnter",D="pointer"),Ze=H==null?z:dn(H),L=oe==null?z:dn(oe),z=new me(K,D+"leave",H,a,Q),z.target=Ze,z.relatedTarget=L,K=null,oi(Q)===j&&(me=new me(k,D+"enter",oe,a,Q),me.target=L,me.relatedTarget=Ze,K=me),Ze=K,H&&oe)t:{for(me=pb,k=H,D=oe,L=0,K=k;K;K=me(K))L++;K=0;for(var he=D;he;he=me(he))K++;for(;0<L-K;)k=me(k),L--;for(;0<K-L;)D=me(D),K--;for(;L--;){if(k===D||D!==null&&k===D.alternate){me=k;break t}k=me(k),D=me(D)}me=null}else me=null;H!==null&&p_(J,z,H,me,!1),oe!==null&&Ze!==null&&p_(J,Ze,oe,me,!0)}}e:{if(z=j?dn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Be=Mg;else if(Dg(z))if(Vg)Be=I1;else{Be=w1;var ue=S1}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ua(j.elementType)&&(Be=Mg):Be=R1;if(Be&&(Be=Be(t,j))){Og(J,Be,a,Q);break e}ue&&ue(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&xo(z,"number",z.value)}switch(ue=j?dn(j):window,t){case"focusin":(Dg(ue)||ue.contentEditable==="true")&&(ya=ue,Fh=j,qo=null);break;case"focusout":qo=Fh=ya=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,qg(J,a,Q);break;case"selectionchange":if(N1)break;case"keydown":case"keyup":qg(J,a,Q)}var Ie;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else pa?ws(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(yi&&a.locale!=="ko"&&(pa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&pa&&(Ie=ko()):(di=Q,Vo="value"in di?di.value:di.textContent,pa=!0)),ue=Tc(j,Oe),0<ue.length&&(Oe=new pi(Oe,t,null,a,Q),J.push({event:Oe,listeners:ue}),Ie?Oe.data=Ie:(Ie=ga(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Nn?E1(t,a):T1(t,a))&&(Oe=Tc(j,"onBeforeInput"),0<Oe.length&&(ue=new pi("onBeforeInput","beforeinput",null,a,Q),J.push({event:ue,listeners:Oe}),ue.data=Ie)),fb(J,t,j,a,Q)}m_(J,n)})}function dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Tc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&o.unshift(dl(t,h,f)),h=Gn(t,n),h!=null&&o.push(dl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function pb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function p_(t,n,a,o,h){for(var f=n._reactName,y=[];a!==null&&a!==o;){var E=a,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=Gn(a,f),j!=null&&y.unshift(dl(a,j,I))):h||(j=Gn(a,f),j!=null&&y.push(dl(a,j,I)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var yb=/\r\n?/g,_b=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(yb,`
`).replace(_b,"")}function __(t,n){return n=y_(n),y_(t)===n}function Je(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(t,""+o);break;case"className":mn(t,"class",o);break;case"tabIndex":mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,o);break;case"style":Oo(t,o,f);break;case"data":if(n!=="object"){mn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Je(t,n,"name",h.name,h,null),Je(t,n,"formEncType",h.formEncType,h,null),Je(t,n,"formMethod",h.formMethod,h,null),Je(t,n,"formTarget",h.formTarget,h,null)):(Je(t,n,"encType",h.encType,h,null),Je(t,n,"method",h.method,h,null),Je(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ca(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":xe("beforetoggle",t),xe("toggle",t),oa(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,oa(t,a,o))}}function _d(t,n,a,o,h,f){switch(a){case"style":Oo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&xe("scroll",t);break;case"onScrollEnd":o!=null&&xe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):oa(t,a,o)}}}function Ft(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Je(t,n,f,y,a,null)}}h&&Je(t,n,"srcSet",a.srcSet,a,null),o&&Je(t,n,"src",a.src,a,null);return;case"input":xe("invalid",t);var E=f=y=h=null,I=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":I=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Je(t,n,o,Q,a,null)}}_u(t,f,E,I,j,y,h,!1);return;case"select":xe("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Je(t,n,h,E,a,null)}n=f,a=y,t.multiple=!!o,n!=null?ur(t,!!o,n,!1):a!=null&&ur(t,!!o,a,!0);return;case"textarea":xe("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Je(t,n,y,E,a,null)}cr(t,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,n,I,o,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(o=0;o<fl.length;o++)xe(fl[o],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Je(t,n,j,o,a,null)}return;default:if(ua(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&_d(t,n,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Je(t,n,E,o,a,null))}function vb(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,I=null,j=null,Q=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(H)||Je(t,n,H,null,o,J)}}for(var z in o){var H=o[z];if(J=a[z],o.hasOwnProperty(z)&&(H!=null||J!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==J&&Je(t,n,z,H,o,J)}}la(t,y,E,I,j,Q,f,h);return;case"select":H=y=E=z=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||Je(t,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==I&&Je(t,n,h,f,o,I)}n=E,a=y,o=H,z!=null?ur(t,!!a,z,!1):!!o!=!!a&&(n!=null?ur(t,!!a,n,!0):ur(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(t,n,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Je(t,n,y,h,o,f)}vu(t,z,H);return;case"option":for(var oe in a)if(z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe))switch(oe){case"selected":t.selected=!1;break;default:Je(t,n,oe,null,o,z)}for(I in o)if(z=o[I],H=a[I],o.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null))switch(I){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Je(t,n,I,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)z=a[me],a.hasOwnProperty(me)&&z!=null&&!o.hasOwnProperty(me)&&Je(t,n,me,null,o,z);for(j in o)if(z=o[j],H=a[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Je(t,n,j,z,o,H)}return;default:if(ua(n)){for(var Ze in a)z=a[Ze],a.hasOwnProperty(Ze)&&z!==void 0&&!o.hasOwnProperty(Ze)&&_d(t,n,Ze,void 0,o,z);for(Q in o)z=o[Q],H=a[Q],!o.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||_d(t,n,Q,z,o,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&Je(t,n,k,null,o,z);for(J in o)z=o[J],H=a[J],!o.hasOwnProperty(J)||z===H||z==null&&H==null||Je(t,n,J,z,o,H)}function v_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Eb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&v_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],j=I.startTime;if(j>E)break;var Q=I.transferSize,J=I.initiatorType;Q&&v_(J)&&(I=I.responseEnd,y+=Q*(I<E?1:(E-j)/(I-j)))}if(--o,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vd=null,Ed=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function E_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Td(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function Tb(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,bb=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(t){return A_.resolve(null).then(t).catch(Sb)}:b_;function Sb(t){setTimeout(function(){throw t})}function Mr(t){return t==="head"}function S_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ga(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&ml(t.ownerDocument.body);a=h}while(a);Ga(n)}function w_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ad(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wb(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function Rb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function R_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Un(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$?"||t.data==="$~"}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ib(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rd=null;function I_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Un(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function C_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function N_(t,n,a){switch(n=bc(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);aa(t)}var Pn=new Map,x_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $i=B.d;B.d={f:Cb,r:Nb,D:xb,C:Db,L:Ob,m:Mb,X:kb,S:Vb,M:Ub};function Cb(){var t=$i.f(),n=mc();return t||n}function Nb(t){var n=Rn(t);n!==null&&n.tag===5&&n.type==="form"?Kp(n):$i.r(t)}var Ba=typeof document>"u"?null:document;function D_(t,n,a){var o=Ba;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),x_.has(h)||(x_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ft(n,"link",t),Tt(n),o.head.appendChild(n)))}}function xb(t){$i.D(t),D_("dns-prefetch",t,null)}function Db(t,n){$i.C(t,n),D_("preconnect",t,n)}function Ob(t,n,a){$i.L(t,n,a);var o=Ba;if(o&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(n){case"style":f=qa(t);break;case"script":f=Ha(t)}Pn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Pn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(pl(f))||(n=o.createElement("link"),Ft(n,"link",t),Tt(n),o.head.appendChild(n)))}}function Mb(t,n){$i.m(t,n);var a=Ba;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(t)}if(!Pn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Pn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}o=a.createElement("link"),Ft(o,"link",t),Tt(o),a.head.appendChild(o)}}}function Vb(t,n,a){$i.S(t,n,a);var o=Ba;if(o&&t){var h=li(o).hoistableStyles,f=qa(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(gl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Pn.get(f))&&Id(t,a);var I=y=o.createElement("link");Tt(I),Ft(I,"link",t),I._p=new Promise(function(j,Q){I.onload=j,I.onerror=Q}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Sc(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function kb(t,n){$i.X(t,n);var a=Ba;if(a&&t){var o=li(a).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(t=A({src:t,async:!0},n),(n=Pn.get(h))&&Cd(t,n),f=a.createElement("script"),Tt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ub(t,n){$i.M(t,n);var a=Ba;if(a&&t){var o=li(a).hoistableScripts,h=Ha(t),f=o.get(h);f||(f=a.querySelector(pl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&Cd(t,n),f=a.createElement("script"),Tt(f),Ft(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function O_(t,n,a,o){var h=(h=Re.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qa(a.href),a=li(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var f=li(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(gl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),f||Pb(h,t,a,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(a),a=li(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+rn(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function M_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function Pb(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ft(n,"link",a),Tt(n),t.head.appendChild(n))}function Ha(t){return'[src="'+rn(t)+'"]'}function pl(t){return"script[async]"+t}function V_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return n.instance=o,Tt(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Ft(o,"style",h),Sc(o,a.precedence,t),n.instance=o;case"stylesheet":h=qa(a.href);var f=t.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Tt(f),f;o=M_(a),(h=Pn.get(h))&&Id(o,h),f=(t.ownerDocument||t).createElement("link"),Tt(f);var y=f;return y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Ft(f,"link",o),n.state.loading|=4,Sc(f,a.precedence,t),n.instance=f;case"script":return f=Ha(a.src),(h=t.querySelector(pl(f)))?(n.instance=h,Tt(h),h):(o=a,(h=Pn.get(f))&&(o=A({},a),Cd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,a.precedence,t));return n.instance}function Sc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Id(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wc=null;function k_(t,n,a){if(wc===null){var o=new Map,h=wc=new Map;h.set(a,o)}else h=wc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[Et]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function U_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Lb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function P_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function jb(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=qa(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Rc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Tt(f);return}f=n.ownerDocument||n,o=M_(o),(h=Pn.get(h))&&Id(o,h),f=f.createElement("link"),Tt(f);var y=f;y._p=new Promise(function(E,I){y.onload=E,y.onerror=I}),Ft(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Rc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function zb(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Nd===0&&(Nd=62500*Eb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Nd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(Bb,t),Ic=null,Rc.call(t))}function Bb(t,n){if(!(n.state.loading&4)){var a=Ic.get(t);if(a)var o=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var yl={$$typeof:de,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function qb(t,n,a,o,h,f,y,E,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function L_(t,n,a,o,h,f,y,E,I,j,Q,J){return t=new qb(t,n,a,y,I,j,Q,J,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=lf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},ff(f),t}function j_(t){return t?(t=Ea,t):Ea}function z_(t,n,a,o,h,f){h=j_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ar(t,o,n),a!==null&&(cn(a,t,n),Xo(a,t,n))}function B_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function xd(t,n){B_(t,n),(t=t.alternate)&&B_(t,n)}function q_(t){if(t.tag===13||t.tag===31){var n=Cs(t,67108864);n!==null&&cn(n,t,67108864),xd(t,67108864)}}function H_(t){if(t.tag===13||t.tag===31){var n=Tn();n=ps(n);var a=Cs(t,n);a!==null&&cn(a,t,n),xd(t,n)}}var Nc=!0;function Hb(t,n,a,o){var h=F.T;F.T=null;var f=B.p;try{B.p=2,Dd(t,n,a,o)}finally{B.p=f,F.T=h}}function Gb(t,n,a,o){var h=F.T;F.T=null;var f=B.p;try{B.p=8,Dd(t,n,a,o)}finally{B.p=f,F.T=h}}function Dd(t,n,a,o){if(Nc){var h=Od(o);if(h===null)yd(t,n,o,xc,a),F_(t,o);else if(Qb(h,t,n,a,o))o.stopPropagation();else if(F_(t,o),n&4&&-1<Fb.indexOf(t)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ni(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var I=1<<31-ft(y);E.entanglements[1]|=I,y&=~I}Ti(f),(Ge&6)===0&&(fc=en()+500,hl(0))}}break;case 31:case 13:E=Cs(f,2),E!==null&&cn(E,f,2),mc(),xd(f,2)}if(f=Od(o),f===null&&yd(t,n,o,xc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(t,n,o,null,a)}}function Od(t){return t=In(t),Md(t)}var xc=null;function Md(t){if(xc=null,t=oi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case Eo:return 2;case To:return 8;case or:case Lh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var Vd=!1,Vr=null,kr=null,Ur=null,_l=new Map,vl=new Map,Pr=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(t,n){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&q_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Qb(t,n,a,o,h){switch(n){case"focusin":return Vr=El(Vr,t,n,a,o,h),!0;case"dragenter":return kr=El(kr,t,n,a,o,h),!0;case"mouseover":return Ur=El(Ur,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,t,n,a,o,h)),!0}return!1}function Q_(t){var n=oi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){H_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Bn(t.priority,function(){H_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Od(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return n=Rn(a),n!==null&&q_(n),t.blockedOn=a,!1;n.shift()}return!0}function K_(t,n,a){Dc(t)&&a.delete(n)}function Kb(){Vd=!1,Vr!==null&&Dc(Vr)&&(Vr=null),kr!==null&&Dc(kr)&&(kr=null),Ur!==null&&Dc(Ur)&&(Ur=null),_l.forEach(K_),vl.forEach(K_)}function Oc(t,n){t.blockedOn===n&&(t.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Kb)))}var Mc=null;function Y_(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=Rn(a);f!==null&&(t.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ga(t){function n(I){return Oc(I,t)}Vr!==null&&Oc(Vr,t),kr!==null&&Oc(kr,t),Ur!==null&&Oc(Ur,t),_l.forEach(n),vl.forEach(n);for(var a=0;a<Pr.length;a++){var o=Pr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ut]||null;if(typeof f=="function")y||Y_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ut]||null)E=y.formAction;else if(Md(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Y_(a)}}}function X_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(t){this._internalRoot=t}Vc.prototype.render=kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=Tn();z_(a,o,t,n,null,null)},Vc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;z_(t.current,2,null,t,null,null),mc(),n[si]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var n=mu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Pr.length&&n!==0&&n<Pr[a].priority;a++);Pr.splice(a,0,t),a===0&&Q_(t)}};var $_=e.version;if($_!=="19.2.0")throw Error(s(527,$_,"19.2.0"));B.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Yb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{jn=kc.inject(Yb),zt=kc}catch{}}return bl.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",h=iy,f=ry,y=sy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=L_(t,1,!1,null,null,a,o,null,h,f,y,X_),t[si]=n.current,pd(t),new kd(n)},bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,h="",f=iy,y=ry,E=sy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=L_(t,1,!0,n,a??null,o,h,I,f,y,E,X_),n.context=j_(null),a=n.current,o=Tn(),o=ps(o),h=br(o),h.callback=null,Ar(a,h,o),a=o,n.current.lanes=a,ms(n,a),Ti(n),t[si]=n.current,pd(t),new Vc(n)},bl.version="19.2.0",bl}var av;function rA(){if(av)return Ld.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ld.exports=iA(),Ld.exports}var sA=rA();const aA=()=>{};var ov={};const j0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},oA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[i++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=u>>2,A=(u&3)<<4|g>>4;let x=(g&15)<<2|_>>6,G=_&63;p||(G=64,d||(x=64)),s.push(i[T],i[A],i[x],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(j0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):oA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,u==null||g==null||_==null||A==null)throw new lA;const x=u<<2|g>>4;if(s.push(x),_!==64){const G=g<<4&240|_>>2;if(s.push(G),A!==64){const Y=_<<6&192|A;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class lA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(r){const e=j0(r);return z0.encodeByteArray(e,!0)},Zc=function(r){return uA(r).replace(/\./g,"")},B0=function(r){try{return z0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&B0(r[1]);return e&&JSON.parse(e)},ph=()=>{try{return aA()||hA()||fA()||dA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},q0=r=>ph()?.emulatorHosts?.[r],mA=r=>{const e=q0(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},H0=()=>ph()?.config,G0=r=>ph()?.[`_${r}`];class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function F0(r){return(await fetch(r,{credentials:"include"})).ok}function pA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const Nl={};function yA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?r.emulator.push(e):r.prod.push(e);return r}function _A(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let lv=!1;function Q0(r,e){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Nl[r]===e||Nl[r]||lv)return;Nl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=yA().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{lv=!0,d()},x}function T(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=_A(s),G=i("text"),Y=document.getElementById(G)||document.createElement("span"),W=i("learnmore"),ee=document.getElementById(W)||document.createElement("a"),ce=i("preprendIcon"),ge=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const de=x.element;g(de),T(ee,W);const je=_();p(ge,ce),de.append(ge,Y,ee,je),document.body.appendChild(de)}u?(Y.innerText="Preview backend disconnected.",ge.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ge.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function EA(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const CA="FirebaseError";class rr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=CA,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?NA(u,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new rr(l,g,s)}}function NA(r,e){return r.replace(xA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const xA=/\{\$([^}]+)}/g;function DA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qs(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const u=r[l],d=e[l];if(uv(u)&&uv(d)){if(!Qs(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}function $l(r){const e=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Al(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Sl(r){const e=r.indexOf("?");if(!e)return"";const i=r.indexOf("#",e);return r.substring(e,i>0?i:void 0)}function OA(r,e){const i=new MA(r,e);return i.subscribe.bind(i)}class MA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let l;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");VA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function yt(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bs="[DEFAULT]";class kA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new gA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PA(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&d.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UA(r){return r===Bs?void 0:r}function PA(r){return r.instantiationMode==="EAGER"}class LA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const jA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},zA=Me.INFO,BA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},qA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=BA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=zA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const HA=(r,e)=>e.some(i=>r instanceof i);let cv,hv;function GA(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K0=new WeakMap,tm=new WeakMap,Y0=new WeakMap,Hd=new WeakMap,Om=new WeakMap;function QA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{i(Fr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&K0.set(i,r)}).catch(()=>{}),Om.set(e,r),e}function KA(r){if(tm.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,e)}let nm={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Y0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YA(r){nm=r(nm)}function XA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Gd(this),e,...i);return Y0.set(s,e.sort?e.sort():[e]),Fr(s)}:FA().includes(r)?function(...e){return r.apply(Gd(this),e),Fr(K0.get(this))}:function(...e){return Fr(r.apply(Gd(this),e))}}function $A(r){return typeof r=="function"?XA(r):(r instanceof IDBTransaction&&KA(r),HA(r,GA())?new Proxy(r,nm):r)}function Fr(r){if(r instanceof IDBRequest)return QA(r);if(Hd.has(r))return Hd.get(r);const e=$A(r);return e!==r&&(Hd.set(r,e),Om.set(e,r)),e}const Gd=r=>Om.get(r);function JA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=Fr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Fr(d.result),p.oldVersion,p.newVersion,Fr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const ZA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],Fd=new Map;function fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=WA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||ZA.includes(i)))return;const u=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&p.done]))[0]};return Fd.set(e,u),u}YA(r=>({...r,get:(e,i,s)=>fv(e,i)||r.get(e,i,s),has:(e,i)=>!!fv(e,i)||r.has(e,i)}));class eS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(tS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function tS(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",dv="0.14.6";const er=new Dm("@firebase/app"),nS="@firebase/app-compat",iS="@firebase/analytics-compat",rS="@firebase/analytics",sS="@firebase/app-check-compat",aS="@firebase/app-check",oS="@firebase/auth",lS="@firebase/auth-compat",uS="@firebase/database",cS="@firebase/data-connect",hS="@firebase/database-compat",fS="@firebase/functions",dS="@firebase/functions-compat",mS="@firebase/installations",gS="@firebase/installations-compat",pS="@firebase/messaging",yS="@firebase/messaging-compat",_S="@firebase/performance",vS="@firebase/performance-compat",ES="@firebase/remote-config",TS="@firebase/remote-config-compat",bS="@firebase/storage",AS="@firebase/storage-compat",SS="@firebase/firestore",wS="@firebase/ai",RS="@firebase/firestore-compat",IS="firebase",CS="12.6.0";const rm="[DEFAULT]",NS={[im]:"fire-core",[nS]:"fire-core-compat",[rS]:"fire-analytics",[iS]:"fire-analytics-compat",[aS]:"fire-app-check",[sS]:"fire-app-check-compat",[oS]:"fire-auth",[lS]:"fire-auth-compat",[uS]:"fire-rtdb",[cS]:"fire-data-connect",[hS]:"fire-rtdb-compat",[fS]:"fire-fn",[dS]:"fire-fn-compat",[mS]:"fire-iid",[gS]:"fire-iid-compat",[pS]:"fire-fcm",[yS]:"fire-fcm-compat",[_S]:"fire-perf",[vS]:"fire-perf-compat",[ES]:"fire-rc",[TS]:"fire-rc-compat",[bS]:"fire-gcs",[AS]:"fire-gcs-compat",[SS]:"fire-fst",[RS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[IS]:"fire-js-all"};const Wc=new Map,xS=new Map,sm=new Map;function mv(r,e){try{r.container.addComponent(e)}catch(i){er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function eo(r){const e=r.name;if(sm.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,r);for(const i of Wc.values())mv(i,r);for(const i of xS.values())mv(i,r);return!0}function Mm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function bn(r){return r==null?!1:r.settings!==void 0}const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Xl("app","Firebase",DS);class OS{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const lo=CS;function X0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:rm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Qr.create("bad-app-name",{appName:String(l)});if(i||(i=H0()),!i)throw Qr.create("no-options");const u=Wc.get(l);if(u){if(Qs(i,u.options)&&Qs(s,u.config))return u;throw Qr.create("duplicate-app",{appName:l})}const d=new LA(l);for(const p of sm.values())d.addComponent(p);const g=new OS(i,s,d);return Wc.set(l,g),g}function $0(r=rm){const e=Wc.get(r);if(!e&&r===rm&&H0())return X0();if(!e)throw Qr.create("no-app",{appName:r});return e}function Kr(r,e,i){let s=NS[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}eo(new Ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const MS="firebase-heartbeat-database",VS=1,Pl="firebase-heartbeat-store";let Qd=null;function J0(){return Qd||(Qd=JA(MS,VS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function kS(r){try{const i=(await J0()).transaction(Pl),s=await i.objectStore(Pl).get(Z0(r));return await i.done,s}catch(e){if(e instanceof rr)er.warn(e.message);else{const i=Qr.create("idb-get",{originalErrorMessage:e?.message});er.warn(i.message)}}}async function gv(r,e){try{const s=(await J0()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,Z0(r)),await s.done}catch(i){if(i instanceof rr)er.warn(i.message);else{const s=Qr.create("idb-set",{originalErrorMessage:i?.message});er.warn(s.message)}}}function Z0(r){return`${r.name}!${r.options.appId}`}const US=1024,PS=30;class LS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new zS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>PS){const l=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pv(),{heartbeatsToSend:i,unsentEntries:s}=jS(this._heartbeatsCache.heartbeats),l=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return er.warn(e),""}}}function pv(){return new Date().toISOString().substring(0,10)}function jS(r,e=US){const i=[];let s=r.slice();for(const l of r){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),yv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),yv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?IA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yv(r){return Zc(JSON.stringify({version:2,heartbeats:r})).length}function BS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function qS(r){eo(new Ks("platform-logger",e=>new eS(e),"PRIVATE")),eo(new Ks("heartbeat",e=>new LS(e),"PRIVATE")),Kr(im,dv,r),Kr(im,dv,"esm2020"),Kr("fire-js","")}qS("");var HS="firebase",GS="12.6.0";Kr(HS,GS,"app");function W0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FS=W0,eE=new Xl("auth","Firebase",W0());const eh=new Dm("@firebase/auth");function QS(r,...e){eh.logLevel<=Me.WARN&&eh.warn(`Auth (${lo}): ${r}`,...e)}function qc(r,...e){eh.logLevel<=Me.ERROR&&eh.error(`Auth (${lo}): ${r}`,...e)}function Zn(r,...e){throw Vm(r,...e)}function Ai(r,...e){return Vm(r,...e)}function tE(r,e,i){const s={...FS(),[e]:i};return new Xl("auth","Firebase",s).create(e,{appName:r.name})}function Si(r){return tE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(r,...e){if(typeof r!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return eE.create(r,...e)}function pe(r,e,...i){if(!r)throw Vm(e,...i)}function Ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qc(e),new Error(e)}function tr(r,e){r||Ji(e)}function am(){return typeof self<"u"&&self.location?.href||""}function KS(){return _v()==="http:"||_v()==="https:"}function _v(){return typeof self<"u"&&self.location?.protocol||null}function YS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KS()||bA()||"connection"in navigator)?navigator.onLine:!0}function XS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jl{constructor(e,i){this.shortDelay=e,this.longDelay=i,tr(i>e,"Short delay should be less than long delay!"),this.isMobile=vA()||AA()}get(){return YS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function km(r,e){tr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class nE{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $S={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZS=new Jl(3e4,6e4);function sr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ss(r,e,i,s,l={}){return iE(r,l,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const g=$l({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:p,...u};return TA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),nE.fetch()(await rE(r,r.config.apiHost,i,g),_)})}async function iE(r,e,i){r._canInitEmulator=!1;const s={...$S,...e};try{const l=new ew(r),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Uc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Uc(r,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw tE(r,T,_);Zn(r,T)}}catch(l){if(l instanceof rr)throw l;Zn(r,"network-request-failed",{message:String(l)})}}async function uo(r,e,i,s,l={}){const u=await ss(r,e,i,s,l);return"mfaPendingCredential"in u&&Zn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function rE(r,e,i,s){const l=`${e}${i}?${s}`,u=r,d=u.config.emulator?km(r.config,l):`${r.config.apiScheme}://${l}`;return JS.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function WS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ew{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),ZS.get())})}}function Uc(r,e,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Ai(r,e,s);return l.customData._tokenResponse=i,l}function vv(r){return r!==void 0&&r.enterprise!==void 0}class tw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return WS(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nw(r,e){return ss(r,"GET","/v2/recaptchaConfig",sr(r,e))}async function iw(r,e){return ss(r,"POST","/v1/accounts:delete",e)}async function th(r,e){return ss(r,"POST","/v1/accounts:lookup",e)}function xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rw(r,e=!1){const i=yt(r),s=await i.getIdToken(e),l=Um(s);pe(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:s,authTime:xl(Kd(l.auth_time)),issuedAtTime:xl(Kd(l.iat)),expirationTime:xl(Kd(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Kd(r){return Number(r)*1e3}function Um(r){const[e,i,s]=r.split(".");if(e===void 0||i===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=B0(i);return l?JSON.parse(l):(qc("Failed to decode base64 JWT payload"),null)}catch(l){return qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Ev(r){const e=Um(r);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ll(r,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof rr&&sw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class aw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const e=r.auth,i=await r.getIdToken(),s=await Ll(r,th(e,{idToken:i}));pe(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?sE(l.providerUserInfo):[],d=lw(r.providerData,u),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function ow(r){const e=yt(r);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lw(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function sE(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function uw(r,e){const i=await iE(r,{},async()=>{const s=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await rE(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(p.credentials="include"),nE.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function cw(r,e){return ss(r,"POST","/v2/accounts:revokeToken",sr(r,e))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const i=Ev(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:l,expiresIn:u}=await uw(e,i);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:l,expirationTime:u}=i,d=new $a;return s&&(pe(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(pe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(pe(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function jr(r,e){pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new aw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return pe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return rw(this,e)}reload(){return ow(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await Ll(this,iw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,p=i._redirectEventId??void 0,_=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:G,providerData:Y,stsTokenManager:W}=i;pe(A&&W,e,"internal-error");const ee=$a.fromJSON(this.name,W);pe(typeof A=="string",e,"internal-error"),jr(s,e.name),jr(l,e.name),pe(typeof x=="boolean",e,"internal-error"),pe(typeof G=="boolean",e,"internal-error"),jr(u,e.name),jr(d,e.name),jr(g,e.name),jr(p,e.name),jr(_,e.name),jr(T,e.name);const ce=new Jn({uid:A,auth:e,email:l,emailVerified:x,displayName:s,isAnonymous:G,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:ee,createdAt:_,lastLoginAt:T});return Y&&Array.isArray(Y)&&(ce.providerData=Y.map(ge=>({...ge}))),p&&(ce._redirectEventId=p),ce}static async _fromIdTokenResponse(e,i,s=!1){const l=new $a;l.updateFromServerResponse(i);const u=new Jn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await nh(u),u}static async _fromGetAccountInfoResponse(e,i,s){const l=i.users[0];pe(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?sE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new $a;g.updateFromIdToken(s);const p=new Jn({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,_),p}}const Tv=new Map;function Zi(r){tr(r instanceof Function,"Expected a class definition");let e=Tv.get(r);return e?(tr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Tv.set(r,e),e)}class aE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}aE.type="NONE";const bv=aE;function Hc(r,e,i){return`firebase:${r}:${e}:${i}`}class Ja{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Hc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Hc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await th(this.auth,{idToken:e}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ja(Zi(bv),e,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||Zi(bv);const d=Hc(s,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const T=await _._get(d);if(T){let A;if(typeof T=="string"){const x=await th(e,{idToken:T}).catch(()=>{});if(!x)break;A=await Jn._fromGetAccountInfoResponse(e,x,T)}else A=Jn._fromJSON(e,T);_!==u&&(g=A),u=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ja(u,e,s):(u=p[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Ja(u,e,s))}}function Av(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fE(e))return"Blackberry";if(dE(e))return"Webos";if(lE(e))return"Safari";if((e.includes("chrome/")||uE(e))&&!e.includes("edge/"))return"Chrome";if(hE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function oE(r=Wt()){return/firefox\//i.test(r)}function lE(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uE(r=Wt()){return/crios\//i.test(r)}function cE(r=Wt()){return/iemobile/i.test(r)}function hE(r=Wt()){return/android/i.test(r)}function fE(r=Wt()){return/blackberry/i.test(r)}function dE(r=Wt()){return/webos/i.test(r)}function Pm(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hw(r=Wt()){return Pm(r)&&!!window.navigator?.standalone}function fw(){return SA()&&document.documentMode===10}function mE(r=Wt()){return Pm(r)||hE(r)||dE(r)||fE(r)||/windows phone/i.test(r)||cE(r)}function gE(r,e=[]){let i;switch(r){case"Browser":i=Av(Wt());break;case"Worker":i=`${Av(Wt())}-${r}`;break;default:i=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${s}`}class dw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((d,g)=>{try{const p=e(u);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function mw(r,e={}){return ss(r,"GET","/v2/passwordPolicy",sr(r,e))}const gw=6;class pw{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??gw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class yw{constructor(e,i,s,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sv(this),this.idTokenSubscription=new Sv(this),this.beforeStateQueue=new dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await th(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Si(this));const i=e?yt(e):null;return i&&pe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mw(this),i=new pw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await cw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Zi(e)||this._popupRedirectResolver;pe(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function as(r){return yt(r)}class Sv{constructor(e){this.auth=e,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _w(r){yh=r}function pE(r){return yh.loadJS(r)}function vw(){return yh.recaptchaEnterpriseScript}function Ew(){return yh.gapiScript}function Tw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bw{constructor(){this.enterprise=new Aw}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class Aw{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const Sw="recaptcha-enterprise",yE="NO_RECAPTCHA";class ww{constructor(e){this.type=Sw,this.auth=as(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{nw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new tw(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(u,d,g){const p=window.grecaptcha;vv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(yE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(g=>{if(!i&&vv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vw();p.length!==0&&(p+=g),pE(p).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function wv(r,e,i,s=!1,l=!1){const u=new ww(r);let d;if(l)d=yE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function lm(r,e,i,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await wv(r,e,i,i==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await wv(r,e,i,i==="getOobCode");return s(r,d)}else return Promise.reject(u)})}function Rw(r,e){const i=Mm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(Qs(u,e??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:e})}function Iw(r,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Cw(r,e,i){const s=as(r);pe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=_E(e),{host:d,port:g}=Nw(e),p=g===null?"":`:${g}`,_={url:`${u}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pe(Qs(_,s.config.emulator)&&Qs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oo(d)?(F0(`${u}//${d}${p}`),Q0("Auth",!0)):xw()}function _E(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Nw(r){const e=_E(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Rv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Rv(d)}}}function Rv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Lm{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,i){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function Dw(r,e){return ss(r,"POST","/v1/accounts:signUp",e)}async function Ow(r,e){return uo(r,"POST","/v1/accounts:signInWithPassword",sr(r,e))}async function Mw(r,e){return uo(r,"POST","/v1/accounts:signInWithEmailLink",sr(r,e))}async function Vw(r,e){return uo(r,"POST","/v1/accounts:signInWithEmailLink",sr(r,e))}class jl extends Lm{constructor(e,i,s,l=null){super("password",s),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new jl(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new jl(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,i,"signInWithPassword",Ow);case"emailLink":return Mw(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(e,s,"signUpPassword",Dw);case"emailLink":return Vw(e,{idToken:i,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Za(r,e){return uo(r,"POST","/v1/accounts:signInWithIdp",sr(r,e))}const kw="http://localhost";class Ys extends Lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=i;if(!s||!l)return null;const d=new Ys(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Za(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Za(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Za(e,i)}buildRequest(){const e={requestUri:kw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=$l(i)}return e}}function Uw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Pw(r){const e=Al(Sl(r)).link,i=e?Al(Sl(e)).deep_link_id:null,s=Al(Sl(r)).deep_link_id;return(s?Al(Sl(s)).link:null)||s||i||e||r}class jm{constructor(e){const i=Al(Sl(e)),s=i.apiKey??null,l=i.oobCode??null,u=Uw(i.mode??null);pe(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=Pw(e);try{return new jm(i)}catch{return null}}}class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,i){return jl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=jm.parseLink(i);return pe(s,"argument-error"),jl._fromEmailAndCode(e,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Zl extends vE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zr extends Zl{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";class Br extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ys._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return Br.credential(i,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";class qr extends Zl{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Hr extends Zl{constructor(){super("twitter.com")}static credential(e,i){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return Hr.credential(i,s)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";async function Lw(r,e){return uo(r,"POST","/v1/accounts:signUp",sr(r,e))}class Jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,l=!1){const u=await Jn._fromIdTokenResponse(e,s,l),d=Iv(s);return new Jr({user:u,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const l=Iv(s);return new Jr({user:e,providerId:l,_tokenResponse:s,operationType:i})}}function Iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ih extends rr{constructor(e,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,l){return new ih(e,i,s,l)}}function EE(r,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,u,e,s):u})}async function jw(r,e,i=!1){const s=await Ll(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Jr._forOperation(r,"link",s)}async function zw(r,e,i=!1){const{auth:s}=r;if(bn(s.app))return Promise.reject(Si(s));const l="reauthenticate";try{const u=await Ll(r,EE(s,l,e,r),i);pe(u.idToken,s,"internal-error");const d=Um(u.idToken);pe(d,s,"internal-error");const{sub:g}=d;return pe(r.uid===g,s,"user-mismatch"),Jr._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}async function TE(r,e,i=!1){if(bn(r.app))return Promise.reject(Si(r));const s="signIn",l=await EE(r,s,e),u=await Jr._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(u.user),u}async function Bw(r,e){return TE(as(r),e)}async function qw(r,e){return uo(r,"POST","/v1/accounts:signInWithCustomToken",sr(r,e))}async function Hw(r,e){if(bn(r.app))return Promise.reject(Si(r));const i=as(r),s=await qw(i,{token:e,returnSecureToken:!0}),l=await Jr._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}async function bE(r){const e=as(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gw(r,e,i){if(bn(r.app))return Promise.reject(Si(r));const s=as(r),d=await lm(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lw).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bE(r),p}),g=await Jr._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function Fw(r,e,i){return bn(r.app)?Promise.reject(Si(r)):Bw(yt(r),co.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bE(r),s})}function Qw(r,e,i,s){return yt(r).onIdTokenChanged(e,i,s)}function Kw(r,e,i){return yt(r).beforeAuthStateChanged(e,i)}function Yw(r,e,i,s){return yt(r).onAuthStateChanged(e,i,s)}function Xw(r){return yt(r).signOut()}const rh="__sak";class AE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $w=1e3,Jw=10;class SE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&e(i,l,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);fw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Jw):l()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},$w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}SE.type="LOCAL";const Zw=SE;class wE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}wE.type="SESSION";const RE=wE;function Ww(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const s=new _h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,u)),p=await Ww(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function zm(r="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return r+i}class eR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,p)=>{const _=zm("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(x.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function tR(r){wi().location.href=r}function IE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function nR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iR(){return navigator?.serviceWorker?.controller||null}function rR(){return IE()?self:null}const CE="firebaseLocalStorageDb",sR=1,sh="firebaseLocalStorage",NE="fbase_key";class Wl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(r,e){return r.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function aR(){const r=indexedDB.deleteDatabase(CE);return new Wl(r).toPromise()}function um(){const r=indexedDB.open(CE,sR);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(sh,{keyPath:NE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(sh)?e(s):(s.close(),await aR(),e(await um()))})})}async function Cv(r,e,i){const s=vh(r,!0).put({[NE]:e,value:i});return new Wl(s).toPromise()}async function oR(r,e){const i=vh(r,!1).get(e),s=await new Wl(i).toPromise();return s===void 0?null:s.value}function Nv(r,e){const i=vh(r,!0).delete(e);return new Wl(i).toPromise()}const lR=800,uR=3;class xE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>uR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(rR()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await nR(),!this.activeServiceWorker)return;this.sender=new eR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await Cv(e,rh,"1"),await Nv(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Cv(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>oR(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=vh(l,!1).getAll();return new Wl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xE.type="LOCAL";const cR=xE;new Jl(3e4,6e4);function hR(r,e){return e?Zi(e):(pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Bm extends Lm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Za(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function fR(r){return TE(r.auth,new Bm(r),r.bypassAuthState)}function dR(r){const{auth:e,user:i}=r;return pe(i,e,"internal-error"),zw(i,new Bm(r),r.bypassAuthState)}async function mR(r){const{auth:e,user:i}=r;return pe(i,e,"internal-error"),jw(i,new Bm(r),r.bypassAuthState)}class DE{constructor(e,i,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fR;case"linkViaPopup":case"linkViaRedirect":return mR;case"reauthViaPopup":case"reauthViaRedirect":return dR;default:Zn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gR=new Jl(2e3,1e4);class Xa extends DE{constructor(e,i,s,l,u){super(e,i,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Xa.currentPopupAction&&Xa.currentPopupAction.cancel(),Xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gR.get())};e()}}Xa.currentPopupAction=null;const pR="pendingRedirect",Gc=new Map;class yR extends DE{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await _R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _R(r,e){const i=TR(e),s=ER(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function vR(r,e){Gc.set(r._key(),e)}function ER(r){return Zi(r._redirectPersistence)}function TR(r){return Hc(pR,r.config.apiKey,r.name)}async function bR(r,e,i=!1){if(bn(r.app))return Promise.reject(Si(r));const s=as(r),l=hR(s,e),d=await new yR(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const AR=600*1e3;class SR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wR(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!OE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AR&&this.cachedEventUids.clear(),this.cachedEventUids.has(xv(e))}saveEventToCache(e){this.cachedEventUids.add(xv(e)),this.lastProcessedEventTime=Date.now()}}function xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function OE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function wR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OE(r);default:return!1}}async function RR(r,e={}){return ss(r,"GET","/v1/projects",e)}const IR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function NR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RR(r);for(const i of e)try{if(xR(i))return}catch{}Zn(r,"unauthorized-domain")}function xR(r){const e=am(),{protocol:i,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!CR.test(i))return!1;if(IR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const DR=new Jl(3e4,6e4);function Dv(){const r=wi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function OR(r){return new Promise((e,i)=>{function s(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),i(Ai(r,"network-request-failed"))},timeout:DR.get()})}if(wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const l=Tw("iframefcb");return wi()[l]=()=>{gapi.load?s():i(Ai(r,"network-request-failed"))},pE(`${Ew()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function MR(r){return Fc=Fc||OR(r),Fc}const VR=new Jl(5e3,15e3),kR="__/auth/iframe",UR="emulator/auth/iframe",PR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jR(r){const e=r.config;pe(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?km(e,UR):`https://${r.config.authDomain}/${kR}`,s={apiKey:e.apiKey,appName:r.name,v:lo},l=LR.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${$l(s).slice(1)}`}async function zR(r){const e=await MR(r),i=wi().gapi;return pe(i,r,"internal-error"),e.open({where:document.body,url:jR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PR,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=Ai(r,"network-request-failed"),g=wi().setTimeout(()=>{u(d)},VR.get());function p(){wi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{u(d)})}))}const BR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qR=500,HR=600,GR="_blank",FR="http://localhost";class Ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QR(r,e,i,s=qR,l=HR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...BR,width:s.toString(),height:l.toString(),top:u,left:d},_=Wt().toLowerCase();i&&(g=uE(_)?GR:i),oE(_)&&(e=e||FR,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[G,Y])=>`${x}${G}=${Y},`,"");if(hw(_)&&g!=="_self")return KR(e||"",g),new Ov(null);const A=window.open(e||"",g,T);pe(A,r,"popup-blocked");try{A.focus()}catch{}return new Ov(A)}function KR(r,e){const i=document.createElement("a");i.href=r,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const YR="__/auth/handler",XR="emulator/auth/handler",$R=encodeURIComponent("fac");async function Mv(r,e,i,s,l,u){pe(r.config.authDomain,r,"auth-domain-config-required"),pe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:lo,eventId:l};if(e instanceof vE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",DA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof Zl){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${$R}=${encodeURIComponent(p)}`:"";return`${JR(r)}?${$l(g).slice(1)}${_}`}function JR({config:r}){return r.emulator?km(r,XR):`https://${r.authDomain}/${YR}`}const Yd="webStorageSupport";class ZR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RE,this._completeRedirectFn=bR,this._overrideRedirectResult=vR}async _openPopup(e,i,s,l){tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Mv(e,i,s,am(),l);return QR(e,u,zm())}async _openRedirect(e,i,s,l){await this._originValidation(e);const u=await Mv(e,i,s,am(),l);return tR(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await zR(e),s=new SR(e);return i.register("authEvent",l=>(pe(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Yd,{type:Yd},l=>{const u=l?.[0]?.[Yd];u!==void 0&&i(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=NR(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return mE()||lE()||Pm()}}const WR=ZR;var Vv="@firebase/auth",kv="1.11.1";class e2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function t2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n2(r){eo(new Ks("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pe(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gE(r)},_=new yw(s,l,u,p);return Iw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Ks("auth-internal",e=>{const i=as(e.getProvider("auth").getImmediate());return(s=>new e2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(Vv,kv,t2(r)),Kr(Vv,kv,"esm2020")}const i2=300,r2=G0("authIdTokenMaxAge")||i2;let Uv=null;const s2=r=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>r2)return;const l=i?.token;Uv!==l&&(Uv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function a2(r=$0()){const e=Mm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Rw(r,{popupRedirectResolver:WR,persistence:[cR,Zw,RE]}),s=G0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=s2(u.toString());Kw(i,d,()=>d(i.currentUser)),Qw(i,g=>d(g))}}const l=q0("auth");return l&&Cw(i,`http://${l}`),i}function o2(){return document.getElementsByTagName("head")?.[0]??document}_w({loadJS(r){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Ai("internal-error");u.customData=l,i(u)},s.type="text/javascript",s.charset="UTF-8",o2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n2("Browser");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Yr,ME;(function(){var r;function e(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,O,U){for(var R=Array(arguments.length-2),et=2;et<arguments.length;et++)R[et-2]=arguments[et];return w.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],O=N.g[2];let U=N.g[3],R;R=w+(U^C&(O^U))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(U^C&(O^U))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=U+(O^w&(C^O))+V[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=O+(C^U&(w^C))+V[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(w^O&(U^w))+V[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=w+(O^U&(C^O))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(O^U&(C^O))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(w^C))+V[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=O+(w^C&(U^w))+V[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^w&(O^U))+V[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=w+(C^O^U)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(C^O^U)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=U+(w^C^O)+V[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=O+(U^w^C)+V[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^w)+V[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=w+(O^(C|~U))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=w+(O^(C|~U))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=U+(C^(w|~O))+V[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=O+(w^(U|~C))+V[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}s.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<w;){if(O==0)for(;U<=C;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(V[O++]=N.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<w;)if(V[O++]=N[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function u(N,w){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;V&&U==w||(C[O]=U,V=!1)}this.g=C}var g={};function p(N){return-128<=N&&N<128?u(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return ee(_(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function T(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return ee(T(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=A;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(R))):(V=V.j(C),V=V.add(_(R)))}return V}var A=p(0),x=p(1),G=p(16777216);r=d.prototype,r.m=function(){if(W(this))return-ee(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(W(this))return"-"+ee(this).toString(N);const w=_(Math.pow(N,6));var C=this;let V="";for(;;){const O=je(C,w).g;C=ce(C,O.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,Y(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=ce(this,N),W(N)?-1:Y(N)?0:1};function ee(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(x)}r.abs=function(){return W(this)?ee(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let O=0;O<=w;O++){let U=V+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,U&=65535,R&=65535,C[O]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ce(N,w){return N.add(ee(w))}r.j=function(N){if(Y(this)||Y(N))return A;if(W(this))return W(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(W(N))return ee(this.j(ee(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const U=this.i(V)>>>16,R=this.i(V)&65535,et=N.i(O)>>>16,ht=N.i(O)&65535;C[2*V+2*O]+=R*ht,ge(C,2*V+2*O),C[2*V+2*O+1]+=U*ht,ge(C,2*V+2*O+1),C[2*V+2*O+1]+=R*et,ge(C,2*V+2*O+1),C[2*V+2*O+2]+=U*et,ge(C,2*V+2*O+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function ge(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function de(N,w){this.g=N,this.h=w}function je(N,w){if(Y(w))throw Error("division by zero");if(Y(N))return new de(A,A);if(W(N))return w=je(ee(N),w),new de(ee(w.g),ee(w.h));if(W(w))return w=je(N,ee(w)),new de(ee(w.g),w.h);if(N.g.length>30){if(W(N)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var C=x,V=w;V.l(N)<=0;)C=ze(C),V=ze(V);var O=Ce(C,1),U=Ce(V,1);for(V=Ce(V,2),C=Ce(C,2);!Y(V);){var R=U.add(V);R.l(N)<=0&&(O=O.add(C),U=R),V=Ce(V,1),C=Ce(C,1)}return w=ce(N,O.j(w)),new de(O,w)}for(O=A;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(C),R=U.j(w);W(R)||R.l(N)>0;)C-=V,U=_(C),R=U.j(w);Y(U)&&(U=x),O=O.add(U),N=ce(N,R)}return new de(O,N)}r.B=function(N){return je(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function ze(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Ce(N,w){const C=w>>5;w%=32;const V=N.g.length-C,O=[];for(let U=0;U<V;U++)O[U]=w>0?N.i(U+C)>>>w|N.i(U+C+1)<<32-w:N.i(U+C);return new d(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ME=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Yr=d}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var VE,wl,kE,Qc,cm,UE,PE,LE;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(c,m){if(m)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var P=c[b];if(!(P in v))break e;v=v[P]}c=c[c.length-1],b=v[c],m=m(b),m!=b&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=p,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,P,q){for(var ne=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ne[Se-2]=arguments[Se];return m.prototype[P].apply(b,ne)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const m=c.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=c[b];return v}return[]}function Y(c,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=c.length||0;const q=P.length||0;c.length=v+q;for(let ne=0;ne<q;ne++)c[v+ne]=P[ne]}else c.push(P)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(c){d.setTimeout(()=>{throw c},0)}function ce(){var c=N;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,v){const b=de.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var de=new W(()=>new je,c=>c.reset());class je{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Ce=!1,N=new ge,w=()=>{const c=Promise.resolve(void 0);ze=()=>{c.then(C)}};function C(){for(var c;c=ce();){try{c.h.call(c.g)}catch(v){ee(v)}var m=de;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function et(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(et,O),et.prototype.init=function(c,m){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),F=0;function B(c,m,v,b,P){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++F,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function le(c,m,v){for(const b in c)m.call(v,c[b],b,c)}function Te(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)c[v]=b[v];for(let q=0;q<$.length;q++)v=$[q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,v,b,P){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ne=Re(c,m,b,P);return ne>-1?(m=c[ne],v||(m.fa=!1)):(m=new B(m,this.src,q,!!b,P),m.fa=v,c.push(m)),m};function _e(c,m){const v=m.type;if(v in c.g){var b=c.g[v],P=Array.prototype.indexOf.call(b,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(b,P,1),q&&(te(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,m,v,b){for(let P=0;P<c.length;++P){const q=c[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return P}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,m,v,b,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)st(c,m[q],v,b,P);return null}return v=vo(v),c&&c[ht]?c.J(m,v,g(b)?!!b.capture:!1,P):cs(c,m,v,!1,b,P)}function cs(c,m,v,b,P,q){if(!m)throw Error("Invalid event type");const ne=g(P)?!!P.capture:!!P;let Se=hs(c);if(Se||(c[Pe]=Se=new ae(c)),v=Se.add(m,v,b,ne,q),v.proxy)return v;if(b=ta(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)U||(P=ne),P===void 0&&(P=!1),c.addEventListener(m.toString(),b,P);else if(c.attachEvent)c.attachEvent(ei(m.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ta(){function c(v){return m.call(c.src,c.listener,v)}const m=yo;return c}function na(c,m,v,b,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)na(c,m[q],v,b,P);else b=g(b)?!!b.capture:!!b,v=vo(v),c&&c[ht]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Re(m,v,b,P),v>-1&&(te(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=hs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Re(m,v,b,P)),(v=c>-1?m[c]:null)&&ia(v))}function ia(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ht])_e(m.i,c);else{var v=c.type,b=c.proxy;m.removeEventListener?m.removeEventListener(v,b,c.capture):m.detachEvent?m.detachEvent(ei(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=hs(m))?(_e(v,c),v.h==0&&(v.src=null,m[Pe]=null)):te(c)}}}function ei(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new et(m,this);const v=c.listener,b=c.ha||c.src;c.fa&&ia(c),c=v.call(b,m)}return c}function hs(c){return c=c[Pe],c instanceof ae?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function _t(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}A(_t,V),_t.prototype[ht]=!0,_t.prototype.removeEventListener=function(c,m,v,b){na(this,c,m,v,b)};function Ot(c,m){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var P=m;m=new O(b,c),ie(m,P)}P=!0;let q,ne;if(v)for(ne=v.length-1;ne>=0;ne--)q=m.g=v[ne],P=ar(q,b,!0,m)&&P;if(q=m.g=c,P=ar(q,b,!0,m)&&P,P=ar(q,b,!1,m)&&P,v)for(ne=0;ne<v.length;ne++)q=m.g=v[ne],P=ar(q,b,!1,m)&&P}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let b=0;b<v.length;b++)te(v[b]);delete c.g[m],c.h--}}this.G=null},_t.prototype.J=function(c,m,v,b){return this.i.add(String(c),m,!1,v,b)},_t.prototype.K=function(c,m,v,b){return this.i.add(String(c),m,!0,v,b)};function ar(c,m,v,b){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==v){const Se=ne.listener,dt=ne.ha||ne.src;ne.fa&&_e(c.i,ne),P=Se.call(dt,b)!==!1&&P}}return P&&!b.defaultPrevented}function Ph(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function ou(c){c.g=Ph(()=>{c.g=null,c.i&&(c.i=!1,ou(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class en extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){V.call(this),this.h=c,this.g={}}A(fs,V);var Eo=[];function To(c){le(c.g,function(m,v){this.g.hasOwnProperty(v)&&ia(m)},c),c.g={}}fs.prototype.N=function(){fs.Z.N.call(this),To(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=d.JSON.stringify,Lh=d.JSON.parse,lu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function uu(){}function cu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){O.call(this,"d")}A(zt,O);function wn(){O.call(this,"c")}A(wn,O);var ft={},hu=null;function ra(){return hu=hu||new _t}ft.Ia="serverreachability";function fu(c){O.call(this,ft.Ia,c)}A(fu,O);function ti(c){const m=ra();Ot(m,new fu(m))}ft.STAT_EVENT="statevent";function ds(c,m){O.call(this,ft.STAT_EVENT,c),this.stat=m}A(ds,O);function vt(c){const m=ra();Ot(m,new ds(m,c))}ft.Ja="timingevent";function ni(c,m){O.call(this,ft.Ja,c),this.size=m}A(ni,O);function ii(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function jh(c,m,v,b,P,q){c.info(function(){if(c.g)if(q){var ne="",Se=q.split("&");for(let He=0;He<Se.length;He++){var dt=Se[He].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Nn=at.split("_");ne=Nn.length>=2&&Nn[1]=="type"?ne+(at+"="+dt+"&"):ne+(at+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+ne})}function du(c,m,v,b,P,q,ne){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+ne})}function ri(c,m,v,b){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(c,v)+(b?" "+b:"")})}function ms(c,m){c.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function zh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return or(q)}catch{return m}}var gs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function ps(){}A(ps,uu),ps.prototype.g=function(){return new XMLHttpRequest},Ao=new ps;function Oi(c){return encodeURIComponent(String(c))}function mu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Bn(c,m,v,b){this.j=c,this.i=m,this.l=v,this.S=b||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},Ut={};function si(c,m,v){c.M=1,c.A=ys(bt(m)),c.u=v,c.R=!0,sa(c,null)}function sa(c,m){c.F=Date.now(),ai(c),c.B=bt(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),ua(v.i,"t",b),c.C=0,v=c.j.L,c.h=new qn,c.g=Nu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new en(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,b=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Eo[0]=P.toString()),P=Eo);for(let q=0;q<P.length;q++){const ne=st(v,P[q],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ti(),jh(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Fn(c)==3?m.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Fn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Se!=4||dt==7||(dt==8||He<=0?ti(3):ti(2)),oi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,du(this.i,this.v,this.B,this.l,this.S,Se,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break t}}q=null}if(c=q)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,vt(12),dn(this),Rn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=pu(this,v),at==Ut){Se==4&&(this.m=4,vt(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,at,null),li(this,at);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(ne),ne.P=!0,vt(11))}}else ri(this.i,this.l,v,null),li(this,v);Se==4&&dn(this),this.o&&!this.K&&(Se==4?wu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),dn(this),Rn(this)}}}catch{}finally{}};function Bh(c){if(!gu(c))return c.g.la();const m=Bt(c.g);if(m==="")return"";let v="";const b=m.length,P=Fn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),Rn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<b;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(P&&q==b-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function gu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function pu(c,m){var v=c.C,b=m.indexOf(`
`,v);return b==-1?Ut:(v=Number(m.substring(v,b)),isNaN(v)?Et:(b+=1,b+v>m.length?Ut:(m=m.slice(b,b+v),c.C=b+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(c){c.T=Date.now()+c.H,aa(c,c.H)}function aa(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(_(c.aa,c),m)}function oi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ms(this.i,this.B),this.M!=2&&(ti(),vt(17)),dn(this),this.m=2,Rn(this)):aa(this,this.T-c)};function Rn(c){c.j.I==0||c.K||wu(c.j,c)}function dn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,To(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function li(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ma(v),gr(v);else break e;Ss(v),vt(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((c.L||v.g==c)&&ma(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let He=P[m];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Nn=He[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const yi=He[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Qn=He[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(b=1.5*Qn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Kn=c.g;if(Kn){const ws=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var q=b.h;q.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ro(q,q.h),q.h=null))}if(b.G){const ga=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(b.wa=ga,Qe(b.J,b.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ne=c;if(b.na=Cu(b,b.L?b.ba:null,b.W),ne.L){Io(b.h,ne);var Se=ne,dt=b.O;dt&&(Se.H=dt),Se.D&&(oi(Se),ai(Se)),b.g=ne}else Au(b);v.i.length>0&&gi(v)}else He[0]!="stop"&&He[0]!="close"||pi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?pi(v,7):Uo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ti(4)}catch{}}var Tt=class{constructor(c,m){this.g=c,this.map=m}};function So(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ro(c,m){c.g?c.g.add(m):c.h=m}function Io(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}So.prototype.cancel=function(){if(this.i=Co(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Co(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return G(c.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let P,q=null;b>=0?(P=c[v].substring(0,b),q=c[v].substring(b+1)):P=c[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof mn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,lr(this,c.u),this.h=c.h,No(this,Tu(c.i)),this.m=c.m):c&&(m=String(c).match(yu))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),lr(this,m[4]),this.h=hi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}mn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(_s(m,la,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(_s(m,la,!0),"@"),c.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_s(v,v.charAt(0)=="/"?xo:_u,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_s(v,vu)),c.join("")},mn.prototype.resolve=function(c){const m=bt(this);let v=!!c.j;v?Pt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var b=c.h;if(v)lr(m,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let ne=0;ne<P.length;){const Se=P[ne++];Se=="."?b&&ne==P.length&&q.push(""):Se==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&ne==P.length&&q.push("")):(q.push(Se),b=!0)}b=q.join("/")}else b=P}return v?m.h=b:v=c.i.toString()!=="",v?No(m,Tu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function bt(c){return new mn(c)}function Pt(c,m,v){c.j=v?hi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function lr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function No(c,m,v){m instanceof cr?(c.i=m,ca(c.i,c.l)):(v||(m=_s(m,ur)),c.i=new cr(m,c.l))}function Qe(c,m,v){c.i.set(m,v)}function ys(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _s(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var la=/[#\/\?@]/g,_u=/[#\?:]/g,xo=/[#\?]/g,ur=/[#\?@]/g,vu=/#/g;function cr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&oa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=cr.prototype,r.add=function(c,m){sn(this),this.i=null,c=hr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Eu(c,m){sn(c),m=hr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Do(c,m){return sn(c),m=hr(c,m),c.g.has(m)}r.forEach=function(c,m){sn(this),this.g.forEach(function(v,b){v.forEach(function(P){c.call(m,P,b,this)},this)},this)};function Oo(c,m){sn(c);let v=[];if(typeof m=="string")Do(c,m)&&(v=v.concat(c.g.get(hr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return sn(this),this.i=null,c=hr(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Oo(this,c),c.length>0?String(c[0]):m):m};function ua(c,m,v){Eu(c,m),v.length>0&&(c.i=null,c.g.set(hr(c,m),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Oi(v);v=Oo(this,v);for(let q=0;q<v.length;q++){let ne=P;v[q]!==""&&(ne+="="+Oi(v[q])),c.push(ne)}}return this.i=c.join("&")};function Tu(c){const m=new cr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function hr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ca(c,m){m&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(Eu(this,b),ua(this,P,v))},c)),c.j=m}function Hn(c,m){const v=new zn;if(d.Image){const b=new Image;b.onload=T(In,v,"TestLoadImage: loaded",!0,m,b),b.onerror=T(In,v,"TestLoadImage: error",!1,m,b),b.onabort=T(In,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(In,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else m(!1)}function Mo(c,m){const v=new zn,b=new AbortController,P=setTimeout(()=>{b.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:b.signal}).then(q=>{clearTimeout(P),q.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),In(v,"TestPingServer: error",!1,m)})}function In(c,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function fr(){this.g=new lu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(fi,uu),fi.prototype.g=function(){return new vs(this.i,this.h)};function vs(c,m){_t.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(vs,_t),r=vs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Gn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?dr(this):Gn(this),this.readyState==3&&ha(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,dr(this))},r.Na=function(c){this.g&&(this.response=c,dr(this))},r.ga=function(){this.g&&dr(this)};function dr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Gn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Gn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return le(c,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Es(c,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Cn(v),typeof c=="string"?v!=null&&Oi(v):Qe(c,m,v))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xe,_t);var di=/^https?$/i,Vo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Ts(this,q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of v)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Ts(this,q)}};function Ts(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),Mi(c)}function ko(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bs(this):this.Xa())},r.Xa=function(){bs(this)};function bs(c){if(c.h&&typeof u<"u"){if(c.v&&Fn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Fn(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let ne=String(c.D).match(yu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!di.test(ne?ne.toLowerCase():"")}v=b}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var P=Fn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",ko(c)}}finally{Mi(c)}}}}function Mi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Lh(m)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const m={};c=(c.g&&Fn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(R(c[b]))continue;var v=mu(c[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Te(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function mr(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new So(c&&c.concurrentRequestLimit),this.Ba=new fr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=mr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,b){vt(0),this.W=c,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Cu(this,null,this.W),gi(this)};function Uo(c){if(fa(c),c.I==3){var m=c.V++,v=bt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",m),Qe(v,"TYPE","terminate"),As(c,v),m=new Bn(c,c.j,m),m.M=2,m.A=ys(bt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Iu(c)}function gr(c){c.g&&(Lo(c),c.g.cancel(),c.g=null)}function fa(c){gr(c),c.v&&(d.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function gi(c){if(!wo(c.h)&&!c.m){c.m=!0;var m=c.Ea;ze||w(),Ce||(ze(),Ce=!0),N.add(m,c),c.D=0}}function da(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(_(c.Ea,c,m),Ru(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Bn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=bu(this,P,m),v=bt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),As(this,v),q&&(this.R?m="headers="+Oi(Cn(q))+"&"+m:this.u&&Es(v,this.u,q)),Ro(this.h,P),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",m),Qe(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,m),this.I=2}}else this.I==3&&(c?Po(this,c):this.i.length==0||wo(this.h)||Po(this))};function Po(c,m){var v;m?v=m.l:v=c.V++;const b=bt(c.J);Qe(b,"SID",c.M),Qe(b,"RID",v),Qe(b,"AID",c.K),As(c,b),c.u&&c.o&&Es(b,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,v),si(v,b,m)}function As(c,m){c.H&&le(c.H,function(v,b){Qe(m,b,v)}),c.l&&le({},function(v,b){Qe(m,b,v)})}function bu(c,m,v){v=Math.min(c.i.length,v);const b=c.l?_(c.l.Ka,c.l,c):null;e:{var P=c.i;let Se=-1;for(;;){const dt=["count="+v];Se==-1?v>0?(Se=P[0].g,dt.push("ofs="+Se)):Se=0:dt.push("ofs="+Se);let He=!0;for(let at=0;at<v;at++){var q=P[at].g;const Nn=P[at].map;if(q-=Se,q<0)Se=Math.max(0,P[at].g-100),He=!1;else try{q="req"+q+"_"||"";try{var ne=Nn instanceof Map?Nn:Object.entries(Nn);for(const[yi,Qn]of ne){let Kn=Qn;g(Qn)&&(Kn=or(Qn)),dt.push(q+yi+"="+encodeURIComponent(Kn))}}catch(yi){throw dt.push(q+"type="+encodeURIComponent("_badmap")),yi}}catch{b&&b(Nn)}}if(He){ne=dt.join("&");break e}}ne=void 0}return c=c.i.splice(0,v),m.G=c,ne}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ze||w(),Ce||(ze(),Ce=!0),N.add(m,c),c.A=0}}function Ss(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(_(c.Da,c),Ru(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),gr(this),Su(this))};function Lo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Su(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=bt(c.na);Qe(m,"RID","rpc"),Qe(m,"SID",c.M),Qe(m,"AID",c.K),Qe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(m,"TO",c.ia),Qe(m,"TYPE","xmlhttp"),As(c,m),c.u&&c.o&&Es(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ys(bt(m)),v.u=null,v.R=!0,sa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,gr(this),Ss(this),vt(19))};function ma(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function wu(c,m){var v=null;if(c.g==m){ma(c),Lo(c),c.g=null;var b=2}else if(ci(c.h,m))v=m.G,Io(c.h,m),b=1;else return;if(c.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=c.D;b=ra(),Ot(b,new ni(b,v)),gi(c)}else Au(c);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&da(c,m)||b==2&&Ss(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),P){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function Ru(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function pi(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),b=c.Ua;const P=!b;b=new mn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(b,"https"),ys(b),P?Hn(b.toString(),v):Mo(b.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(m),Iu(c),fa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const m=Co(c.h);(m.length!=0||c.i.length!=0)&&(Y(c.ja,m),Y(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function Cu(c,m,v){var b=v instanceof mn?bt(v):new mn(v);if(b.g!="")m&&(b.g=m+"."+b.g),lr(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new mn(null);b&&Pt(q,b),m&&(q.g=m),P&&lr(q,P),v&&(q.h=v),b=q}return v=c.G,m=c.wa,v&&m&&Qe(b,v,m),Qe(b,"VER",c.ka),As(c,b),b}function Nu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new fi({ab:v})):new Xe(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}r=xu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function pr(){}pr.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){_t.call(this),this.g=new mr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ki(this)}A(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Uo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=or(c),c=v);m.i.push(new Tt(m.Ya++,c)),m.I==3&&gi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,tn.Z.N.call(this)};function Du(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Du,zt);function Ou(){wn.call(this),this.status=1}A(Ou,wn);function ki(c){this.g=c}A(ki,xu),ki.prototype.ra=function(){Ot(this.g,"a")},ki.prototype.qa=function(c){Ot(this.g,new Du(c))},ki.prototype.pa=function(c){Ot(this.g,new Ou)},ki.prototype.oa=function(){Ot(this.g,"b")},pr.prototype.createWebChannel=pr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,LE=function(){return new pr},PE=function(){return ra()},UE=ft,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gs.NO_ERROR=0,gs.TIMEOUT=8,gs.HTTP_ERROR=6,Qc=gs,bo.COMPLETE="complete",kE=bo,cu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,wl=cu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,VE=Xe}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Lv="@firebase/firestore",jv="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let ho="12.3.0";const Xs=new Dm("@firebase/firestore");function Fa(){return Xs.logLevel}function se(r,...e){if(Xs.logLevel<=Me.DEBUG){const i=e.map(qm);Xs.debug(`Firestore (${ho}): ${r}`,...i)}}function nr(r,...e){if(Xs.logLevel<=Me.ERROR){const i=e.map(qm);Xs.error(`Firestore (${ho}): ${r}`,...i)}}function to(r,...e){if(Xs.logLevel<=Me.WARN){const i=e.map(qm);Xs.warn(`Firestore (${ho}): ${r}`,...i)}}function qm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ye(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,jE(r,s,i)}function jE(r,e,i){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw nr(s),new Error(s)}function Fe(r,e,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||jE(e,l,s)}function Ae(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends rr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class zE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Jt.UNAUTHENTICATED)))}shutdown(){}}class u2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class c2{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Fe(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let u=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new zE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class h2{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new h2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Fe(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new zv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function m2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=m2(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<i&&(s+=e.charAt(l[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function hm(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return Xd(l)===Xd(u)?Ve(l,u):Xd(l)?1:-1}return Ve(r.length,e.length)}const g2=55296,p2=57343;function Xd(r){const e=r.charCodeAt(0);return e>=g2&&e<=p2}function no(r,e,i){return r.length===e.length&&r.every(((s,l)=>i(s,e[l])))}const Bv="__name__";class bi{constructor(e,i,s){i===void 0?i=0:i>e.length&&ye(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&ye(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const u=bi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return Ve(e.length,i.length)}static compareSegments(e,i){const s=bi.isNumericId(e),l=bi.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?bi.extractNumericId(e).compare(bi.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class tt extends bi{construct(e,i,s){return new tt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new tt(i)}static emptyPath(){return new tt([])}}const y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends bi{construct(e,i,s){return new Kt(e,i,s)}static isValidIdentifier(e){return y2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Kt([Bv])}static fromServerFormat(e){const i=[];let s="",l=0;const u=()=>{if(s.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new re(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new re(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(u(),l++)}if(u(),d)throw new re(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(i)}static emptyPath(){return new Kt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(tt.fromString(e))}static fromName(e){return new fe(tt.fromString(e).popFirst(5))}static empty(){return new fe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new tt(e.slice()))}}function BE(r,e,i){if(!i)throw new re(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _2(r,e,i,s){if(e===!0&&s===!0)throw new re(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function qv(r){if(!fe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hv(r){if(fe.isDocumentKey(r))throw new re(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function qE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function Ri(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new re(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Eh(r);throw new re(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Nt(r,e){const i={typeString:r};return e&&(i.value=e),i}function eu(r,e){if(!qE(r))throw new re(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new re(X.INVALID_ARGUMENT,i);return!0}const Gv=-62135596800,Fv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Fv);return new rt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new re(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Gv)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new rt(0,0))}static max(){return new Ee(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function v2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Ee.fromTimestamp(s===1e9?new rt(i+1,0):new rt(i,s));return new Zr(l,fe.empty(),e)}function E2(r){return new Zr(r.readTime,r.key,zl)}class Zr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Zr(Ee.min(),fe.empty(),zl)}static max(){return new Zr(Ee.max(),fe.empty(),zl)}}function T2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=fe.comparator(r.documentKey,e.documentKey),i!==0?i:Ve(r.largestBatchId,e.largestBatchId))}const b2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function fo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==b2)throw r;se("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(p=>s(p)))})),d=!0,u===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((l=>l?Z.resolve(l):s()));return i}static forEach(e,i){const s=[];return e.forEach(((l,u)=>{s.push(i.call(this,l,u))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,l)=>{const u=e.length,d=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++g,g===u&&s(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new Z(((s,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):s()};u()}))}}function S2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class Th{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const Gm=-1;function bh(r){return r==null}function ah(r){return r===0&&1/r==-1/0}function w2(r){return typeof r=="number"&&Number.isInteger(r)&&!ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const HE="";function R2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Qv(e)),e=I2(r.get(i),e);return Qv(e)}function I2(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":i+="";break;case HE:i+="";break;default:i+=u}}return i}function Qv(r){return r+HE+""}function Kv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function os(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function GE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class lt{constructor(e,i){this.comparator=e,this.root=i||Qt.EMPTY}insert(e,i){return new lt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,i,s,l,u){this.key=e,this.value=i,this.color=s??Qt.RED,this.left=l??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,u){return new Qt(e??this.key,i??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,s),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,i,s,l,u){return this}insert(e,i,s){return new Qt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Vt(this.comparator);return i.data=e,i}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let i=new Vt(Kt.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new An(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FE("Invalid base64 string: "+u):u}})(e);return new Yt(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Yt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const C2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const i=C2.exec(r);if(Fe(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const QE="server_timestamp",KE="__type__",YE="__previous_value__",XE="__local_write_time__";function Fm(r){return(r?.mapValue?.fields||{})[KE]?.stringValue===QE}function Ah(r){const e=r.mapValue.fields[YE];return Fm(e)?Ah(e):e}function Bl(r){const e=Wr(r.mapValue.fields[XE].timestampValue);return new rt(e.seconds,e.nanos)}class N2{constructor(e,i,s,l,u,d,g,p,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const oh="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const $E="__type__",x2="__max__",jc={mapValue:{}},JE="__vector__",lh="value";function ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fm(r)?4:O2(r)?9007199254740991:D2(r)?10:11:ye(28295,{value:r})}function Di(r,e){if(r===e)return!0;const i=ts(r);if(i!==ts(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bl(r).isEqual(Bl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=Wr(l.timestampValue),g=Wr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return es(l.bytesValue).isEqual(es(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return pt(l.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(l.geoPointValue.longitude)===pt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return pt(l.integerValue)===pt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=pt(l.doubleValue),g=pt(u.doubleValue);return d===g?ah(d)===ah(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Kv(d)!==Kv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Di(d[p],g[p])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Hl(r,e){return(r.values||[]).find((i=>Di(i,e)))!==void 0}function io(r,e){if(r===e)return 0;const i=ts(r),s=ts(e);if(i!==s)return Ve(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=pt(u.integerValue||u.doubleValue),p=pt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return Xv(r.timestampValue,e.timestampValue);case 4:return Xv(Bl(r),Bl(e));case 5:return hm(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=es(u),p=es(d);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Ve(g[_],p[_]);if(T!==0)return T}return Ve(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Ve(pt(u.latitude),pt(d.latitude));return g!==0?g:Ve(pt(u.longitude),pt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $v(r.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},p=d.fields||{},_=g[lh]?.arrayValue,T=p[lh]?.arrayValue,A=Ve(_?.values?.length||0,T?.values?.length||0);return A!==0?A:$v(_,T)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===jc.mapValue&&d===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const x=hm(p[A],T[A]);if(x!==0)return x;const G=io(g[p[A]],_[T[A]]);if(G!==0)return G}return Ve(p.length,T.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{he:i})}}function Xv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const i=Wr(r),s=Wr(e),l=Ve(i.seconds,s.seconds);return l!==0?l:Ve(i.nanos,s.nanos)}function $v(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const u=io(i[l],s[l]);if(u)return u}return Ve(i.length,s.length)}function ro(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Wr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return es(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return fe.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=fm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${fm(i.fields[d])}`;return l+"}"})(r.mapValue):ye(61005,{value:r})}function Kc(r){switch(ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Kc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return os(s.fields,((u,d)=>{l+=u.length+Kc(d)})),l})(r.mapValue);default:throw ye(13486,{value:r})}}function Jv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dm(r){return!!r&&"integerValue"in r}function Qm(r){return!!r&&"arrayValue"in r}function Zv(r){return!!r&&"nullValue"in r}function Wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yc(r){return!!r&&"mapValue"in r}function D2(r){return(r?.mapValue?.fields||{})[$E]?.stringValue===JE}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return os(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Dl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Dl(r.arrayValue.values[i]);return e}return{...r}}function O2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===x2}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(i)}setAll(e){let i=Kt.emptyPath(),s={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Dl(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,l)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){os(i,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new fn(Dl(this.value))}}function ZE(r){const e=[];return os(r.fields,((i,s)=>{const l=new Kt([i]);if(Yc(s)){const u=ZE(s.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new An(e)}class Zt{constructor(e,i,s,l,u,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Zt(e,0,Ee.min(),Ee.min(),Ee.min(),fn.empty(),0)}static newFoundDocument(e,i,s,l){return new Zt(e,1,i,Ee.min(),s,l,0)}static newNoDocument(e,i){return new Zt(e,2,i,Ee.min(),Ee.min(),fn.empty(),0)}static newUnknownDocument(e,i){return new Zt(e,3,i,Ee.min(),Ee.min(),fn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uh{constructor(e,i){this.position=e,this.inclusive=i}}function e0(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?s=fe.comparator(fe.fromName(d.referenceValue),i.key):s=io(d,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function t0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],e.position[i]))return!1;return!0}class Gl{constructor(e,i="asc"){this.field=e,this.dir=i}}function M2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class WE{}class Ct extends WE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new k2(e,i,s):i==="array-contains"?new L2(e,s):i==="in"?new j2(e,s):i==="not-in"?new z2(e,s):i==="array-contains-any"?new B2(e,s):new Ct(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new U2(e,s):new P2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&ts(this.value)===ts(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends WE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wn(e,i)}matches(e){return eT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eT(r){return r.op==="and"}function tT(r){return V2(r)&&eT(r)}function V2(r){for(const e of r.filters)if(e instanceof Wn)return!1;return!0}function mm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(tT(r))return r.filters.map((e=>mm(e))).join(",");{const e=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${e})`}}function nT(r,e){return r instanceof Ct?(function(s,l){return l instanceof Ct&&s.op===l.op&&s.field.isEqual(l.field)&&Di(s.value,l.value)})(r,e):r instanceof Wn?(function(s,l){return l instanceof Wn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,g)=>u&&nT(d,l.filters[g])),!0):!1})(r,e):void ye(19439)}function iT(r){return r instanceof Ct?(function(i){return`${i.field.canonicalString()} ${i.op} ${ro(i.value)}`})(r):r instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(iT).join(" ,")+"}"})(r):"Filter"}class k2 extends Ct{constructor(e,i,s){super(e,i,s),this.key=fe.fromName(s.referenceValue)}matches(e){const i=fe.comparator(e.key,this.key);return this.matchesComparison(i)}}class U2 extends Ct{constructor(e,i){super(e,"in",i),this.keys=rT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class P2 extends Ct{constructor(e,i){super(e,"not-in",i),this.keys=rT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function rT(r,e){return(e.arrayValue?.values||[]).map((i=>fe.fromName(i.referenceValue)))}class L2 extends Ct{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Qm(i)&&Hl(i.arrayValue,this.value)}}class j2 extends Ct{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class z2 extends Ct{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class B2 extends Ct{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Hl(this.value.arrayValue,s)))}}class q2{constructor(e,i=null,s=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function n0(r,e=null,i=[],s=[],l=null,u=null,d=null){return new q2(r,e,i,s,l,u,d)}function Km(r){const e=Ae(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>mm(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),bh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ro(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ro(s))).join(",")),e.Te=i}return e.Te}function Ym(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!M2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!nT(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!t0(r.startAt,e.startAt)&&t0(r.endAt,e.endAt)}function gm(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class go{constructor(e,i=null,s=[],l=[],u=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function H2(r,e,i,s,l,u,d,g){return new go(r,e,i,s,l,u,d,g)}function Xm(r){return new go(r)}function i0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sT(r){return r.collectionGroup!==null}function Ol(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Vt(Kt.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gl(u,s))})),i.has(Kt.keyField().canonicalString())||e.Ie.push(new Gl(Kt.keyField(),s))}return e.Ie}function Ii(r){const e=Ae(r);return e.Ee||(e.Ee=G2(e,Ol(r))),e.Ee}function G2(r,e){if(r.limitType==="F")return n0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Gl(l.field,u)}));const i=r.endAt?new uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new uh(r.startAt.position,r.startAt.inclusive):null;return n0(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function pm(r,e){const i=r.filters.concat([e]);return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function ym(r,e,i){return new go(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Sh(r,e){return Ym(Ii(r),Ii(e))&&r.limitType===e.limitType}function aT(r){return`${Km(Ii(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>iT(l))).join(", ")}]`),bh(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>ro(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>ro(l))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function wh(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):fe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Ol(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(d,g,p){const _=e0(d,g,p);return d.inclusive?_<=0:_<0})(s.startAt,Ol(s),l)||s.endAt&&!(function(d,g,p){const _=e0(d,g,p);return d.inclusive?_>=0:_>0})(s.endAt,Ol(s),l))})(r,e)}function F2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oT(r){return(e,i)=>{let s=!1;for(const l of Ol(r)){const u=Q2(l,e,i);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function Q2(r,e,i){const s=r.field.isKeyField()?fe.comparator(e.key,i.key):(function(u,d,g){const p=d.data.field(u),_=g.data.field(u);return p!==null&&_!==null?io(p,_):ye(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}class Ws{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,((i,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return GE(this.inner)}size(){return this.innerSize}}const K2=new lt(fe.comparator);function ir(){return K2}const lT=new lt(fe.comparator);function Rl(...r){let e=lT;for(const i of r)e=e.insert(i.key,i);return e}function uT(r){let e=lT;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Hs(){return Ml()}function cT(){return Ml()}function Ml(){return new Ws((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Y2=new lt(fe.comparator),X2=new Vt(fe.comparator);function ke(...r){let e=X2;for(const i of r)e=e.add(i);return e}const $2=new Vt(Ve);function J2(){return $2}function $m(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function hT(r){return{integerValue:""+r}}function Z2(r,e){return w2(e)?hT(e):$m(r,e)}class Rh{constructor(){this._=void 0}}function W2(r,e,i){return r instanceof Fl?(function(l,u){const d={fields:{[KE]:{stringValue:QE},[XE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Fm(u)&&(u=Ah(u)),u&&(d.fields[YE]=u),{mapValue:d}})(i,e):r instanceof Ql?dT(r,e):r instanceof Kl?mT(r,e):(function(l,u){const d=fT(l,u),g=r0(d)+r0(l.Ae);return dm(d)&&dm(l.Ae)?hT(g):$m(l.serializer,g)})(r,e)}function eI(r,e,i){return r instanceof Ql?dT(r,e):r instanceof Kl?mT(r,e):i}function fT(r,e){return r instanceof ch?(function(s){return dm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Fl extends Rh{}class Ql extends Rh{constructor(e){super(),this.elements=e}}function dT(r,e){const i=gT(e);for(const s of r.elements)i.some((l=>Di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Kl extends Rh{constructor(e){super(),this.elements=e}}function mT(r,e){let i=gT(e);for(const s of r.elements)i=i.filter((l=>!Di(l,s)));return{arrayValue:{values:i}}}class ch extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function r0(r){return pt(r.integerValue||r.doubleValue)}function gT(r){return Qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class tI{constructor(e,i){this.field=e,this.transform=i}}function nI(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Ql&&l instanceof Ql||s instanceof Kl&&l instanceof Kl?no(s.elements,l.elements,Di):s instanceof ch&&l instanceof ch?Di(s.Ae,l.Ae):s instanceof Fl&&l instanceof Fl})(r.transform,e.transform)}class iI{constructor(e,i){this.version=e,this.transformResults=i}}class Sn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ih{}function pT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Jm(r.key,Sn.none()):new tu(r.key,r.data,Sn.none());{const i=r.data,s=fn.empty();let l=new Vt(Kt.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new ls(r.key,s,new An(l.toArray()),Sn.none())}}function rI(r,e,i){r instanceof tu?(function(l,u,d){const g=l.value.clone(),p=a0(l.fieldTransforms,u,d.transformResults);g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ls?(function(l,u,d){if(!Xc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=a0(l.fieldTransforms,u,d.transformResults),p=u.data;p.setAll(yT(l)),p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Vl(r,e,i,s){return r instanceof tu?(function(u,d,g,p){if(!Xc(u.precondition,d))return g;const _=u.value.clone(),T=o0(u.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof ls?(function(u,d,g,p){if(!Xc(u.precondition,d))return g;const _=o0(u.fieldTransforms,p,d),T=d.data;return T.setAll(yT(u)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(u,d,g){return Xc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function sI(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=fT(s.transform,l||null);u!=null&&(i===null&&(i=fn.empty()),i.set(s.field,u))}return i||null}function s0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&no(s,l,((u,d)=>nI(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends Ih{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ls extends Ih{constructor(e,i,s,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yT(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function a0(r,e,i){const s=new Map;Fe(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);s.set(u.field,eI(d,g,i[l]))}return s}function o0(r,e,i){const s=new Map;for(const l of r){const u=l.transform,d=i.data.field(l.field);s.set(l.field,W2(u,d,e))}return s}class Jm extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aI extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oI{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&rI(u,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Vl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Vl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=cT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const p=pT(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ke())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,((i,s)=>s0(i,s)))&&no(this.baseMutations,e.baseMutations,((i,s)=>s0(i,s)))}}class Zm{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return Y2})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Zm(e,i,s,l)}}class lI{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uI{constructor(e,i){this.count=e,this.unchangedNames=i}}var It,Le;function cI(r){switch(r){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function _T(r){if(r===void 0)return nr("GRPC error has no .code"),X.UNKNOWN;switch(r){case It.OK:return X.OK;case It.CANCELLED:return X.CANCELLED;case It.UNKNOWN:return X.UNKNOWN;case It.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case It.INTERNAL:return X.INTERNAL;case It.UNAVAILABLE:return X.UNAVAILABLE;case It.UNAUTHENTICATED:return X.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case It.NOT_FOUND:return X.NOT_FOUND;case It.ALREADY_EXISTS:return X.ALREADY_EXISTS;case It.PERMISSION_DENIED:return X.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case It.ABORTED:return X.ABORTED;case It.OUT_OF_RANGE:return X.OUT_OF_RANGE;case It.UNIMPLEMENTED:return X.UNIMPLEMENTED;case It.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:r})}}(Le=It||(It={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";function hI(){return new TextEncoder}const fI=new Yr([4294967295,4294967295],0);function l0(r){const e=hI().encode(r),i=new ME;return i.update(e),new Uint8Array(i.digest())}function u0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yr([i,s],0),new Yr([l,u],0)]}class Wm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Yr.fromNumber(this.ge)}ye(e,i,s){let l=e.add(i.multiply(Yr.fromNumber(s)));return l.compare(fI)===1&&(l=new Yr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=l0(e),[s,l]=u0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Wm(u,l,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=l0(e),[s,l]=u0(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(e,i,s,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ch(Ee.min(),l,new lt(Ve),ir(),ke())}}class nu{constructor(e,i,s,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new nu(s,i,ke(),ke(),ke())}}class $c{constructor(e,i,s,l){this.be=e,this.removedTargetIds=i,this.key=s,this.De=l}}class vT{constructor(e,i){this.targetId=e,this.Ce=i}}class ET{constructor(e,i,s=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class c0{constructor(){this.ve=0,this.Fe=h0(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),i=ke(),s=ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:ye(38017,{changeType:u})}})),new nu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=h0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.Je=zc(),this.He=zc(),this.Ye=new lt(Ve)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,s=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(gm(u))if(s===0){const d=new fe(u.path);this.et(i,d,Zt.newNoDocument(d,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=es(s).toUint8Array()}catch(p){if(p instanceof FE)return to("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Wm(d,l,u)}catch(p){return to(p instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&gm(g.target)){const p=new fe(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Zt.newNoDocument(p,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Ch(e,i,this.Ye,this.je,s);return this.je=ir(),this.Je=zc(),this.He=zc(),this.Ye=new lt(Ve),l}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new c0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Vt(Ve),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Vt(Ve),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||se("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new lt(fe.comparator)}function h0(){return new lt(fe.comparator)}const mI={asc:"ASCENDING",desc:"DESCENDING"},gI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pI={and:"AND",or:"OR"};class yI{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _m(r,e){return r.useProto3Json||bh(e)?e:{value:e}}function hh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function _I(r,e){return hh(r,e.toTimestamp())}function Ci(r){return Fe(!!r,49232),Ee.fromTimestamp((function(i){const s=Wr(i);return new rt(s.seconds,s.nanos)})(r))}function eg(r,e){return vm(r,e).canonicalString()}function vm(r,e){const i=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function bT(r){const e=tt.fromString(r);return Fe(IT(e),10190,{key:e.toString()}),e}function Em(r,e){return eg(r.databaseId,e.path)}function $d(r,e){const i=bT(e);if(i.get(1)!==r.databaseId.projectId)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new re(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new fe(ST(i))}function AT(r,e){return eg(r.databaseId,e)}function vI(r){const e=bT(r);return e.length===4?tt.emptyPath():ST(e)}function Tm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ST(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function f0(r,e,i){return{name:Em(r,e),fields:i.value.mapValue.fields}}function EI(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ye(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?X.UNKNOWN:_T(_.code);return new re(T,_.message||"")})(d);i=new ET(s,l,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=$d(r,s.document.name),u=Ci(s.document.updateTime),d=s.document.createTime?Ci(s.document.createTime):Ee.min(),g=new fn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(l,u,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];i=new $c(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=$d(r,s.document),u=s.readTime?Ci(s.readTime):Ee.min(),d=Zt.newNoDocument(l,u),g=s.removedTargetIds||[];i=new $c([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=$d(r,s.document),u=s.removedTargetIds||[];i=new $c([],u,l,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new uI(l,u),g=s.targetId;i=new vT(g,d)}}return i}function TI(r,e){let i;if(e instanceof tu)i={update:f0(r,e.key,e.value)};else if(e instanceof Jm)i={delete:Em(r,e.key)};else if(e instanceof ls)i={update:f0(r,e.key,e.data),updateMask:xI(e.fieldMask)};else{if(!(e instanceof aI))return ye(16599,{Vt:e.type});i={verify:Em(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const g=d.transform;if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ch)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ye(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:_I(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ye(27497)})(r,e.precondition)),i}function bI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((i=>(function(l,u){let d=l.updateTime?Ci(l.updateTime):Ci(u);return d.isEqual(Ee.min())&&(d=Ci(u)),new iI(d,l.transformResults||[])})(i,e)))):[]}function AI(r,e){return{documents:[AT(r,e.path)]}}function SI(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=AT(r,l);const u=(function(_){if(_.length!==0)return RT(Wn.create(_,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((T=>(function(x){return{field:Ka(x.field),direction:II(x.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_m(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function wI(r){let e=vI(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Fe(s===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(A){const x=wT(A);return x instanceof Wn&&tT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(Y){return new Gl(Ya(Y.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let x;return x=typeof A=="object"?A.value:A,bh(x)?null:x})(i.limit));let p=null;i.startAt&&(p=(function(A){const x=!!A.before,G=A.values||[];return new uh(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const x=!A.before,G=A.values||[];return new uh(G,x)})(i.endAt)),H2(e,l,d,u,g,"F",p,_)}function RI(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function wT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ya(i.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ya(i.unaryFilter.field);return Ct.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(i.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ct.create(Ya(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((s=>wT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(i.compositeFilter.op))})(r):ye(30097,{filter:r})}function II(r){return mI[r]}function CI(r){return gI[r]}function NI(r){return pI[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return Kt.fromServerFormat(r.fieldPath)}function RT(r){return r instanceof Ct?(function(i){if(i.op==="=="){if(Wv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(Zv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Wv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(Zv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:CI(i.op),value:i.value}}})(r):r instanceof Wn?(function(i){const s=i.getFilters().map((l=>RT(l)));return s.length===1?s[0]:{compositeFilter:{op:NI(i.op),filters:s}}})(r):ye(54877,{filter:r})}function xI(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function IT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gr{constructor(e,i,s,l,u=Ee.min(),d=Ee.min(),g=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class DI{constructor(e){this.yt=e}}function OI(r){const e=wI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(e,e.limit,"L"):e}class MI{constructor(){this.Cn=new VI}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Zr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class VI{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Vt(tt.comparator),u=!l.has(s);return this.index[i]=l.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}const d0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(CT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class so{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}const m0="LruGarbageCollector",kI=1048576;function g0([r,e],[i,s]){const l=Ve(r,i);return l===0?Ve(e,s):l}class UI{constructor(e){this.Ir=e,this.buffer=new Vt(g0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();g0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class PI{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?se(m0,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class LI{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Th.ce);const s=new UI(i);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(d0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,l,u,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(s=A,g=Date.now(),this.removeTargets(e,s,i)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),Fa()<=Me.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function jI(r,e){return new LI(r,e)}class zI{constructor(){this.changes=new Ws((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BI{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class qI{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(s!==null&&Vl(s.mutation,l,An.empty(),rt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=ke()){const l=Hs();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,s).next((u=>{let d=Rl();return u.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Hs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,ke())))}populateOverlays(e,i,s){const l=[];return s.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,l){let u=ir();const d=Ml(),g=(function(){return Ml()})();return i.forEach(((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof ls)?u=u.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Vl(T.mutation,_,T.mutation.getFieldMask(),rt.now())):d.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new BI(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=Ml();let l=new lt(((d,g)=>d-g)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=s.get(p)||An.empty();T=g.applyToLocalView(_,T),s.set(p,T);const A=(l.get(g.batchId)||ke()).add(p);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,A=cT();T.forEach((x=>{if(!u.has(x)){const G=pT(i.get(x),s.get(x));G!==null&&A.set(x,G),u=u.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,l){return(function(d){return fe.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):sT(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-u.size):Z.resolve(Hs());let g=zl,p=u;return d.next((_=>Z.forEach(_,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{p=p.insert(T,x)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,p,_,ke()))).next((T=>({batchId:g,changes:uT(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new fe(i)).next((s=>{let l=Rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const u=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(e,u).next((g=>Z.forEach(g,(p=>{const _=(function(A,x){return new go(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next((T=>{T.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,l)))).next((d=>{u.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Zt.newInvalidDocument(T)))}));let g=Rl();return d.forEach(((p,_)=>{const T=u.get(p);T!==void 0&&Vl(T.mutation,_,An.empty(),rt.now()),wh(i,_)&&(g=g.insert(p,_))})),g}))}}class HI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:OI(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),Z.resolve()}}class GI{constructor(){this.overlays=new lt(fe.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Hs();return Z.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((l,u)=>{this.St(e,i,u)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const l=Hs(),u=i.length+1,d=new fe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let u=new lt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=Hs(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Hs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new lI(i,s));let u=this.qr.get(i);u===void 0&&(u=ke(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class FI{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class tg{constructor(){this.Qr=new Vt(jt.$r),this.Ur=new Vt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new jt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new jt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new fe(new tt([])),s=new jt(i,e),l=new jt(i,e+1),u=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new fe(new tt([])),s=new jt(i,e),l=new jt(i,e+1);let u=ke();return this.Ur.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new jt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return fe.comparator(e.key,i.key)||Ve(e.Yr,i.Yr)}static Kr(e,i){return Ve(e.Yr,i.Yr)||fe.comparator(e.key,i.key)}}class QI{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(jt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oI(u,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new jt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.ei(s),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Vt(Ve);return i.forEach((l=>{const u=new jt(l,0),d=new jt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let u=s;fe.isDocumentKey(u)||(u=u.child(""));const d=new jt(new fe(u),0);let g=new Vt(Ve);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Fe(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(l=>{const u=new jt(l.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new jt(i,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class KI{constructor(e){this.ri=e,this.docs=(function(){return new lt(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(i))}getEntries(e,i){let s=ir();return i.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let u=ir();const d=i.path,g=new fe(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||T2(E2(T),s)<=0||(l.has(T.key)||wh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,i,s,l){ye(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new YI(this)}getSize(e){return Z.resolve(this.size)}}class YI extends zI{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class XI{constructor(e){this.persistence=e,this.si=new Ws((i=>Km(i)),Ym),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=so.ur()}forEachTarget(e,i){return this.si.forEach(((s,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new so(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class NT{constructor(e,i){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new FI,this.referenceDelegate=e(this),this.Pi=new XI(this),this.indexManager=new MI,this.remoteDocumentCache=(function(l){return new KI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DI(i),this.Ii=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new GI,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new QI(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){se("MemoryPersistence","Starting transaction:",e);const l=new $I(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class $I extends A2{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ri=new tg,this.Vi=null}static mi(e){return new ng(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=fe.fromPath(s);return this.gi(e,l).next((u=>{u||i.removeEntry(l,Ee.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class fh{constructor(e,i){this.persistence=e,this.pi=new Ws((s=>R2(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=jI(this,i)}static mi(e,i){return new fh(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((l=>s+l))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?Z.resolve():i(l)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,u.removeEntry(d,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ig{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=l}static As(e,i){let s=ke(),l=ke();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new ig(e,i.fromCache,s,l)}}class JI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wA()?8:S2(Wt())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new JI;return this.Ss(e,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>u.result))}bs(e,i,s,l){return s.documentReadCount<this.fs?(Fa()<=Me.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Fa()<=Me.DEBUG&&se("QueryEngine","Query:",Qa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Fa()<=Me.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):Z.resolve())}ys(e,i){if(i0(i))return Z.resolve(null);let s=Ii(i);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),s=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=ke(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(e,ym(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,s,l){return i0(i)||l.isEqual(Ee.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,s,l)?Z.resolve(null):(Fa()<=Me.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qa(i)),this.vs(e,d,i,v2(l,zl)).next((g=>g)))}))}Ds(e,i){let s=new Vt(oT(e));return i.forEach(((l,u)=>{wh(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,s){return Fa()<=Me.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(e,i,Zr.min(),s)}vs(e,i,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const rg="LocalStore",WI=3e8;class eC{constructor(e,i,s,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new lt(Ve),this.xs=new Ws((u=>Km(u)),Ym),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function tC(r,e,i,s){return new eC(r,e,i,s)}async function xT(r,e){const i=Ae(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],g=[];let p=ke();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function nC(r,e){const i=Ae(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const A=_.batch,x=A.keys();let G=Z.resolve();return x.forEach((Y=>{G=G.next((()=>T.getEntry(p,Y))).next((W=>{const ee=_.docVersions.get(Y);Fe(ee!==null,48541),W.version.compareTo(ee)<0&&(A.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=ke();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function DT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function iC(r,e){const i=Ae(r),s=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((T,A)=>{const x=l.get(A);if(!x)return;g.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,A))));let G=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?G=G.withResumeToken(Yt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,s)),l=l.insert(A,G),(function(W,ee,ce){return W.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=WI?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(x,G,T)&&g.push(i.Pi.updateTargetData(u,G))}));let p=ir(),_=ke();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(rC(u,d,e.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!s.isEqual(Ee.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((A=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(i.Ms=l,u)))}function rC(r,e,i){let s=ke(),l=ke();return i.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let d=ir();return i.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):se(rg,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:l}}))}function sC(r,e){const i=Ae(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function aC(r,e){const i=Ae(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,e).next((u=>u?(l=u,Z.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Gr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function bm(r,e,i){const s=Ae(r),l=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;se(rg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function p0(r,e,i){const s=Ae(r);let l=Ee.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const A=Ae(p),x=A.xs.get(T);return x!==void 0?Z.resolve(A.Ms.get(x)):A.Pi.getTargetData(_,T)})(s,d,Ii(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?l:Ee.min(),i?u:ke()))).next((g=>(oC(s,F2(e),g),{documents:g,Qs:u})))))}function oC(r,e,i){let s=r.Os.get(e)||Ee.min();i.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class y0{constructor(){this.activeTargetIds=J2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lC{constructor(){this.Mo=new y0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uC{Oo(e){}shutdown(){}}const _0="ConnectivityMonitor";class v0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(_0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Am(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const Jd="RestConnection",cC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===oh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,i,s,l,u){const d=Am(),g=this.zo(e,i.toUriEncodedString());se(Jd,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:_}=new URL(g),T=oo(_);return this.Jo(e,g,p,s,T).then((A=>(se(Jd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw to(Jd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",s),A}))}Ho(e,i,s,l,u,d){return this.Go(e,i,s,l,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const s=cC[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class fC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class dC extends hC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,l,u){const d=Am();return new Promise(((g,p)=>{const _=new VE;_.setWithCredentials(!0),_.listenOnce(kE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qc.NO_ERROR:const A=_.getResponseJson();se($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Qc.TIMEOUT:se($t,`RPC '${e}' ${d} timed out`),p(new re(X.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const x=_.getStatus();if(se($t,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Y=G?.error;if(Y&&Y.status&&Y.message){const W=(function(ce){const ge=ce.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ge)>=0?ge:X.UNKNOWN})(Y.status);p(new re(W,Y.message))}else p(new re(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new re(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{se($t,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);se($t,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",T,s,15)}))}T_(e,i,s){const l=Am(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=LE(),g=PE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=u.join("");se($t,`Creating RPC '${e}' stream ${l}: ${T}`,p);const A=d.createWebChannel(T,p);this.I_(A);let x=!1,G=!1;const Y=new fC({Yo:ee=>{G?se($t,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(x||(se($t,`Opening RPC '${e}' stream ${l} transport.`),A.open(),x=!0),se($t,`RPC '${e}' stream ${l} sending:`,ee),A.send(ee))},Zo:()=>A.close()}),W=(ee,ce,ge)=>{ee.listen(ce,(de=>{try{ge(de)}catch(je){setTimeout((()=>{throw je}),0)}}))};return W(A,wl.EventType.OPEN,(()=>{G||(se($t,`RPC '${e}' stream ${l} transport opened.`),Y.o_())})),W(A,wl.EventType.CLOSE,(()=>{G||(G=!0,se($t,`RPC '${e}' stream ${l} transport closed`),Y.a_(),this.E_(A))})),W(A,wl.EventType.ERROR,(ee=>{G||(G=!0,to($t,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),Y.a_(new re(X.UNAVAILABLE,"The operation could not be completed")))})),W(A,wl.EventType.MESSAGE,(ee=>{if(!G){const ce=ee.data[0];Fe(!!ce,16349);const ge=ce,de=ge?.error||ge[0]?.error;if(de){se($t,`RPC '${e}' stream ${l} received error:`,de);const je=de.status;let ze=(function(w){const C=It[w];if(C!==void 0)return _T(C)})(je),Ce=de.message;ze===void 0&&(ze=X.INTERNAL,Ce="Unknown error status: "+je+" with message "+de.message),G=!0,Y.a_(new re(ze,Ce)),A.close()}else se($t,`RPC '${e}' stream ${l} received:`,ce),Y.u_(ce)}})),W(g,UE.STAT_EVENT,(ee=>{ee.stat===cm.PROXY?se($t,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===cm.NOPROXY&&se($t,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Zd(){return typeof document<"u"?document:null}function Nh(r){return new yI(r,!0)}class OT{constructor(e,i,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E0="PersistentStream";class MT{constructor(e,i,s,l,u,d,g,p){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{e((()=>{const l=new re(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return se(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(se(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mC extends MT{constructor(e,i,s,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=EI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Ci(d.readTime):Ee.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Tm(this.serializer),i.addTarget=(function(u,d){let g;const p=d.target;if(g=gm(p)?{documents:AI(u,p)}:{query:SI(u,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=TT(u,d.resumeToken);const _=_m(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ee.min())>0){g.readTime=hh(u,d.snapshotVersion.toTimestamp());const _=_m(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=RI(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Tm(this.serializer),i.removeTarget=e,this.q_(i)}}class gC extends MT{constructor(e,i,s,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=bI(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Tm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>TI(this.serializer,s)))};this.q_(i)}}class pC{}class yC extends pC{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,vm(i,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(X.UNKNOWN,u.toString())}))}Ho(e,i,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,vm(i,s),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new re(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _C{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(i),this.aa=!1):se("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $s="RemoteStore";class vC{constructor(e,i,s,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ea(this)&&(se($s,"Restarting streams for network reachability change."),await(async function(p){const _=Ae(p);_.Ea.add(4),await iu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await xh(_)})(this))}))})),this.Ra=new _C(s,l)}}async function xh(r){if(ea(r))for(const e of r.da)await e(!0)}async function iu(r){for(const e of r.da)await e(!1)}function VT(r,e){const i=Ae(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),lg(i)?og(i):po(i).O_()&&ag(i,e))}function sg(r,e){const i=Ae(r),s=po(i);i.Ia.delete(e),s.O_()&&kT(i,e),i.Ia.size===0&&(s.O_()?s.L_():ea(i)&&i.Ra.set("Unknown"))}function ag(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}po(r).Y_(e)}function kT(r,e){r.Va.Ue(e),po(r).Z_(e)}function og(r){r.Va=new dI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function lg(r){return ea(r)&&!po(r).x_()&&r.Ia.size>0}function ea(r){return Ae(r).Ea.size===0}function UT(r){r.Va=void 0}async function EC(r){r.Ra.set("Online")}async function TC(r){r.Ia.forEach(((e,i)=>{ag(r,e)}))}async function bC(r,e){UT(r),lg(r)?(r.Ra.ha(e),og(r)):r.Ra.set("Unknown")}async function AC(r,e,i){if(r.Ra.set("Online"),e instanceof ET&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){se($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dh(r,s)}else if(e instanceof $c?r.Va.Ze(e):e instanceof vT?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ee.min()))try{const s=await DT(r.localStore);i.compareTo(s)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),kT(u,p);const A=new Gr(T.target,p,_,T.sequenceNumber);ag(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){se($s,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,e,i){if(!mo(e))throw e;r.Ea.add(1),await iu(r),r.Ra.set("Offline"),i||(i=()=>DT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se($s,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await xh(r)}))}function PT(r,e){return e().catch((i=>dh(r,i,e)))}async function Dh(r){const e=Ae(r),i=ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;SC(e);)try{const l=await sC(e.localStore,s);if(l===null){e.Ta.length===0&&i.L_();break}s=l.batchId,wC(e,l)}catch(l){await dh(e,l)}LT(e)&&jT(e)}function SC(r){return ea(r)&&r.Ta.length<10}function wC(r,e){r.Ta.push(e);const i=ns(r);i.O_()&&i.X_&&i.ea(e.mutations)}function LT(r){return ea(r)&&!ns(r).x_()&&r.Ta.length>0}function jT(r){ns(r).start()}async function RC(r){ns(r).ra()}async function IC(r){const e=ns(r);for(const i of r.Ta)e.ea(i.mutations)}async function CC(r,e,i){const s=r.Ta.shift(),l=Zm.from(s,e,i);await PT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Dh(r)}async function NC(r,e){e&&ns(r).X_&&await(async function(s,l){if((function(d){return cI(d)&&d!==X.ABORTED})(l.code)){const u=s.Ta.shift();ns(s).B_(),await PT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Dh(s)}})(r,e),LT(r)&&jT(r)}async function T0(r,e){const i=Ae(r);i.asyncQueue.verifyOperationInProgress(),se($s,"RemoteStore received new credentials");const s=ea(i);i.Ea.add(3),await iu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xh(i)}async function xC(r,e){const i=Ae(r);e?(i.Ea.delete(2),await xh(i)):e||(i.Ea.add(2),await iu(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,s,l){const u=Ae(i);return u.sa(),new mC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:EC.bind(null,r),t_:TC.bind(null,r),r_:bC.bind(null,r),H_:AC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),lg(r)?og(r):r.Ra.set("Unknown")):(await r.ma.stop(),UT(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(i,s,l){const u=Ae(i);return u.sa(),new gC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RC.bind(null,r),r_:NC.bind(null,r),ta:IC.bind(null,r),na:CC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Dh(r)):(await r.fa.stop(),r.Ta.length>0&&(se($s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ug{constructor(e,i,s,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,u){const d=Date.now()+s,g=new ug(e,i,d,l,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(r,e){if(nr("AsyncQueue",`${e}: ${r}`),mo(r))return new re(X.UNAVAILABLE,`${e}: ${r}`);throw r}class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||fe.comparator(i.key,s.key):(i,s)=>fe.comparator(i.key,s.key),this.keyedMap=Rl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Wa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class b0{constructor(){this.ga=new lt(fe.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class ao{constructor(e,i,s,l,u,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ao(e,i,Wa.emptySet(i),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}class DC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OC{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=Ae(i),u=l.queries;l.queries=A0(),u.forEach(((d,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new re(X.ABORTED,"Firestore shutting down"))}}function A0(){return new Ws((r=>aT(r)),Sh)}async function zT(r,e){const i=Ae(r);let s=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new DC,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=cg(d,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&hg(i)}async function BT(r,e){const i=Ae(r),s=e.query;let l=3;const u=i.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function MC(r,e){const i=Ae(r);let s=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&hg(i)}function VC(r,e,i){const s=Ae(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);s.queries.delete(e)}function hg(r){r.Ca.forEach((e=>{e.next()}))}var Sm,S0;(S0=Sm||(Sm={})).Ma="default",S0.Cache="cache";class qT{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sm.Cache}}class HT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class kC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=oT(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new b0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const x=l.get(T),G=wh(this.query,A)?A:null,Y=!!x&&this.mutatedKeys.has(x.key),W=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;x&&G?x.data.isEqual(G.data)?Y!==W&&(s.track({type:3,doc:G}),ee=!0):this.su(x,G)||(s.track({type:2,doc:G}),ee=!0,(p&&this.eu(G,p)>0||_&&this.eu(G,_)<0)&&(g=!0)):!x&&G?(s.track({type:0,doc:G}),ee=!0):x&&!G&&(s.track({type:1,doc:x}),ee=!0,(p||_)&&(g=!0)),ee&&(G?(d=d.add(G),u=W?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(G,Y){const W=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:ee})}};return W(G)-W(Y)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new ao(this.query,e.tu,u,d,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new GT(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new HT(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=ke();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class UC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class PC{constructor(e){this.key=e,this.hu=!1}}class LC{constructor(e,i,s,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ws((g=>aT(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(fe.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jC(r,e,i=!0){const s=$T(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await FT(s,e,i,!0),l}async function zC(r,e){const i=$T(r);await FT(i,e,!0,!1)}async function FT(r,e,i,s){const l=await aC(r.localStore,Ii(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,i);let g;return s&&(g=await BC(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&VT(r.remoteStore,l),g}async function BC(r,e,i,s,l){r.pu=(A,x,G)=>(async function(W,ee,ce,ge){let de=ee.view.ru(ce);de.Cs&&(de=await p0(W.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,de))));const je=ge&&ge.targetChanges.get(ee.targetId),ze=ge&&ge.targetMismatches.get(ee.targetId)!=null,Ce=ee.view.applyChanges(de,W.isPrimaryClient,je,ze);return R0(W,ee.targetId,Ce.au),Ce.snapshot})(r,A,x,G);const u=await p0(r.localStore,e,!0),d=new kC(e,u.Qs),g=d.ru(u.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);R0(r,i,_.au);const T=new UC(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function qC(r,e,i){const s=Ae(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Sh(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&sg(s.remoteStore,l.targetId),wm(s,l.targetId)})).catch(fo)):(wm(s,l.targetId),await bm(s.localStore,l.targetId,!0))}async function HC(r,e){const i=Ae(r),s=i.Tu.get(e),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sg(i.remoteStore,s.targetId))}async function GC(r,e,i){const s=JC(r);try{const l=await(function(d,g){const p=Ae(d),_=rt.now(),T=g.reduce(((G,Y)=>G.add(Y.key)),ke());let A,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Y=ir(),W=ke();return p.Ns.getEntries(G,T).next((ee=>{Y=ee,Y.forEach(((ce,ge)=>{ge.isValidDocument()||(W=W.add(ce))}))})).next((()=>p.localDocuments.getOverlayedDocuments(G,Y))).next((ee=>{A=ee;const ce=[];for(const ge of g){const de=sI(ge,A.get(ge.key).overlayedDocument);de!=null&&ce.push(new ls(ge.key,de,ZE(de.value.mapValue),Sn.exists(!0)))}return p.mutationQueue.addMutationBatch(G,_,ce,g)})).next((ee=>{x=ee;const ce=ee.applyToLocalDocumentSet(A,W);return p.documentOverlayCache.saveOverlays(G,ee.batchId,ce)}))})).then((()=>({batchId:x.batchId,changes:uT(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new lt(Ve)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await ru(s,l.changes),await Dh(s.remoteStore)}catch(l){const u=cg(l,"Failed to persist write");i.reject(u)}}async function QT(r,e){const i=Ae(r);try{const s=await iC(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Fe(d.hu,14607):l.removedDocuments.size>0&&(Fe(d.hu,42227),d.hu=!1))})),await ru(i,s,e)}catch(s){await fo(s)}}function w0(r,e,i){const s=Ae(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const p=Ae(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,A)=>{for(const x of A.Sa)x.va(g)&&(_=!0)})),_&&hg(p)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function FC(r,e,i){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Au.get(e),u=l&&l.key;if(u){let d=new lt(fe.comparator);d=d.insert(u,Zt.newNoDocument(u,Ee.min()));const g=ke().add(u),p=new Ch(Ee.min(),new Map,new lt(Ve),d,g);await QT(s,p),s.du=s.du.remove(u),s.Au.delete(e),dg(s)}else await bm(s.localStore,e,!1).then((()=>wm(s,e,i))).catch(fo)}async function QC(r,e){const i=Ae(r),s=e.batch.batchId;try{const l=await nC(i.localStore,e);YT(i,s,null),KT(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ru(i,l)}catch(l){await fo(l)}}async function KC(r,e,i){const s=Ae(r);try{const l=await(function(d,g){const p=Ae(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((A=>(Fe(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(s.localStore,e);YT(s,e,i),KT(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ru(s,l)}catch(l){await fo(l)}}function KT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function YT(r,e,i){const s=Ae(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function wm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||XT(r,s)}))}function XT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(sg(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),dg(r))}function R0(r,e,i){for(const s of i)s instanceof HT?(r.Ru.addReference(s.key,e),YC(r,s)):s instanceof GT?(se(fg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||XT(r,s.key)):ye(19791,{wu:s})}function YC(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(se(fg,"New document in limbo: "+i),r.Eu.add(s),dg(r))}function dg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new fe(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new PC(i)),r.du=r.du.insert(i,s),VT(r.remoteStore,new Gr(Ii(Xm(i.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function ru(r,e,i){const s=Ae(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{d.push(s.pu(p,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=ig.As(p.targetId,_);u.push(T)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(x=>Z.forEach(x.Es,(G=>T.persistence.referenceDelegate.addReference(A,x.targetId,G))).next((()=>Z.forEach(x.ds,(G=>T.persistence.referenceDelegate.removeReference(A,x.targetId,G)))))))))}catch(A){if(!mo(A))throw A;se(rg,"Failed to update sequence numbers: "+A)}for(const A of _){const x=A.targetId;if(!A.fromCache){const G=T.Ms.get(x),Y=G.snapshotVersion,W=G.withLastLimboFreeSnapshotVersion(Y);T.Ms=T.Ms.insert(x,W)}}})(s.localStore,u))}async function XC(r,e){const i=Ae(r);if(!i.currentUser.isEqual(e)){se(fg,"User change. New user:",e.toKey());const s=await xT(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new re(X.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ru(i,s.Ls)}}function $C(r,e){const i=Ae(r),s=i.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let l=ke();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function $T(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FC.bind(null,e),e.Pu.H_=MC.bind(null,e.eventManager),e.Pu.yu=VC.bind(null,e.eventManager),e}function JC(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KC.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return tC(this.persistence,new ZI,e.initialUser,this.serializer)}Cu(e){return new NT(ng.mi,this.serializer)}Du(e){return new lC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class ZC extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Fe(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new PI(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new NT((s=>fh.mi(s,i)),this.serializer)}}class Rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>w0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XC.bind(null,this.syncEngine),await xC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OC})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),s=(function(u){return new dC(u)})(e.databaseInfo);return(function(u,d,g,p){return new yC(u,d,g,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,l,u,d,g){return new vC(s,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>w0(this.syncEngine,i,0)),(function(){return v0.v()?new v0:new uC})())}createSyncEngine(e,i){return(function(l,u,d,g,p,_,T){const A=new LC(l,u,d,g,p,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Ae(i);se($s,"RemoteStore shutting down."),s.Ea.add(5),await iu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class JT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const is="FirestoreClient";class WC{constructor(e,i,s,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{se(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(se(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=cg(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Wd(r,e){r.asyncQueue.verifyOperationInProgress(),se(is,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await xT(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function I0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await eN(r);se(is,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>T0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>T0(e.remoteStore,l))),r._onlineComponents=e}async function eN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(is,"Using user provided OfflineComponentProvider");try{await Wd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Wd(r,new mh)}}else se(is,"Using default OfflineComponentProvider"),await Wd(r,new ZC(void 0));return r._offlineComponents}async function ZT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(is,"Using user provided OnlineComponentProvider"),await I0(r,r._uninitializedComponentsProvider._online)):(se(is,"Using default OnlineComponentProvider"),await I0(r,new Rm))),r._onlineComponents}function tN(r){return ZT(r).then((e=>e.syncEngine))}async function Im(r){const e=await ZT(r),i=e.eventManager;return i.onListen=jC.bind(null,e.syncEngine),i.onUnlisten=qC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=zC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=HC.bind(null,e.syncEngine),i}function nN(r,e,i={}){const s=new Xr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,p,_){const T=new JT({next:x=>{T.Nu(),d.enqueueAndForget((()=>BT(u,A))),x.fromCache&&p.source==="server"?_.reject(new re(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),A=new qT(g,T,{includeMetadataChanges:!0,qa:!0});return zT(u,A)})(await Im(r),r.asyncQueue,e,i,s))),s.promise}function WT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const C0=new Map;const e1="firestore.googleapis.com",N0=!0;class x0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e1,this.ssl=N0}else this.host=e.host,this.ssl=e.ssl??N0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kI)throw new re(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new l2;switch(s.type){case"firstParty":return new f2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=C0.get(i);s&&(se("ComponentProvider","Removing Datastore"),C0.delete(i),s.terminate())})(this),Promise.resolve()}}function iN(r,e,i,s={}){r=Ri(r,Oh);const l=oo(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(F0(`https://${g}`),Q0("Firestore",!0)),u.host!==e1&&u.host!==g&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:l,emulatorOptions:s};if(!Qs(p,d)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Jt.MOCK_USER;else{_=pA(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new re(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(A)}r._authCredentials=new u2(new zE(_,T))}}class us{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class xt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(eu(i,xt._jsonSchema))return new xt(e,s||null,new fe(tt.fromString(i.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Nt("string",xt._jsonSchemaVersion),referencePath:Nt("string")};class $r extends us{constructor(e,i,s){super(e,i,Xm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new fe(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Js(r,e,...i){if(r=yt(r),BE("collection","path",e),r instanceof Oh){const s=tt.fromString(e,...i);return Hv(s),new $r(r,null,s)}{if(!(r instanceof xt||r instanceof $r))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...i));return Hv(s),new $r(r.firestore,null,s)}}function mg(r,e,...i){if(r=yt(r),arguments.length===1&&(e=Hm.newId()),BE("doc","path",e),r instanceof Oh){const s=tt.fromString(e,...i);return qv(s),new xt(r,null,new fe(s))}{if(!(r instanceof xt||r instanceof $r))throw new re(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...i));return qv(s),new xt(r.firestore,r instanceof $r?r.converter:null,new fe(s))}}const D0="AsyncQueue";class O0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OT(this,"async_queue_retry"),this._c=()=>{const s=Zd();s&&se(D0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mo(e))throw e;se(D0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",M0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ug.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ye(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function M0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function V0(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Zs extends Oh{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new O0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O0(e),this._firestoreClient=void 0,await e}}}function rN(r,e){const i=typeof r=="object"?r:$0(),s=typeof r=="string"?r:oh,l=Mm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=mA("firestore");u&&iN(l,...u)}return l}function Mh(r){if(r._terminated)throw new re(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sN(r),r._firestoreClient}function sN(r){const e=r._freezeSettings(),i=(function(l,u,d,g){return new N2(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,WT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new WC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Yt.fromBase64String(e))}catch(i){throw new re(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ln(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Nt("string",Ln._jsonSchemaVersion),bytes:Nt("string")};class su{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new re(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vh{constructor(e){this._methodName=e}}class Ni{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new re(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new re(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(eu(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Nt("string",Ni._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class xi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eu(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new xi(e.vectorValues);throw new re(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Nt("string",xi._jsonSchemaVersion),vectorValues:Nt("object")};const aN=/^__.*__$/;class oN{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}class t1{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new ls(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function n1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:r})}}class gg{constructor(e,i,s,l,u,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(n1(this.Ac)&&aN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lN{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Nh(e)}Cc(e,i,s,l=!1){return new gg({Ac:e,methodName:i,Dc:s,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kh(r){const e=r._freezeSettings(),i=Nh(r._databaseId);return new lN(r._databaseId,!!e.ignoreUndefinedProperties,i)}function i1(r,e,i,s,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,i,l);yg("Data must be an object, but it was:",d,s);const g=a1(s,d);let p,_;if(u.merge)p=new An(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const x=Cm(e,A,i);if(!d.contains(x))throw new re(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);l1(T,x)||T.push(x)}p=new An(T),_=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=d.fieldTransforms;return new oN(new fn(g),p,_)}class Uh extends Vh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}class pg extends Vh{_toFieldTransform(e){return new tI(e.path,new Fl)}isEqual(e){return e instanceof pg}}function r1(r,e,i,s){const l=r.Cc(1,e,i);yg("Data must be an object, but it was:",l,s);const u=[],d=fn.empty();os(s,((p,_)=>{const T=_g(e,p,i);_=yt(_);const A=l.yc(T);if(_ instanceof Uh)u.push(T);else{const x=au(_,A);x!=null&&(u.push(T),d.set(T,x))}}));const g=new An(u);return new t1(d,g,l.fieldTransforms)}function s1(r,e,i,s,l,u){const d=r.Cc(1,e,i),g=[Cm(e,s,i)],p=[l];if(u.length%2!=0)throw new re(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)g.push(Cm(e,u[x])),p.push(u[x+1]);const _=[],T=fn.empty();for(let x=g.length-1;x>=0;--x)if(!l1(_,g[x])){const G=g[x];let Y=p[x];Y=yt(Y);const W=d.yc(G);if(Y instanceof Uh)_.push(G);else{const ee=au(Y,W);ee!=null&&(_.push(G),T.set(G,ee))}}const A=new An(_);return new t1(T,A,d.fieldTransforms)}function uN(r,e,i,s=!1){return au(i,r.Cc(s?4:3,e))}function au(r,e){if(o1(r=yt(r)))return yg("Unsupported field value:",e,r),a1(r,e);if(r instanceof Vh)return(function(s,l){if(!n1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const g of s){let p=au(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),d++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Z2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:hh(l.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(l.serializer,u)}}if(s instanceof Ni)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:TT(l.serializer,s._byteString)};if(s instanceof xt){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof xi)return(function(d,g){return{mapValue:{fields:{[$E]:{stringValue:JE},[lh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return $m(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Eh(s)}`)})(r,e)}function a1(r,e){const i={};return GE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(r,((s,l)=>{const u=au(l,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function o1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Ni||r instanceof Ln||r instanceof xt||r instanceof Vh||r instanceof xi)}function yg(r,e,i){if(!o1(i)||!qE(i)){const s=Eh(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Cm(r,e,i){if((e=yt(e))instanceof su)return e._internalPath;if(typeof e=="string")return _g(r,e);throw gh("Field path arguments must be of type string or ",r,!1,void 0,i)}const cN=new RegExp("[~\\*/\\[\\]]");function _g(r,e,i){if(e.search(cN)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new su(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gh(r,e,i,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||d)&&(p+=" (found",u&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new re(X.INVALID_ARGUMENT,g+r+p)}function l1(r,e){return r.some((i=>i.isEqual(e)))}class u1{constructor(e,i,s,l,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(vg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class hN extends u1{data(){return super.data()}}function vg(r,e){return typeof e=="string"?_g(r,e):e instanceof su?e._internalPath:e._delegate._internalPath}function c1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new re(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class h1 extends Eg{}function Tg(r,e,...i){let s=[];e instanceof Eg&&s.push(e),s=s.concat(i),(function(u){const d=u.filter((p=>p instanceof Ag)).length,g=u.filter((p=>p instanceof bg)).length;if(d>1||d>0&&g>0)throw new re(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class bg extends h1{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new bg(e,i,s)}_apply(e){const i=this._parse(e);return f1(e._query,i),new us(e.firestore,e.converter,pm(e._query,i))}_parse(e){const i=kh(e.firestore);return(function(u,d,g,p,_,T,A){let x;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new re(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){U0(A,T);const Y=[];for(const W of A)Y.push(k0(p,u,W));x={arrayValue:{values:Y}}}else x=k0(p,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||U0(A,T),x=uN(g,d,A,T==="in"||T==="not-in");return Ct.create(_,T,x)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Ag extends Eg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ag(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const p of g)f1(d,p),d=pm(d,p)})(e._query,i),new us(e.firestore,e.converter,pm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends h1{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Sg(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new re(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(u,d)})(e._query,this._field,this._direction);return new us(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new go(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function wg(r,e="asc"){const i=e,s=vg("orderBy",r);return Sg._create(s,i)}function k0(r,e,i){if(typeof(i=yt(i))=="string"){if(i==="")throw new re(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(e)&&i.indexOf("/")!==-1)throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(tt.fromString(i));if(!fe.isDocumentKey(s))throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Jv(r,new fe(s))}if(i instanceof xt)return Jv(r,i._key);throw new re(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eh(i)}.`)}function U0(r,e){if(!Array.isArray(r)||r.length===0)throw new re(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f1(r,e){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class fN{convertValue(e,i="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return os(e,((l,u)=>{s[l]=this.convertValue(u,i)})),s}convertVectorValue(e){const i=e.fields?.[lh].arrayValue?.values?.map((s=>pt(s.doubleValue)));return new xi(i)}convertGeoPoint(e){return new Ni(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Ah(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=Wr(e);return new rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=tt.fromString(e);Fe(IT(s),9688,{name:e});const l=new ql(s.get(1),s.get(3)),u=new fe(s.popFirst(5));return l.isEqual(i)||nr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function d1(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class Cl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends u1{constructor(e,i,s,l,u,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(vg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:Nt("string",Gs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Jc extends Gs{data(e={}){return super.data(e)}}class Fs{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Jc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new re(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const p=new Jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:dN(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}Fs._jsonSchemaVersion="firestore/querySnapshot/1.0",Fs._jsonSchema={type:Nt("string",Fs._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class Rg extends fN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,i)}}function mN(r){r=Ri(r,us);const e=Ri(r.firestore,Zs),i=Mh(e),s=new Rg(e);return c1(r._query),nN(i,r._query).then((l=>new Fs(e,s,r,l)))}function gN(r,e,i,...s){r=Ri(r,xt);const l=Ri(r.firestore,Zs),u=kh(l);let d;return d=typeof(e=yt(e))=="string"||e instanceof su?s1(u,"updateDoc",r._key,e,i,s):r1(u,"updateDoc",r._key,e),Cg(l,[d.toMutation(r._key,Sn.exists(!0))])}function Ig(r,e){const i=Ri(r.firestore,Zs),s=mg(r),l=d1(r.converter,e);return Cg(i,[i1(kh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Sn.exists(!1))]).then((()=>s))}function m1(r,...e){r=yt(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||V0(e[s])||(i=e[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(V0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,d,g;if(r instanceof xt)d=Ri(r.firestore,Zs),g=Xm(r._key.path),u={next:p=>{e[s]&&e[s](pN(d,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Ri(r,us);d=Ri(p.firestore,Zs),g=p._query;const _=new Rg(d);u={next:T=>{e[s]&&e[s](new Fs(d,_,p,T))},error:e[s+1],complete:e[s+2]},c1(r._query)}return(function(_,T,A,x){const G=new JT(x),Y=new qT(T,G,A);return _.asyncQueue.enqueueAndForget((async()=>zT(await Im(_),Y))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>BT(await Im(_),Y)))}})(Mh(d),g,l,u)}function Cg(r,e){return(function(s,l){const u=new Xr;return s.asyncQueue.enqueueAndForget((async()=>GC(await tN(s),l,u))),u.promise})(Mh(r),e)}function pN(r,e,i){const s=i.docs.get(e._key),l=new Rg(r);return new Gs(r,l,e._key,s,new Cl(i.hasPendingWrites,i.fromCache),e.converter)}class yN{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=kh(e)}set(e,i,s){this._verifyNotCommitted();const l=em(e,this._firestore),u=d1(l.converter,i,s),d=i1(this._dataReader,"WriteBatch.set",l._key,u,l.converter!==null,s);return this._mutations.push(d.toMutation(l._key,Sn.none())),this}update(e,i,s,...l){this._verifyNotCommitted();const u=em(e,this._firestore);let d;return d=typeof(i=yt(i))=="string"||i instanceof su?s1(this._dataReader,"WriteBatch.update",u._key,i,s,l):r1(this._dataReader,"WriteBatch.update",u._key,i),this._mutations.push(d.toMutation(u._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=em(e,this._firestore);return this._mutations=this._mutations.concat(new Jm(i._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function em(r,e){if((r=yt(r)).firestore!==e)throw new re(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ng(){return new pg("serverTimestamp")}function _N(r){return Mh(r=Ri(r,Zs)),new yN(r,(e=>Cg(r,e)))}(function(e,i=!0){(function(l){ho=l})(lo),eo(new Ks("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),g=new Zs(new c2(s.getProvider("auth-internal")),new d2(d,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new re(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(_.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Kr(Lv,jv,e),Kr(Lv,jv,"esm2020")})();const vN=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EN=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),P0=r=>{const e=EN(r);return e.charAt(0).toUpperCase()+e.slice(1)},g1=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),TN=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var bN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AN=ve.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:d,...g},p)=>ve.createElement("svg",{ref:p,...bN,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:g1("lucide",l),...!u&&!TN(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,T])=>ve.createElement(_,T)),...Array.isArray(u)?u:[u]]));const kt=(r,e)=>{const i=ve.forwardRef(({className:s,...l},u)=>ve.createElement(AN,{ref:u,iconNode:e,className:g1(`lucide-${vN(P0(r))}`,`lucide-${r}`,s),...l}));return i.displayName=P0(r),i};const SN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],p1=kt("book-open",SN);const wN=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Nm=kt("brain",wN);const RN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],IN=kt("chart-column",RN);const CN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],NN=kt("download",CN);const xN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DN=kt("eye",xN);const ON=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MN=kt("file-text",ON);const VN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],kN=kt("history",VN);const UN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yl=kt("loader-circle",UN);const PN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LN=kt("log-out",PN);const jN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],zN=kt("menu",jN);const BN=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],xg=kt("mic",BN);const qN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],HN=kt("moon",qN);const GN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],y1=kt("pen-tool",GN);const FN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],QN=kt("refresh-cw",FN);const KN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],YN=kt("send",KN);const XN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$N=kt("settings",XN);const JN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ZN=kt("sun",JN);const WN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ex=kt("upload",WN);const tx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_1=kt("x",tx),nx={apiKey:"AIzaSyDpVsArnziPijuq3fCvn7c-u5azcTHOPo4",authDomain:"studyapp-60986.firebaseapp.com",projectId:"studyapp-60986",storageBucket:"studyapp-60986.firebasestorage.app",messagingSenderId:"529226197578",appId:"1:529226197578:web:af7af8b073e91b703c54b3",measurementId:"G-0BZ59G6Z9R"},v1=X0(nx),kl=a2(v1),Wi=rN(v1),rs=typeof __app_id<"u"?__app_id:"study-app",L0=800*1024,ix=async(r,e,i)=>{const s=await Ig(Js(Wi,"artifacts",rs,"users",r,"study_materials"),{...i,timestamp:Ng(),chunked:!0}),l=e.length,u=_N(Wi);let d=0;for(let g=0;g<l;g+=L0){const p=e.substring(g,g+L0),_=mg(Js(Wi,"artifacts",rs,"users",r,"study_materials",s.id,"chunks"));u.set(_,{index:d,data:p}),d++}return await u.commit(),s.id},rx=async(r,e,i)=>{if(i)return i;const s=Tg(Js(Wi,"artifacts",rs,"users",r,"study_materials",e,"chunks"),wg("index")),l=await mN(s);return l.empty?null:l.docs.map(u=>u.data().data).join("")},Ul=r=>{try{return JSON.parse(r)}catch{const i=r.match(/(\{[\s\S]*\}|\[[\s\S]*\])/);if(i)try{return JSON.parse(i[0])}catch{console.error("Failed to parse extracted JSON:",i[0])}const s=r.replace(/```json|```/g,"").trim();try{return JSON.parse(s)}catch{return null}}},qs=async(r,e="",i=null,s={})=>{let{provider:l,apiKey:u,model:d}=s;const g="AIzaSyBsk-XTc7CCM1Q9H9g0iDekvCl0ffCeVmI";if(l==="openrouter"&&i&&i.mimeType.toLowerCase().includes("pdf")&&(console.warn("OpenRouter limitation detected: Switching to Gemini for PDF processing."),l="gemini",u=null),l==="openrouter"){if(!u)throw new Error("OpenRouter API Key is required in settings.");const p="https://openrouter.ai/api/v1/chat/completions",_=[{type:"text",text:r}];i&&_.push({type:"image_url",image_url:{url:`data:${i.mimeType};base64,${i.base64}`}});const T={model:d||"google/gemini-flash-1.5",messages:[{role:"system",content:e},{role:"user",content:_}],temperature:.7},A=await fetch(p,{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"StudyAI"},body:JSON.stringify(T)});if(!A.ok){const G=await A.text();try{const Y=JSON.parse(G);if(Y.error&&Y.error.message)throw new Error(`OpenRouter Error: ${Y.error.message}`)}catch{}throw new Error(`OpenRouter Error: ${G}`)}return(await A.json()).choices?.[0]?.message?.content||"No response."}else{let _=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${u||g}`;const A={contents:[{role:"user",parts:[{text:r},...i?[{inlineData:{mimeType:i.mimeType,data:i.base64}}]:[]]}],generationConfig:{temperature:.7,maxOutputTokens:8192},systemInstruction:{parts:[{text:e}]}},x=await fetch(_,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!x.ok){const W=await x.text();throw new Error(`Gemini API Error: ${x.status} - ${W}`)}const Y=(await x.json()).candidates?.[0]?.content?.parts?.[0]?.text;return Y||"Error: Empty response."}},sx=({onLogin:r})=>{const[e,i]=ve.useState(!0),[s,l]=ve.useState(""),[u,d]=ve.useState(""),[g,p]=ve.useState(""),[_,T]=ve.useState(!1),A=async x=>{x.preventDefault(),p(""),T(!0);try{e?await Fw(kl,s,u):await Gw(kl,s,u)}catch(G){p(G.message.replace("Firebase: ",""))}finally{T(!1)}};return S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:S.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl mx-auto flex items-center justify-center mb-4",children:S.jsx(Nm,{className:"w-8 h-8 text-white"})}),S.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"StudyAI"}),S.jsx("p",{className:"text-gray-500",children:"Your Intelligent Study Companion"})]}),g&&S.jsx("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg mb-4 text-sm",children:g}),S.jsxs("form",{onSubmit:A,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"Email",required:!0,className:"w-full px-4 py-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:s,onChange:x=>l(x.target.value)}),S.jsx("input",{type:"password",placeholder:"Password",required:!0,className:"w-full px-4 py-2 rounded-lg border dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:u,onChange:x=>d(x.target.value)}),S.jsxs("button",{type:"submit",disabled:_,className:"w-full bg-blue-600 text-white font-bold py-3 rounded-xl flex justify-center gap-2",children:[_&&S.jsx(Yl,{className:"animate-spin w-5 h-5"})," ",e?"Sign In":"Create Account"]})]}),S.jsx("button",{onClick:()=>i(!e),className:"mt-6 w-full text-blue-600 text-sm hover:underline",children:e?"Need an account? Sign up":"Have an account? Login"})]})})},ax=({tasks:r})=>r.length===0?null:S.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-xs w-full",children:r.map(e=>S.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-3 border-l-4 border-blue-500 flex items-center gap-3 animate-in slide-in-from-right",children:[S.jsx(Yl,{className:"w-4 h-4 text-blue-500 animate-spin"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"text-xs font-semibold dark:text-white",children:e.type}),S.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.name})]})]},e.id))}),ox=({isOpen:r,onClose:e,settings:i,updateSettings:s})=>r?S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[S.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-white",children:"Settings"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"AI Provider"}),S.jsxs("select",{value:i.provider,onChange:l=>s("provider",l.target.value),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[S.jsx("option",{value:"gemini",children:"Google Gemini (Default)"}),S.jsx("option",{value:"openrouter",children:"OpenRouter (OpenAI/Anthropic/Llama)"})]})]}),i.provider==="openrouter"&&S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"OpenRouter Model"}),S.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"e.g. google/gemini-flash-1.5",value:i.model,onChange:l=>s("model",l.target.value)}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Recommended: google/gemini-flash-1.5 or openai/gpt-4o-mini"})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:i.provider==="openrouter"?"OpenRouter API Key":"Custom Gemini API Key"}),S.jsx("input",{type:"password",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:i.provider==="gemini"?"Leave blank to use system default":"Required for OpenRouter",value:i.apiKey,onChange:l=>s("apiKey",l.target.value)}),i.provider==="gemini"&&S.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Only enter a key if you want to override the default free tier key."})]}),S.jsx("div",{className:"flex justify-end gap-2",children:S.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg dark:text-white",children:"Close"})})]})}):null,lx=({user:r,children:e,currentView:i,setCurrentView:s,darkMode:l,toggleDarkMode:u,logOut:d,settings:g,setSettings:p})=>{const[_,T]=ve.useState(!1),[A,x]=ve.useState(!1),G=({view:W,icon:ee,label:ce})=>S.jsxs("button",{onClick:()=>{s(W),T(!1)},className:`flex items-center gap-3 w-full px-4 py-3 rounded-xl transition-all ${i===W?"bg-blue-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[S.jsx(ee,{className:"w-5 h-5"}),S.jsx("span",{className:"font-medium",children:ce})]}),Y=(W,ee)=>{p(ce=>{const ge={...ce,[W]:ee};return W==="provider"&&ee!==ce.provider&&(ge.apiKey=""),ge})};return S.jsxs("div",{className:`min-h-screen ${l?"dark":""}`,children:[S.jsxs("div",{className:"bg-gray-100 dark:bg-gray-900 min-h-screen transition-colors duration-300 flex",children:[S.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white dark:bg-gray-800 z-40 px-4 py-3 flex items-center justify-between shadow-sm",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Nm,{className:"w-6 h-6 text-blue-600"}),S.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"StudyAI"})]}),S.jsx("button",{onClick:()=>T(!_),children:_?S.jsx(_1,{className:"dark:text-white"}):S.jsx(zN,{className:"dark:text-white"})})]}),S.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-30 w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transform transition-transform duration-300 lg:translate-x-0 lg:static
          ${_?"translate-x-0":"-translate-x-full"}
        `,children:S.jsxs("div",{className:"p-6 flex flex-col h-full",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[S.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:S.jsx(Nm,{className:"w-6 h-6 text-white"})}),S.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"StudyAI"})]}),S.jsxs("nav",{className:"space-y-2 flex-1",children:[S.jsx(G,{view:"dashboard",icon:p1,label:"Study Material"}),S.jsx(G,{view:"writing",icon:y1,label:"Writing Practice"}),S.jsx(G,{view:"speaking",icon:xg,label:"Speaking Practice"}),S.jsx(G,{view:"history",icon:kN,label:"History"})]}),S.jsxs("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[S.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-3 w-full px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl",children:[S.jsx($N,{className:"w-5 h-5"})," ",S.jsx("span",{className:"font-medium",children:"Settings"})]}),S.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[S.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Theme"}),S.jsx("button",{onClick:u,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:l?S.jsx(ZN,{className:"w-4 h-4"}):S.jsx(HN,{className:"w-4 h-4"})})]}),S.jsxs("button",{onClick:d,className:"flex items-center gap-3 w-full px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl",children:[S.jsx(LN,{className:"w-5 h-5"})," ",S.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})]})}),S.jsx("main",{className:"flex-1 p-4 lg:p-8 pt-20 lg:pt-8 overflow-y-auto h-screen w-full",children:S.jsx("div",{className:"w-full h-full",children:e})})]}),S.jsx(ox,{isOpen:A,onClose:()=>x(!1),settings:g,updateSettings:Y})]})},ux=({user:r,addToQueue:e,settings:i})=>{const[s,l]=ve.useState([]),[u,d]=ve.useState(null),[g,p]=ve.useState("summary"),[_,T]=ve.useState(!1),[A,x]=ve.useState(!1),[G,Y]=ve.useState(""),[W,ee]=ve.useState([]),[ce,ge]=ve.useState(null),[de,je]=ve.useState({}),[ze,Ce]=ve.useState(null),[N,w]=ve.useState(!1),C=ve.useRef(null);ve.useEffect(()=>{if(!r)return;const B=Tg(Js(Wi,"artifacts",rs,"users",r.uid,"study_materials"),wg("timestamp","desc")),te=m1(B,le=>{l(le.docs.map(Te=>({id:Te.id,...Te.data(),fileData:Te.data().fileData})))});return()=>te()},[r]);const V=async B=>{x(!0);try{const te=await rx(r.uid,B.id,B.fileData);d({...B,fileData:te}),ee([]),ge(null),Ce(null),w(!1),je({}),p("summary")}catch{alert("Error loading document.")}finally{x(!1)}},O=async B=>{const te=B.target.files[0];if(te){T(!0),e({id:Date.now(),type:"Upload",name:te.name});try{const le=new FileReader;le.onload=async Te=>{const M=Te.target.result.split(",")[1],$=await qs('Analyze this document. Return JSON: { "title": "Document Title", "summary": "Brief 2 sentence summary" }',"Output JSON only.",{mimeType:te.type,base64:M},i),ie=Ul($)||{title:te.name,summary:"Analysis failed."};await ix(r.uid,M,{fileName:te.name,mimeType:te.type,title:ie.title,summary:ie.summary,notes:null}),T(!1)},le.readAsDataURL(te)}catch(le){T(!1),alert("Failed to process file: "+le.message)}}},U=async B=>{e({id:Date.now(),type:"AI",name:"Generating Notes"});try{const te=await qs("Generate detailed study notes. Use Markdown. Include definitions, key concepts, and examples.","Expert tutor mode.",{mimeType:B.mimeType,base64:B.fileData},i);await gN(mg(Wi,"artifacts",rs,"users",r.uid,"study_materials",B.id),{notes:te}),d(le=>({...le,notes:te}))}catch(te){alert("AI Error: "+te.message)}},R=()=>{const B=document.getElementById("notes-content").innerHTML,te=window.open("","","height=600,width=800");te.document.write("<html><head><title>Study Notes</title>"),te.document.write("<style>body { font-family: sans-serif; line-height: 1.6; padding: 40px; } h1,h2,h3 { color: #333; } </style>"),te.document.write("</head><body>"),te.document.write(`<h1>${u.title}</h1>`),te.document.write(B),te.document.write("</body></html>"),te.document.close(),te.print()},et=async()=>{e({id:Date.now(),type:"AI",name:"Creating Exam"}),ge(null);try{const te=await qs(`Create a comprehensive exam for this document with 20-25 questions.
      
      Requirements:
      - 10-15 Multiple Choice Questions (topic: Concept/Definition)
      - 5-8 Short Answer Questions (topic: Application)
      - 2-5 Long Answer Questions (topic: Analysis/Critical Thinking)

      Return VALID JSON with this exact structure:
      {
        "questions": [
          { "id": 1, "type": "multiple-choice", "question": "...", "options": ["A", "B", "C", "D"], "maxScore": 2, "topic": "Concept" },
          { "id": 2, "type": "short-answer", "question": "...", "maxScore": 5, "topic": "Application" },
          { "id": 3, "type": "long-answer", "question": "...", "maxScore": 10, "topic": "Analysis" }
        ]
      }
      
      Ensure the JSON is strictly formatted and valid.`,"JSON only. No markdown fences. Ensure large response is not truncated.",{mimeType:u.mimeType,base64:u.fileData},i),le=Ul(te);if(!le||!le.questions||le.questions.length===0)throw new Error("Invalid AI response structure.");ge(le),Ce(null),w(!1),je({})}catch(B){console.error(B),alert("Failed to generate exam. Try again. "+B.message)}},ht=async()=>{if(window.confirm("Submit your exam for grading?")){w(!0),e({id:Date.now(),type:"Grading",name:"Grading Exam..."});try{const B=`Grade this student's exam based on the document.
      
      Exam Questions & Student Answers:
      ${JSON.stringify({questions:ce.questions,answers:de})}

      Return JSON:
      {
        "totalScore": number,
        "maxScore": number,
        "scorePercentage": number,
        "topicPerformance": [
          { "topic": "string", "score": number, "maxScore": number }
        ],
        "feedback": [
          { "questionId": number, "score": number, "feedback": "string", "modelAnswer": "string" }
        ],
        "overallAnalysis": "string"
      }`,te=await qs(B,"Strict Professor Mode. JSON only.",{mimeType:u.mimeType,base64:u.fileData},i),le=Ul(te);if(!le)throw new Error("Grading JSON failed");Ce(le)}catch(B){alert("Grading failed: "+B.message),w(!1)}}},F=async()=>{if(!G.trim())return;const B=G;Y(""),ee(te=>[...te,{role:"user",text:B}]),e({id:Date.now(),type:"Chat",name:"Thinking..."});try{const te=W.map(Te=>`${Te.role}: ${Te.text}`).join(`
`),le=await qs(`Answer based on document. Question: ${B}
History: ${te}`,"Helpful assistant.",{mimeType:u.mimeType,base64:u.fileData},i);ee(Te=>[...Te,{role:"ai",text:le}])}catch(te){ee(le=>[...le,{role:"ai",text:"Error: "+te.message}])}};return A?S.jsx("div",{className:"flex h-full items-center justify-center",children:S.jsx(Yl,{className:"w-12 h-12 animate-spin text-blue-600"})}):u?S.jsxs("div",{className:"flex flex-col h-full w-full",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("button",{onClick:()=>d(null),className:"text-sm text-blue-600 hover:underline",children:" Back"}),S.jsx("div",{className:"flex gap-2",children:["summary","exam","chat"].map(B=>S.jsx("button",{onClick:()=>p(B),className:`px-4 py-1.5 rounded-full text-sm font-medium ${g===B?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 dark:text-gray-300"}`,children:B.charAt(0).toUpperCase()+B.slice(1)},B))})]}),S.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-[calc(100vh-160px)] overflow-hidden",children:[S.jsx("div",{className:"p-4 border-b dark:border-gray-700 bg-gray-50 dark:bg-gray-900 font-bold dark:text-white truncate",children:u.title}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-hide",children:[g==="summary"&&S.jsxs("div",{className:"prose dark:prose-invert max-w-none",children:[S.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl mb-6 border border-blue-100 dark:border-blue-800",children:[S.jsx("h3",{className:"text-sm font-bold text-blue-800 dark:text-blue-200 uppercase mb-2",children:"Summary"}),S.jsx("p",{className:"text-sm dark:text-gray-300",children:u.summary})]}),u.notes?S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Detailed Notes"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("button",{onClick:()=>U(u),className:"flex items-center gap-2 text-sm text-blue-600 hover:bg-blue-50 px-3 py-1.5 rounded",children:[S.jsx(QN,{className:"w-4 h-4"})," Regenerate"]}),S.jsxs("button",{onClick:R,className:"flex items-center gap-2 text-sm text-green-600 hover:bg-green-50 px-3 py-1.5 rounded",children:[S.jsx(NN,{className:"w-4 h-4"})," PDF"]})]})]}),S.jsx("div",{id:"notes-content",className:"whitespace-pre-wrap",children:u.notes})]}):S.jsx("div",{className:"text-center py-20",children:S.jsx("button",{onClick:()=>U(u),className:"bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Generate Notes"})})]}),g==="exam"&&S.jsx("div",{className:"max-w-4xl mx-auto pb-10 w-full",children:ce?ze?S.jsxs("div",{className:"space-y-6 animate-in slide-in-from-bottom w-full",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[S.jsxs("div",{className:"col-span-1 bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-200 dark:border-gray-700 flex flex-col items-center justify-center text-center",children:[S.jsxs("div",{className:"text-5xl font-black text-blue-600 mb-2",children:[ze.totalScore,"/",ze.maxScore]}),S.jsx("div",{className:"text-gray-500 font-medium",children:"Final Score"})]}),S.jsxs("div",{className:"col-span-1 md:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-200 dark:border-gray-700",children:[S.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2 dark:text-white",children:[S.jsx(IN,{className:"w-4 h-4"})," Performance by Topic"]}),S.jsx("div",{className:"space-y-3",children:ze.topicPerformance?.map((B,te)=>S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-sm mb-1 dark:text-gray-300",children:[S.jsx("span",{children:B.topic}),S.jsxs("span",{children:[B.score,"/",B.maxScore]})]}),S.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-blue-500",style:{width:`${B.score/B.maxScore*100}%`}})})]},te))})]})]}),S.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-2xl border border-blue-100 dark:border-blue-800",children:[S.jsx("h4",{className:"font-bold text-blue-900 dark:text-blue-100 mb-2",children:"Overall Analysis"}),S.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:ze.overallAnalysis})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"font-bold text-xl dark:text-white",children:"Detailed Feedback"}),ze.feedback?.map((B,te)=>{const le=ce.questions.find(Te=>Te.id===B.questionId);return S.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl border border-gray-200 dark:border-gray-700",children:[S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white w-3/4",children:le?.question}),S.jsxs("span",{className:`px-2 py-1 rounded text-sm font-bold ${B.score===le?.maxScore?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:[B.score,"/",le?.maxScore]})]}),S.jsxs("div",{className:"space-y-2 text-sm",children:[S.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-900 rounded border border-gray-100 dark:border-gray-700",children:[S.jsx("span",{className:"font-bold text-gray-500 block text-xs uppercase mb-1",children:"Your Answer"}),S.jsx("p",{className:"dark:text-gray-300",children:de[B.questionId]||"(No Answer)"})]}),S.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/10 rounded border border-blue-100 dark:border-blue-900/30",children:[S.jsx("span",{className:"font-bold text-blue-500 block text-xs uppercase mb-1",children:"Feedback"}),S.jsx("p",{className:"text-blue-900 dark:text-blue-200",children:B.feedback})]})]})]},te)})]}),S.jsx("button",{onClick:()=>{ge(null)},className:"w-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white py-3 rounded-xl font-bold",children:"Take New Exam"})]}):S.jsxs("div",{className:"space-y-8 w-full",children:[S.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-xl border border-purple-100 dark:border-purple-800 mb-6",children:[S.jsx("h3",{className:"font-bold text-purple-800 dark:text-purple-200",children:"Exam Mode"}),S.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-300",children:"Complete all questions. Long answers will be graded by AI."})]}),ce.questions?.map(B=>S.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-6 rounded-xl border border-gray-200 dark:border-gray-700 w-full",children:[S.jsxs("div",{className:"flex justify-between mb-4",children:[S.jsx("span",{className:"text-sm font-bold text-blue-600 bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded uppercase",children:B.type}),S.jsxs("span",{className:"text-sm text-gray-500",children:["Max Score: ",B.maxScore]})]}),S.jsx("h3",{className:"font-semibold text-lg mb-4 dark:text-white",children:B.question}),B.type==="multiple-choice"&&S.jsx("div",{className:"space-y-2",children:B.options.map((te,le)=>S.jsx("button",{onClick:()=>je(Te=>({...Te,[B.id]:te})),className:`w-full text-left p-3 rounded-lg border transition-all ${de[B.id]===te?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:te},le))}),(B.type==="short-answer"||B.type==="long-answer")&&S.jsx("textarea",{className:"w-full h-32 p-3 rounded-lg border dark:bg-gray-800 dark:border-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Type your answer here...",value:de[B.id]||"",onChange:te=>je(le=>({...le,[B.id]:te.target.value}))})]},B.id)),S.jsx("button",{onClick:ht,disabled:N,className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-blue-700 disabled:opacity-50",children:N?"Grading...":"Submit Exam"})]}):S.jsxs("div",{className:"text-center py-20",children:[S.jsx(MN,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),S.jsx("p",{className:"text-gray-500 mb-6",children:"Generate a comprehensive exam covering multiple topics."}),S.jsx("button",{onClick:et,className:"bg-purple-600 text-white px-6 py-2 rounded-lg",children:"Create Exam"})]})}),g==="chat"&&S.jsxs("div",{className:"flex flex-col h-full w-full",children:[S.jsxs("div",{className:"flex-1 space-y-4 mb-4",children:[W.length===0&&S.jsx("div",{className:"text-center text-gray-400 mt-10",children:"Ask anything about this document."}),W.map((B,te)=>S.jsx("div",{className:`flex ${B.role==="user"?"justify-end":"justify-start"}`,children:S.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${B.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 dark:text-white rounded-bl-none"}`,children:B.text})},te))]}),S.jsxs("div",{className:"flex gap-2 pt-2",children:[S.jsx("input",{className:"flex-1 bg-gray-100 dark:bg-gray-700 border-0 rounded-xl px-4 py-2 dark:text-white outline-none",placeholder:"Ask a question...",value:G,onChange:B=>Y(B.target.value),onKeyDown:B=>B.key==="Enter"&&F()}),S.jsx("button",{onClick:F,className:"bg-blue-600 text-white p-2 rounded-xl",children:S.jsx(YN,{className:"w-5 h-5"})})]})]})]})]})]}):S.jsxs("div",{className:"space-y-6 w-full",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Library"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"file",ref:C,className:"hidden",accept:".pdf,image/*",onChange:O}),S.jsxs("button",{disabled:_,onClick:()=>C.current.click(),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[_?S.jsx(Yl,{className:"animate-spin w-4 h-4"}):S.jsx(ex,{className:"w-4 h-4"})," Upload"]})]})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(B=>S.jsxs("div",{onClick:()=>V(B),className:"group cursor-pointer bg-white dark:bg-gray-800 p-5 rounded-2xl border border-gray-200 dark:border-gray-700 hover:shadow-lg hover:border-blue-500 transition-all",children:[S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-blue-600 dark:text-blue-300",children:S.jsx(p1,{className:"w-6 h-6"})}),S.jsx("span",{className:"text-xs text-gray-400",children:new Date(B.timestamp?.seconds*1e3).toLocaleDateString()})]}),S.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 line-clamp-1",children:B.title||B.fileName}),S.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2",children:B.summary})]},B.id))})]})},cx=({user:r,addToQueue:e,settings:i})=>{const[s,l]=ve.useState(""),[u,d]=ve.useState(""),[g,p]=ve.useState(null),_=async()=>{if(!(!s||!u)){e({id:Date.now(),type:"Grading",name:"Reviewing Essay..."});try{const T=await qs(`Grade essay "${s}". Content: "${u}". Return JSON: { "score": number, "feedback": "string", "improvements": ["string"] }`,"JSON only.",null,i),A=Ul(T);p(A),await Ig(Js(Wi,"artifacts",rs,"users",r.uid,"practice_history"),{type:"writing",title:s,content:u,score:A.score,feedback:A.feedback,improvements:A.improvements,timestamp:Ng()})}catch(T){alert("Error grading: "+T.message)}}};return S.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Writing Practice"}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("input",{placeholder:"Title",className:"w-full text-lg font-bold px-4 py-3 rounded-xl border dark:bg-gray-800 dark:border-gray-700 dark:text-white",value:s,onChange:T=>l(T.target.value)}),S.jsx("textarea",{placeholder:"Write here...",className:"w-full h-64 px-4 py-4 rounded-xl border dark:bg-gray-800 dark:border-gray-700 dark:text-white resize-none",value:u,onChange:T=>d(T.target.value)}),S.jsx("div",{className:"flex justify-end",children:S.jsx("button",{onClick:_,className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-bold",children:"Submit"})})]}),g&&S.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-sm border-t-4 border-blue-500",children:[S.jsxs("div",{className:"flex justify-between mb-4",children:[S.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Result"}),S.jsxs("div",{className:"text-3xl font-black text-blue-600",children:[g.score,"/100"]})]}),S.jsx("p",{className:"dark:text-gray-300 mb-4",children:g.feedback}),S.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl",children:S.jsx("ul",{className:"list-disc pl-5 dark:text-yellow-200",children:g.improvements?.map((T,A)=>S.jsx("li",{children:T},A))})})]})]})},hx=({user:r,addToQueue:e,settings:i})=>{const[s,l]=ve.useState(!1),[u,d]=ve.useState(""),[g,p]=ve.useState(null),[_,T]=ve.useState(""),A=ve.useMemo(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const Y=window.SpeechRecognition||window.webkitSpeechRecognition,W=new Y;return W.continuous=!0,W.interimResults=!0,W}return null},[]);ve.useEffect(()=>{A&&(A.onresult=Y=>{let W="";for(let ee=Y.resultIndex;ee<Y.results.length;++ee)Y.results[ee].isFinal&&(W+=Y.results[ee][0].transcript);W&&d(ee=>ee+" "+W)})},[A]);const x=()=>{if(!A)return alert("Browser not supported.");s?(A.stop(),l(!1)):(d(""),p(null),A.start(),l(!0))},G=async()=>{if(u){e({id:Date.now(),type:"Grading",name:"Analyzing Speech..."});try{const Y=await qs(`Grade speech on "${_||"General"}". Transcript: "${u}". Return JSON: { "score": number, "feedback": "string", "corrections": ["string"] }`,"JSON only.",null,i),W=Ul(Y);p(W),await Ig(Js(Wi,"artifacts",rs,"users",r.uid,"practice_history"),{type:"speaking",title:_||"Free Talk",content:u,score:W.score,feedback:W.feedback,corrections:W.corrections,timestamp:Ng()})}catch(Y){alert("Error grading: "+Y.message)}}};return S.jsxs("div",{className:"max-w-2xl mx-auto text-center space-y-8",children:[S.jsx("div",{children:S.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Speaking Practice"})}),S.jsx("input",{placeholder:"Topic (Optional)",className:"w-full max-w-md mx-auto px-4 py-2 border rounded-lg dark:bg-gray-800 dark:border-gray-700 dark:text-white text-center",value:_,onChange:Y=>T(Y.target.value)}),S.jsx("button",{onClick:x,className:`w-32 h-32 rounded-full flex items-center justify-center transition-all ${s?"bg-red-500 animate-pulse":"bg-blue-600 shadow-xl"}`,children:S.jsx(xg,{className:"w-12 h-12 text-white"})}),S.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-2xl min-h-[100px] text-left",children:S.jsx("p",{className:"dark:text-gray-200",children:u||"Start recording..."})}),!s&&u&&!g&&S.jsx("button",{onClick:G,className:"bg-green-600 text-white px-8 py-3 rounded-xl font-bold",children:"Analyze"}),g&&S.jsxs("div",{className:"bg-white dark:bg-gray-800 text-left rounded-2xl p-6 shadow-sm border-t-4 border-green-500",children:[S.jsxs("div",{className:"flex justify-between mb-4",children:[S.jsx("h3",{className:"font-bold dark:text-white",children:"Score"}),S.jsxs("div",{className:"text-3xl font-black text-green-600",children:[g.score,"/100"]})]}),S.jsx("p",{className:"dark:text-gray-300",children:g.feedback})]})]})},fx=({user:r})=>{const[e,i]=ve.useState([]),[s,l]=ve.useState(null);return ve.useEffect(()=>{if(!r)return;const u=Tg(Js(Wi,"artifacts",rs,"users",r.uid,"practice_history"),wg("timestamp","desc")),d=m1(u,g=>i(g.docs.map(p=>({id:p.id,...p.data()}))));return()=>d()},[r]),S.jsxs("div",{className:"space-y-6",children:[S.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"History"}),S.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:e.length===0?S.jsx("div",{className:"p-8 text-center text-gray-500",children:"No history yet."}):S.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:e.map(u=>S.jsxs("div",{onClick:()=>l(u),className:"p-4 flex justify-between hover:bg-gray-50 dark:hover:bg-gray-750 cursor-pointer",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${u.type==="writing"?"bg-purple-100 text-purple-600":"bg-green-100 text-green-600"}`,children:u.type==="writing"?S.jsx(y1,{className:"w-5 h-5"}):S.jsx(xg,{className:"w-5 h-5"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold dark:text-white capitalize",children:u.title||"Untitled"}),S.jsx("p",{className:"text-xs text-gray-500",children:new Date(u.timestamp?.seconds*1e3).toLocaleDateString()})]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("span",{className:`font-bold ${u.score>=80?"text-green-500":"text-orange-500"}`,children:[u.score,"/100"]}),S.jsx(DN,{className:"w-5 h-5 text-gray-400"})]})]},u.id))})}),s&&S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[S.jsxs("div",{className:"p-6 border-b dark:border-gray-700 flex justify-between items-center",children:[S.jsx("h2",{className:"text-xl font-bold dark:text-white",children:s.title}),S.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:S.jsx(_1,{className:"w-5 h-5 dark:text-white"})})]}),S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("div",{className:"flex items-center gap-4 bg-gray-50 dark:bg-gray-900 p-4 rounded-xl border dark:border-gray-700",children:[S.jsx("div",{className:"text-4xl font-black text-blue-600",children:s.score}),S.jsx("div",{children:S.jsx("p",{className:"font-bold dark:text-white",children:"Score"})})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold dark:text-white mb-2",children:"Feedback"}),S.jsx("p",{className:"dark:text-gray-300 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl",children:s.feedback})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold dark:text-white mb-2",children:"Content"}),S.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-xl text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap",children:s.content})]})]})]})})]})};function dx(){const[r,e]=ve.useState(null),[i,s]=ve.useState(!0),[l,u]=ve.useState("dashboard"),[d,g]=ve.useState([]),[p,_]=ve.useState(!1),[T,A]=ve.useState(()=>{const Y=localStorage.getItem("study_app_settings");return Y?JSON.parse(Y):{provider:"gemini",apiKey:"",model:"google/gemini-flash-1.5"}});ve.useEffect(()=>{localStorage.setItem("study_app_settings",JSON.stringify(T))},[T]),ve.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token&&await Hw(kl,__initial_auth_token),s(!1)})();const W=Yw(kl,ee=>{e(ee),s(!1)});return()=>W()},[]);const x=Y=>{g(W=>[...W,Y]),setTimeout(()=>g(W=>W.filter(ee=>ee.id!==Y.id)),4e3)},G=()=>_(!p);return i?S.jsx("div",{className:"min-h-screen flex items-center justify-center",children:S.jsx(Yl,{className:"w-8 h-8 animate-spin text-blue-600"})}):r?S.jsxs(lx,{user:r,currentView:l,setCurrentView:u,darkMode:p,toggleDarkMode:G,logOut:()=>Xw(kl),settings:T,setSettings:A,children:[l==="dashboard"&&S.jsx(ux,{user:r,addToQueue:x,settings:T}),l==="writing"&&S.jsx(cx,{user:r,addToQueue:x,settings:T}),l==="speaking"&&S.jsx(hx,{user:r,addToQueue:x,settings:T}),l==="history"&&S.jsx(fx,{user:r}),S.jsx(ax,{tasks:d})]}):S.jsx(sx,{})}sA.createRoot(document.getElementById("root")).render(S.jsx(ve.StrictMode,{children:S.jsx(dx,{})}));
